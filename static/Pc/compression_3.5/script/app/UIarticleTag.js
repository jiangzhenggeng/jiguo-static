define(["require","jquery"],function(a,b){function c(){return"id-"+Math.random().toString().replace(".")+ +(new Date)}return{init:function(a,d){var a=b(a);if(!a.length)return;if(a.attr("data-initialize")=="yes")return;var e=c();a.on("click",".create-tag",function(){b(this).before('<label id="'+e+'" class="radio-tag checked"><input type="text"></label>'),b(this).hide().find(".radio-tag input[type=text]").focus()}),a.on("blur",".radio-tag input[type=text]",function(){if(b(this).val().toString().trim()=="")return;b(this).parent().next(".create-tag").show();var a='<i class="icon icon-article-badge"></i><input type="checkbox" name="'+d+'" checked value="'+b(this).val()+'">'+b(this).val();b(this).replaceWith(a)}),a.on("click",".radio-tag",function(a){a.preventDefault(),b(this).hasClass("checked")&&b(this).find("input[type=checkbox]").prop("checked")?(b(this).removeClass("checked"),b(this).find("input[type=checkbox]").prop("checked",!1)):(b(this).addClass("checked"),b(this).find("input[type=checkbox]").prop("checked",!0))}),a.attr("data-initialize","yes")}}})