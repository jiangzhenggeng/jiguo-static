define(["jquery"],function(a){function b(b){function e(c){var d=a(c).closest(b),e=d.width(),f=d.find("ul"),g=f.width(),h=Math.abs(parseInt(f.css("marginLeft")));return{wrapW:e,boxW:g,left:h}}var b=b||".top-list-box",c=4,d=a(b);d.each(function(){var d=a(this).find("ul"),f=d.find("li"),g=f.outerWidth(!0),h=f.outerWidth(),i=g*c,j=f.length,k=g-h;j>c?d.css({width:g*j}):(d.css({width:"100%"}),a(this).find(".prev-btn").hide(),a(this).find(".next-btn").hide()),a(this).find(".next-btn").click(function(){var c=this,d=e(this),f=a(this).siblings(".prev-btn"),g=a(this).closest(b).find("ul");if(d.boxW-d.wrapW-k<=d.left||g.is(":animated"))return;if(d.left+i+d.wrapW>d.boxW)var h=d.boxW-d.wrapW-d.left-k;else var h=i;g.animate({marginLeft:"-="+h},"slow",function(){var b=e(c);b.boxW-b.wrapW-k<=b.left&&a(c).hide(),b.left>0&&f.show()})}),a(this).find(".prev-btn").click(function(){var c=this,d=e(this),f=a(this).siblings(".next-btn"),g=a(this).closest(b).find("ul");if(d.left<=0||g.is(":animated"))return;if(d.left-i<0)var h=d.left;else var h=i;g.animate({marginLeft:"+="+h},"slow",function(){var b=e(c);b.left<=0&&a(c).hide(),b.boxW-b.wrapW>b.left&&f.show()})})})}return{initSlide:b}})