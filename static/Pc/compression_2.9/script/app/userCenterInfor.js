define(["jquery","app/upload","laydate","layer","app/provinceArea"],function(a,b,c,d,e){d.ready(),a(function(){var b=a("#hideUploadIframe"),f=a("#hideUploadInputFile"),g=a("#blogFormCover"),h=g.find("#icon-img"),i=h.attr("src");f.change(function(){i=h.attr("src"),h.attr("class","loading icon-img").attr("src",require.toUrl("../style/ext_img/loading-icon.gif")),g.submit()}),b.load(function(){var a=(this.contentDocument||this.contentWindow.document).body,b=a.innerText||a.textContent||"{}",c={};try{c=(new Function("return "+b))()}catch(e){h.removeClass("loading").attr("src",i),d.alert("上传失败,请重新试试");return}if(!("url"in c.result)){d.alert("没有url");return}var f=new Image,g="?time="+ +~(new Date);f.onload=function(){h.attr("class","success").attr("src",c.result.url+g)},f.src=c.result.url+g}),c({elem:"#birthday",event:"focus"}),e.init({province:"#province",city:"#city"}),a(".label-radio-cell").on("click",".label-radio",function(){a(this).parent().find("[checked],.checked,.icon-checked").removeClass("checked").removeClass("icon-checked").find("input[type=radio]").prop("checked",!1),a(this).addClass("checked").find("input[type=radio]").prop("checked",!0),a(this).find(".icon-radio").addClass("icon-checked")}),a("#submit-data").click(function(){d.msg("数据提交中",{time:99999999}),a.post("/api/user/EditUserInfo",a("#formData").serialize(),function(a){d.closeAll();if(a.resultCode!=0){d.msg(a.errorMsg);return}d.msg("修改成功",{},function(){window.location.reload()})},"json")})})})