define(["jquery","app/tplEngine","lib/jquery.easing"],function(a,b){return{init:function(){var c='<% for(var i in data){ %><li><a href="/mb/event/index/<%=data[i].eventid%>.html" class="announcement-item"><span class="announcement-event-name"><%=data[i].play_name%></span><span class="username"><%=data[i].username%></span><%=data[i].content%></a></li><% } %>',d=b.init(c),e=a(".announcement-main"),f=a("#ajax-loading-announcement-box");a.get("/api/event/getBulletins",function(a){if(a.resultCode==0){e.show();var b=d({data:a.result});f.html(b+b);var c=f.find("li"),g=c.length/2,h=c.first().height(),i=0,j=function(){c.removeClass("on").eq(i).addClass("on"),f.animate({marginTop:-i*h},"easeOutQuad",function(){i>=g&&(i=0,f.css("margin-top",0)),i++}),setTimeout(function(){j()},4e3)};j()}},"json")}}})