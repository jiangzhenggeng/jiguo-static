define(["require","jquery"],function(a,b){function c(a){this.options=b.extend({tplFn:"",intDiff:60,callback:function(){},dom:null,runing:function(){}},a),this.options.dom=b(this.options.dom);var d=0,e=0,f=0,g=0,a=this.options;c.prototype.run=function(){d=0,e=0,f=0,g=0,a=this.options,a.intDiff--,a.intDiff>0&&(d=Math.floor(a.intDiff/86400),e=Math.floor(a.intDiff/3600)-d*24,f=Math.floor(a.intDiff/60)-d*24*60-e*60,g=Math.floor(a.intDiff)-d*24*60*60-e*60*60-f*60),f<=9&&(f="0"+f),g<=9&&(g="0"+g);if(typeof a.tplFn=="function")a.tplFn(d,e,f,g,a.intDiff);else{var b=(d>0?d+"天":"")+(e>0?e+"时":"")+f+"分"+g+"秒";a.dom.html(b)}if(a.intDiff<=0){clearInterval(h),a.callback();return}var c=this,h=setTimeout(function(){c.run()},1e3)},c.prototype.timeDown=function(){d=0,e=0,f=0,g=0,a=this.options,a.time=a.intDiff-Math.floor(Date.parse(new Date)/1e3),a.time>0&&(d=Math.floor(a.time/86400),e=Math.floor(a.time/3600)-d*24,f=Math.floor(a.time/60)-d*24*60-e*60,g=Math.floor(a.time)-d*24*60*60-e*60*60-f*60),f<=9&&(f="0"+f),g<=9&&(g="0"+g);if(typeof a.tplFn=="function")a.tplFn(d,e,f,g,a.intDiff);else{var b=(d>0?d+"天":"")+(e>0?e+"时":"")+f+"分"+g+"秒";a.dom.html(b)}if(a.time<=0){clearInterval(h),a.callback();return}a.runing({time:a.time});var c=this,h=setTimeout(function(){c.timeDown()},1e3)}}return{run:function(a){var b=new c(a);b.run()},timeDown:function(a){var b=new c(a);b.timeDown()}}})