define(["jquery","global.fun","app/login"],function(a,b,c){return{praise:function(){var b;a("[data-article-zan]").click(function(){if(b)return!1;b=!0;var d=a(this).find("o"),e=d.html();if(!window.URL.login){c.login();return}var f=a(this);if(f.find(".icon").hasClass("on"))return;a.get("/api/praise/praise",{id_value:blogid,status:"0",type:"2"},function(g){if(g.resultCode==-100){c.login();return}if(g.resultCode==0){b=!1,f.find(".icon").addClass("on animate"),e==""&&(e=0),e=parseInt(e),setTimeout(function(){f.find(".icon").removeClass("animate")},2e3),d.html(e+1),a("#praise-list-box").removeClass("none");var h=""+g.result.avatar+"/230x230",i="<li><img src="+h+"></li>",j=a("#praise-list");j.find("li").length?j.find("li").first().before(i):j.append(i)}},"json")})},like:function(){var b;a("[data-article-like]").click(function(){if(b)return!1;b=!0;if(!window.URL.login){c.login();return}var d=a(this);a.get("/api/praise/praise",{id_value:blogid,status:"0",type:"4"},function(a){if(a.resultCode==-100){c.login();return}a.resultCode==0&&(b=!1,a.result.zan==1?(d.find(".icon").addClass("on animate"),setTimeout(function(){d.find(".icon").removeClass("animate")},2e3)):d.find(".icon").removeClass("on animate"))},"json")})}}})