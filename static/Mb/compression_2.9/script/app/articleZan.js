define(["jquery","global.fun","app/login"],function(a,b,c){return{praise:function(){a("[data-article-zan]").click(function(){if(!window.URL.login){c.login();return}var b=a(this);if(b.find(".icon").hasClass("on"))return;a.get("/api/praise/praise",{id_value:blogid,status:"0",type:"2"},function(d){if(d.resultCode==-100){c.login();return}if(d.resultCode==0){b.find(".icon").addClass("on animate");var e=parseInt(a("[data-praise-num]").html())||0;a("[data-praise-num]").html(e+1),setTimeout(function(){b.find(".icon").removeClass("animate")},2e3),a("#praise-list-box").removeClass("none");var f=""+d.result.avatar+"/230x230",g="<li><img src="+f+"></li>",h=a("#praise-list");h.find("li").length?h.find("li").first().before(g):h.append(g)}},"json")})},like:function(){a("[data-article-like]").click(function(){if(!window.URL.login){c.login();return}var b=a(this);a.get("/api/praise/praise",{id_value:blogid,status:"0",type:"4"},function(a){if(a.resultCode==-100){c.login();return}a.resultCode==0&&(a.result.zan==1?(b.find(".icon").addClass("on animate"),setTimeout(function(){b.find(".icon").removeClass("animate")},2e3)):b.find(".icon").removeClass("on animate"))},"json")})}}})