define(["jquery","global.fun"],function(a,b){function c(a,b){var c=null;for(var d=0,e=window.cssPrifx.length;d<e;d++){c=a.css(window.cssPrifx[d]+b);if(c)return a.css(window.cssPrifx[d]+b)}}function d(a,b,c){for(var d=0,e=window.cssPrifx.length;d<e;d++)a.css(window.cssPrifx[d]+b,c)}function e(){event.preventDefault()}return window.cssPrifx=["","-webkit-","-o-","-moz-","-ms-"],{init:function(){function b(){d(k,"transition","all 0.3s")}function c(){d(k,"transition","none")}function e(a){d(k,"transform","translate3d(0px, "+a+"px, 0px)")}var f=a("#side-menu"),g=f.find(".menu-inner"),h=g.width(),i=f.find(".mask");a("[data-show-menue]").on("click",function(b){b.preventDefault(),f.addClass("show"),f.css("zIndex",99),a("body").on("touchmove",function(a){a.preventDefault()}),d(g,"transform","translate3d(100%, 0px, 0px)  translateZ(0px)")}),f.find(".mask").on("click touchmove",function(b){b.preventDefault(),f.removeClass("show"),setTimeout(function(){f.css("zIndex",-1)},400),d(g,"transform","translate3d(0px, 0px, 0px)  translateZ(0px)"),a("body").off("touchmove")});var j=a(".swipe"),k=j.find("ul"),l=j.height()-80,m=k.height(),n=0,o=l-m,p=0,q=150,r=o-q,s=n+q,t=0,u=0,v=0;o<0&&(k.on("touchstart",function(a){t=a.originalEvent.targetTouches[0].clientY}),k.on("touchmove",function(a){u=a.originalEvent.targetTouches[0].clientY,v=u-t,c(),p+v<s&&p+v>r&&e(p+v)}),k.on("touchend",function(a){p+v>n?(p=n,b(),e(p)):p+v<o?(p=o,b(),e(p)):p+=v,t=0,u=0,v=0}))}}})