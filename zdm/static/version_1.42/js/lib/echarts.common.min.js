!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.echarts={})}(this,function(a){function b(a,b){Hn[a]=b}function c(a){if(null==a||"object"!=typeof a)return a;var b=a,d=An.call(a);if("[object Array]"===d){b=[];for(var e=0,f=a.length;e<f;e++)b[e]=c(a[e])}else if(zn[d]){var g=a.constructor;if(a.constructor.from)b=g.from(a);else{b=new g(a.length);for(var e=0,f=a.length;e<f;e++)b[e]=c(a[e])}}else if(!yn[d]&&!G(a)&&!x(a)){b={};for(var h in a)a.hasOwnProperty(h)&&(b[h]=c(a[h]))}return b}function d(a,b,e){if(!v(b)||!v(a))return e?c(b):a;for(var f in b)if(b.hasOwnProperty(f)){var g=a[f],h=b[f];!v(h)||!v(g)||s(h)||s(g)||x(h)||x(g)||w(h)||w(g)||G(h)||G(g)?!e&&f in a||(a[f]=c(b[f],!0)):d(g,h,e)}return a}function e(a,b){for(var c=a[0],e=1,f=a.length;e<f;e++)c=d(c,a[e],b);return c}function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function g(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c?null!=b[d]:null==a[d])&&(a[d]=b[d]);return a}function h(){return Jn||(Jn=In().getContext("2d")),Jn}function i(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c}return-1}function j(a,b){function c(){}var d=a.prototype;c.prototype=b.prototype,a.prototype=new c;for(var e in d)a.prototype[e]=d[e];a.prototype.constructor=a,a.superClass=b}function k(a,b,c){g(a="prototype"in a?a.prototype:a,b="prototype"in b?b.prototype:b,c)}function l(a){if(a)return"string"!=typeof a&&"number"==typeof a.length}function m(a,b,c){if(a&&b)if(a.forEach&&a.forEach===Cn)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a);else for(var f in a)a.hasOwnProperty(f)&&b.call(c,a[f],f,a)}function n(a,b,c){if(a&&b){if(a.map&&a.map===Fn)return a.map(b,c);for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e,a));return d}}function o(a,b,c,d){if(a&&b){if(a.reduce&&a.reduce===Gn)return a.reduce(b,c,d);for(var e=0,f=a.length;e<f;e++)c=b.call(d,c,a[e],e,a);return c}}function p(a,b,c){if(a&&b){if(a.filter&&a.filter===Dn)return a.filter(b,c);for(var d=[],e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}}function q(a,b){var c=En.call(arguments,2);return function(){return a.apply(b,c.concat(En.call(arguments)))}}function r(a){var b=En.call(arguments,1);return function(){return a.apply(this,b.concat(En.call(arguments)))}}function s(a){return"[object Array]"===An.call(a)}function t(a){return"function"==typeof a}function u(a){return"[object String]"===An.call(a)}function v(a){var b=typeof a;return"function"===b||!!a&&"object"==b}function w(a){return!!yn[An.call(a)]}function x(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function y(a){return a!==a}function z(a){for(var b=0,c=arguments.length;b<c;b++)if(null!=arguments[b])return arguments[b]}function A(a,b){return null!=a?a:b}function B(a,b,c){return null!=a?a:null!=b?b:c}function C(){return Function.call.apply(En,arguments)}function D(a){if("number"==typeof a)return[a,a,a,a];var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function E(a,b){if(!a)throw new Error(b)}function F(a){a[Kn]=!0}function G(a){return a[Kn]}function H(a){a&&m(a,function(a,b){this.set(b,a)},this)}function I(a){return new H(a)}function J(){}function K(a,b){var c=new Mn(2);return null==a&&(a=0),null==b&&(b=0),c[0]=a,c[1]=b,c}function L(a,b){return a[0]=b[0],a[1]=b[1],a}function M(a){var b=new Mn(2);return b[0]=a[0],b[1]=a[1],b}function N(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function O(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function P(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function Q(a){return Math.sqrt(R(a))}function R(a){return a[0]*a[0]+a[1]*a[1]}function S(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function T(a,b){var c=Q(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a}function U(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function V(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function W(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a}function X(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function Y(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}function Z(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function $(a,b){return{target:a,topTarget:b&&b.topTarget}}function _(a,b,c){return{type:a,event:c,target:b.target,topTarget:b.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which}}function ab(){}function bb(a,b,c){if(a[a.rectHover?"rectContain":"contain"](b,c)){for(var d,e=a;e;){if(e.clipPath&&!e.clipPath.contain(b,c))return!1;e.silent&&(d=!0),e=e.parent}return!d||Un}return!1}function cb(){var a=new Xn(6);return db(a),a}function db(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function eb(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function fb(a,b,c){var d=b[0]*c[0]+b[2]*c[1],e=b[1]*c[0]+b[3]*c[1],f=b[0]*c[2]+b[2]*c[3],g=b[1]*c[2]+b[3]*c[3],h=b[0]*c[4]+b[2]*c[5]+b[4],i=b[1]*c[4]+b[3]*c[5]+b[5];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a}function gb(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}function hb(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+g*j,a[1]=-d*j+g*k,a[2]=e*k+h*j,a[3]=-e*j+k*h,a[4]=k*f+j*i,a[5]=k*i-j*f,a}function ib(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a}function jb(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],h=b[5],i=c*g-f*d;return i?(i=1/i,a[0]=g*i,a[1]=-f*i,a[2]=-d*i,a[3]=c*i,a[4]=(d*h-g*e)*i,a[5]=(f*e-c*h)*i,a):null}function kb(a){return a>$n||a<-$n}function lb(a){this._target=a.target,this._life=a.life||1e3,this._delay=a.delay||0,this._initialized=!1,this.loop=null!=a.loop&&a.loop,this.gap=a.gap||0,this.easing=a.easing||"Linear",this.onframe=a.onframe,this.ondestroy=a.ondestroy,this.onrestart=a.onrestart,this._pausedTime=0,this._paused=!1}function mb(a){return(a=Math.round(a))<0?0:a>255?255:a}function nb(a){return(a=Math.round(a))<0?0:a>360?360:a}function ob(a){return a<0?0:a>1?1:a}function pb(a){return mb(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100*255:parseInt(a,10))}function qb(a){return ob(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100:parseFloat(a))}function rb(a,b,c){return c<0?c+=1:c>1&&(c-=1),6*c<1?a+(b-a)*c*6:2*c<1?b:3*c<2?a+(b-a)*(2/3-c)*6:a}function sb(a,b,c){return a+(b-a)*c}function tb(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function ub(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function vb(a,b){lo&&ub(lo,b),lo=ko.put(a,lo||b.slice())}function wb(a,b){if(a){b=b||[];var c=ko.get(a);if(c)return ub(b,c);var d=(a+="").replace(/ /g,"").toLowerCase();if(d in jo)return ub(b,jo[d]),vb(a,b),b;if("#"!==d.charAt(0)){var e=d.indexOf("("),f=d.indexOf(")");if(-1!==e&&f+1===d.length){var g=d.substr(0,e),h=d.substr(e+1,f-(e+1)).split(","),i=1;switch(g){case"rgba":if(4!==h.length)return void tb(b,0,0,0,1);i=qb(h.pop());case"rgb":return 3!==h.length?void tb(b,0,0,0,1):(tb(b,pb(h[0]),pb(h[1]),pb(h[2]),i),vb(a,b),b);case"hsla":return 4!==h.length?void tb(b,0,0,0,1):(h[3]=qb(h[3]),xb(h,b),vb(a,b),b);case"hsl":return 3!==h.length?void tb(b,0,0,0,1):(xb(h,b),vb(a,b),b);default:return}}tb(b,0,0,0,1)}else{if(4===d.length)return(j=parseInt(d.substr(1),16))>=0&&j<=4095?(tb(b,(3840&j)>>4|(3840&j)>>8,240&j|(240&j)>>4,15&j|(15&j)<<4,1),vb(a,b),b):void tb(b,0,0,0,1);if(7===d.length){var j=parseInt(d.substr(1),16);return j>=0&&j<=16777215?(tb(b,(16711680&j)>>16,(65280&j)>>8,255&j,1),vb(a,b),b):void tb(b,0,0,0,1)}}}}function xb(a,b){var c=(parseFloat(a[0])%360+360)%360/360,d=qb(a[1]),e=qb(a[2]),f=e<=.5?e*(d+1):e+d-e*d,g=2*e-f;return b=b||[],tb(b,mb(255*rb(g,f,c+1/3)),mb(255*rb(g,f,c)),mb(255*rb(g,f,c-1/3)),1),4===a.length&&(b[3]=a[3]),b}function yb(a){if(a){var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=Math.min(d,e,f),h=Math.max(d,e,f),i=h-g,j=(h+g)/2;if(0===i)b=0,c=0;else{c=j<.5?i/(h+g):i/(2-h-g);var k=((h-d)/6+i/2)/i,l=((h-e)/6+i/2)/i,m=((h-f)/6+i/2)/i;d===h?b=m-l:e===h?b=1/3+k-m:f===h&&(b=2/3+l-k),b<0&&(b+=1),b>1&&(b-=1)}var n=[360*b,c,j];return null!=a[3]&&n.push(a[3]),n}}function zb(a,b){var c=wb(a);if(c){for(var d=0;d<3;d++)c[d]=b<0?c[d]*(1-b)|0:(255-c[d])*b+c[d]|0;return Eb(c,4===c.length?"rgba":"rgb")}}function Ab(a){var b=wb(a);if(b)return((1<<24)+(b[0]<<16)+(b[1]<<8)+ +b[2]).toString(16).slice(1)}function Bb(a,b,c){if(b&&b.length&&a>=0&&a<=1){c=c||[];var d=a*(b.length-1),e=Math.floor(d),f=Math.ceil(d),g=b[e],h=b[f],i=d-e;return c[0]=mb(sb(g[0],h[0],i)),c[1]=mb(sb(g[1],h[1],i)),c[2]=mb(sb(g[2],h[2],i)),c[3]=ob(sb(g[3],h[3],i)),c}}function Cb(a,b,c){if(b&&b.length&&a>=0&&a<=1){var d=a*(b.length-1),e=Math.floor(d),f=Math.ceil(d),g=wb(b[e]),h=wb(b[f]),i=d-e,j=Eb([mb(sb(g[0],h[0],i)),mb(sb(g[1],h[1],i)),mb(sb(g[2],h[2],i)),ob(sb(g[3],h[3],i))],"rgba");return c?{color:j,leftIndex:e,rightIndex:f,value:d}:j}}function Db(a,b){if((a=wb(a))&&null!=b)return a[3]=ob(b),Eb(a,"rgba")}function Eb(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];return"rgba"!==b&&"hsva"!==b&&"hsla"!==b||(c+=","+a[3]),b+"("+c+")"}}function Fb(a,b){return a[b]}function Gb(a,b,c){a[b]=c}function Hb(a,b,c){return(b-a)*c+a}function Ib(a,b,c){return c>.5?b:a}function Jb(a,b,c,d,e){var f=a.length;if(1==e)for(h=0;h<f;h++)d[h]=Hb(a[h],b[h],c);else for(var g=f&&a[0].length,h=0;h<f;h++)for(var i=0;i<g;i++)d[h][i]=Hb(a[h][i],b[h][i],c)}function Kb(a,b,c){var d=a.length,e=b.length;if(d!==e)if(d>e)a.length=e;else for(g=d;g<e;g++)a.push(1===c?b[g]:po.call(b[g]));for(var f=a[0]&&a[0].length,g=0;g<a.length;g++)if(1===c)isNaN(a[g])&&(a[g]=b[g]);else for(var h=0;h<f;h++)isNaN(a[g][h])&&(a[g][h]=b[g][h])}function Lb(a,b,c){if(a===b)return!0;var d=a.length;if(d!==b.length)return!1;if(1===c){for(f=0;f<d;f++)if(a[f]!==b[f])return!1}else for(var e=a[0].length,f=0;f<d;f++)for(var g=0;g<e;g++)if(a[f][g]!==b[f][g])return!1;return!0}function Mb(a,b,c,d,e,f,g,h,i){var j=a.length;if(1==i)for(l=0;l<j;l++)h[l]=Nb(a[l],b[l],c[l],d[l],e,f,g);else for(var k=a[0].length,l=0;l<j;l++)for(var m=0;m<k;m++)h[l][m]=Nb(a[l][m],b[l][m],c[l][m],d[l][m],e,f,g)}function Nb(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}function Ob(a){if(l(a)){var b=a.length;if(l(a[0])){for(var c=[],d=0;d<b;d++)c.push(po.call(a[d]));return c}return po.call(a)}return a}function Pb(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}function Qb(a){var b=a[a.length-1].value;return l(b&&b[0])?2:1}function Rb(a,b,c,d,e,f){var g=a._getter,h=a._setter,i="spline"===b,j=d.length;if(j){var k,m=l(d[0].value),n=!1,o=!1,p=m?Qb(d):0;d.sort(function(a,b){return a.time-b.time}),k=d[j-1].time;for(var q=[],r=[],s=d[0].value,t=!0,u=0;u<j;u++){q.push(d[u].time/k);var v=d[u].value;if(m&&Lb(v,s,p)||!m&&v===s||(t=!1),s=v,"string"==typeof v){var w=wb(v);w?(v=w,n=!0):o=!0}r.push(v)}if(f||!t){for(var x=r[j-1],u=0;u<j-1;u++)m?Kb(r[u],x,p):!isNaN(r[u])||isNaN(x)||o||n||(r[u]=x);m&&Kb(g(a._target,e),x,p);var y,z,A,B,C,D,E=0,F=0;if(n)var G=[0,0,0,0];var H=new lb({target:a._target,life:k,loop:a._loop,delay:a._delay,onframe:function(a,b){var c;if(b<0)c=0;else if(b<F){for(c=y=Math.min(E+1,j-1);c>=0&&!(q[c]<=b);c--);c=Math.min(c,j-2)}else{for(c=E;c<j&&!(q[c]>b);c++);c=Math.min(c-1,j-2)}E=c,F=b;var d=q[c+1]-q[c];if(0!==d)if(z=(b-q[c])/d,i)if(B=r[c],A=r[0===c?c:c-1],C=r[c>j-2?j-1:c+1],D=r[c>j-3?j-1:c+2],m)Mb(A,B,C,D,z,z*z,z*z*z,g(a,e),p);else{if(n)f=Mb(A,B,C,D,z,z*z,z*z*z,G,1),f=Pb(G);else{if(o)return Ib(B,C,z);f=Nb(A,B,C,D,z,z*z,z*z*z)}h(a,e,f)}else if(m)Jb(r[c],r[c+1],z,g(a,e),p);else{var f;if(n)Jb(r[c],r[c+1],z,G,1),f=Pb(G);else{if(o)return Ib(r[c],r[c+1],z);f=Hb(r[c],r[c+1],z)}h(a,e,f)}},ondestroy:c});return b&&"spline"!==b&&(H.easing=b),H}}}function Sb(a,b,c,d){c<0&&(a+=c,c=-c),d<0&&(b+=d,d=-d),this.x=a,this.y=b,this.width=c,this.height=d}function Tb(a){for(var b=0;a>=Bo;)b|=1&a,a>>=1;return a+b}function Ub(a,b,c,d){var e=b+1;if(e===c)return 1;if(d(a[e++],a[b])<0){for(;e<c&&d(a[e],a[e-1])<0;)e++;Vb(a,b,e)}else for(;e<c&&d(a[e],a[e-1])>=0;)e++;return e-b}function Vb(a,b,c){for(c--;b<c;){var d=a[b];a[b++]=a[c],a[c--]=d}}function Wb(a,b,c,d,e){for(d===b&&d++;d<c;d++){for(var f,g=a[d],h=b,i=d;h<i;)e(g,a[f=h+i>>>1])<0?i=f:h=f+1;var j=d-h;switch(j){case 3:a[h+3]=a[h+2];case 2:a[h+2]=a[h+1];case 1:a[h+1]=a[h];break;default:for(;j>0;)a[h+j]=a[h+j-1],j--}a[h]=g}}function Xb(a,b,c,d,e,f){var g=0,h=0,i=1;if(f(a,b[c+e])>0){for(h=d-e;i<h&&f(a,b[c+e+i])>0;)g=i,(i=1+(i<<1))<=0&&(i=h);i>h&&(i=h),g+=e,i+=e}else{for(h=e+1;i<h&&f(a,b[c+e-i])<=0;)g=i,(i=1+(i<<1))<=0&&(i=h);i>h&&(i=h);var j=g;g=e-i,i=e-j}for(g++;g<i;){var k=g+(i-g>>>1);f(a,b[c+k])>0?g=k+1:i=k}return i}function Yb(a,b,c,d,e,f){var g=0,h=0,i=1;if(f(a,b[c+e])<0){for(h=e+1;i<h&&f(a,b[c+e-i])<0;)g=i,(i=1+(i<<1))<=0&&(i=h);i>h&&(i=h);var j=g;g=e-i,i=e-j}else{for(h=d-e;i<h&&f(a,b[c+e+i])>=0;)g=i,(i=1+(i<<1))<=0&&(i=h);i>h&&(i=h),g+=e,i+=e}for(g++;g<i;){var k=g+(i-g>>>1);f(a,b[c+k])<0?i=k:g=k+1}return i}function Zb(a,b){function c(c){var h=f[c],j=g[c],k=f[c+1],l=g[c+1];g[c]=j+l,c===i-3&&(f[c+1]=f[c+2],g[c+1]=g[c+2]),i--;var m=Yb(a[k],a,h,j,0,b);h+=m,0!==(j-=m)&&0!==(l=Xb(a[h+j-1],a,k,l,l-1,b))&&(j<=l?d(h,j,k,l):e(h,j,k,l))}function d(c,d,e,f){var g=0;for(g=0;g<d;g++)j[g]=a[c+g];var i=0,k=e,l=c;if(a[l++]=a[k++],0!=--f)if(1!==d){for(var m,n,o,p=h;;){m=0,n=0,o=!1;do if(b(a[k],j[i])<0){if(a[l++]=a[k++],n++,m=0,0==--f){o=!0;break}}else if(a[l++]=j[i++],m++,n=0,1==--d){o=!0;break}while((m|n)<p);if(o)break;do{if(0!==(m=Yb(a[k],j,i,d,0,b))){for(g=0;g<m;g++)a[l+g]=j[i+g];if(l+=m,i+=m,(d-=m)<=1){o=!0;break}}if(a[l++]=a[k++],0==--f){o=!0;break}if(0!==(n=Xb(j[i],a,k,f,0,b))){for(g=0;g<n;g++)a[l+g]=a[k+g];if(l+=n,k+=n,0===(f-=n)){o=!0;break}}if(a[l++]=j[i++],1==--d){o=!0;break}p--}while(m>=Co||n>=Co);if(o)break;p<0&&(p=0),p+=2}if((h=p)<1&&(h=1),1===d){for(g=0;g<f;g++)a[l+g]=a[k+g];a[l+f]=j[i]}else{if(0===d)throw new Error;for(g=0;g<d;g++)a[l+g]=j[i+g]}}else{for(g=0;g<f;g++)a[l+g]=a[k+g];a[l+f]=j[i]}else for(g=0;g<d;g++)a[l+g]=j[i+g]}function e(c,d,e,f){var g=0;for(g=0;g<f;g++)j[g]=a[e+g];var i=c+d-1,k=f-1,l=e+f-1,m=0,n=0;if(a[l--]=a[i--],0!=--d)if(1!==f){for(var o=h;;){var p=0,q=0,r=!1;do if(b(j[k],a[i])<0){if(a[l--]=a[i--],p++,q=0,0==--d){r=!0;break}}else if(a[l--]=j[k--],q++,p=0,1==--f){r=!0;break}while((p|q)<o);if(r)break;do{if(0!=(p=d-Yb(j[k],a,c,d,d-1,b))){for(d-=p,n=(l-=p)+1,m=(i-=p)+1,g=p-1;g>=0;g--)a[n+g]=a[m+g];if(0===d){r=!0;break}}if(a[l--]=j[k--],1==--f){r=!0;break}if(0!=(q=f-Xb(a[i],j,0,f,f-1,b))){for(f-=q,n=(l-=q)+1,m=(k-=q)+1,g=0;g<q;g++)a[n+g]=j[m+g];if(f<=1){r=!0;break}}if(a[l--]=a[i--],0==--d){r=!0;break}o--}while(p>=Co||q>=Co);if(r)break;o<0&&(o=0),o+=2}if((h=o)<1&&(h=1),1===f){for(n=(l-=d)+1,m=(i-=d)+1,g=d-1;g>=0;g--)a[n+g]=a[m+g];a[l]=j[k]}else{if(0===f)throw new Error;for(m=l-(f-1),g=0;g<f;g++)a[m+g]=j[g]}}else{for(n=(l-=d)+1,m=(i-=d)+1,g=d-1;g>=0;g--)a[n+g]=a[m+g];a[l]=j[k]}else for(m=l-(f-1),g=0;g<f;g++)a[m+g]=j[g]}var f,g,h=Co,i=0,j=[];f=[],g=[],this.mergeRuns=function(){for(;i>1;){var a=i-2;if(a>=1&&g[a-1]<=g[a]+g[a+1]||a>=2&&g[a-2]<=g[a]+g[a-1])g[a-1]<g[a+1]&&a--;else if(g[a]>g[a+1])break;c(a)}},this.forceMergeRuns=function(){for(;i>1;){var a=i-2;a>0&&g[a-1]<g[a+1]&&a--,c(a)}},this.pushRun=function(a,b){f[i]=a,g[i]=b,i+=1}}function $b(a,b,c,d){c||(c=0),d||(d=a.length);var e=d-c;if(!(e<2)){var f=0;if(e<Bo)return f=Ub(a,c,d,b),void Wb(a,c,d,c+f,b);var g=new Zb(a,b),h=Tb(e);do{if((f=Ub(a,c,d,b))<h){var i=e;i>h&&(i=h),Wb(a,c,c+i,c+f,b),f=i}g.pushRun(c,f),g.mergeRuns(),e-=f,c+=f}while(0!==e);g.forceMergeRuns()}}function _b(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function ac(a,b,c){var d=null==b.x?0:b.x,e=null==b.x2?1:b.x2,f=null==b.y?0:b.y,g=null==b.y2?0:b.y2;return b.global||(d=d*c.width+c.x,e=e*c.width+c.x,f=f*c.height+c.y,g=g*c.height+c.y),a.createLinearGradient(d,f,e,g)}function bc(a,b,c){var d=c.width,e=c.height,f=Math.min(d,e),g=null==b.x?.5:b.x,h=null==b.y?.5:b.y,i=null==b.r?.5:b.r;return b.global||(g=g*d+c.x,h=h*e+c.y,i*=f),a.createRadialGradient(g,h,0,g,h,i)}function cc(){return!1}function dc(a,b,c){var d=In(),e=b.getWidth(),f=b.getHeight(),g=d.style;return g.position="absolute",g.left=0,g.top=0,g.width=e+"px",g.height=f+"px",d.width=e*c,d.height=f*c,d.setAttribute("data-zr-dom-id",a),d}function ec(a){if("string"==typeof a){var b=Mo.get(a);return b&&b.image}return a}function fc(a,b,c,d,e){if(a){if("string"==typeof a){if(b&&b.__zrImageSrc===a||!c)return b;var f=Mo.get(a),g={hostEl:c,cb:d,cbPayload:e};return f?!hc(b=f.image)&&f.pending.push(g):(!b&&(b=new Image),b.onload=gc,Mo.put(a,b.__cachedImgObj={image:b,pending:[g]}),b.src=b.__zrImageSrc=a),b}return a}return b}function gc(){var a=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var b=0;b<a.pending.length;b++){var c=a.pending[b],d=c.cb;d&&d(this,c.cbPayload),c.hostEl.dirty()}a.pending.length=0}function hc(a){return a&&a.width&&a.height}function ic(a,b){var c=a+":"+(b=b||Ro);if(No[c])return No[c];for(var d=(a+"").split("\n"),e=0,f=0,g=d.length;f<g;f++)e=Math.max(uc(d[f],b).width,e);return Oo>Po&&(Oo=0,No={}),Oo++,No[c]=e,e}function jc(a,b,c,d,e,f,g){return f?lc(a,b,c,d,e,f,g):kc(a,b,c,d,e,g)}function kc(a,b,c,d,e,f){var g=vc(a,b,e,f),h=ic(a,b);e&&(h+=e[1]+e[3]);var i=g.outerHeight,j=new Sb(mc(0,h,c),nc(0,i,d),h,i);return j.lineHeight=g.lineHeight,j}function lc(a,b,c,d,e,f,g){var h=wc(a,{rich:f,truncate:g,font:b,textAlign:c,textPadding:e}),i=h.outerWidth,j=h.outerHeight;return new Sb(mc(0,i,c),nc(0,j,d),i,j)}function mc(a,b,c){return"right"===c?a-=b:"center"===c&&(a-=b/2),a}function nc(a,b,c){return"middle"===c?a-=b/2:"bottom"===c&&(a-=b),a}function oc(a,b,c){var d=b.x,e=b.y,f=b.height,g=b.width,h=f/2,i="left",j="top";switch(a){case"left":d-=c,e+=h,i="right",j="middle";break;case"right":d+=c+g,e+=h,j="middle";break;case"top":d+=g/2,e-=c,i="center",j="bottom";break;case"bottom":d+=g/2,e+=f+c,i="center";break;case"inside":d+=g/2,e+=h,i="center",j="middle";break;case"insideLeft":d+=c,e+=h,j="middle";break;case"insideRight":d+=g-c,e+=h,i="right",j="middle";break;case"insideTop":d+=g/2,e+=c,i="center";break;case"insideBottom":d+=g/2,e+=f-c,i="center",j="bottom";break;case"insideTopLeft":d+=c,e+=c;break;case"insideTopRight":d+=g-c,e+=c,i="right";break;case"insideBottomLeft":d+=c,e+=f-c,j="bottom";break;case"insideBottomRight":d+=g-c,e+=f-c,i="right",j="bottom"}return{x:d,y:e,textAlign:i,textVerticalAlign:j}}function pc(a,b,c,d,e){if(!b)return"";var f=(a+"").split("\n");e=qc(b,c,d,e);for(var g=0,h=f.length;g<h;g++)f[g]=rc(f[g],e);return f.join("\n")}function qc(a,b,c,d){(d=f({},d)).font=b;var c=A(c,"...");d.maxIterations=A(d.maxIterations,2);var e=d.minChar=A(d.minChar,0);d.cnCharWidth=ic("国",b);var g=d.ascCharWidth=ic("a",b);d.placeholder=A(d.placeholder,"");for(var h=a=Math.max(0,a-1),i=0;i<e&&h>=g;i++)h-=g;var j=ic(c);return j>h&&(c="",j=0),h=a-j,d.ellipsis=c,d.ellipsisWidth=j,d.contentWidth=h,d.containerWidth=a,d}function rc(a,b){var c=b.containerWidth,d=b.font,e=b.contentWidth;if(!c)return"";var f=ic(a,d);if(f<=c)return a;for(var g=0;;g++){if(f<=e||g>=b.maxIterations){a+=b.ellipsis;break}var h=0===g?sc(a,e,b.ascCharWidth,b.cnCharWidth):f>0?Math.floor(a.length*e/f):0;f=ic(a=a.substr(0,h),d)}return""===a&&(a=b.placeholder),a}function sc(a,b,c,d){for(var e=0,f=0,g=a.length;f<g&&e<b;f++){var h=a.charCodeAt(f);e+=0<=h&&h<=127?c:d}return f}function tc(a){return ic("国",a)}function uc(a,b){return So.measureText(a,b)}function vc(a,b,c,d){null!=a&&(a+="");var e=tc(b),f=a?a.split("\n"):[],g=f.length*e,h=g;if(c&&(h+=c[0]+c[2]),a&&d){var i=d.outerHeight,j=d.outerWidth;if(null!=i&&h>i)a="",f=[];else if(null!=j)for(var k=qc(j-(c?c[1]+c[3]:0),b,d.ellipsis,{minChar:d.minChar,placeholder:d.placeholder}),l=0,m=f.length;l<m;l++)f[l]=rc(f[l],k)}return{lines:f,height:g,outerHeight:h,lineHeight:e}}function wc(a,b){var c={lines:[],width:0,height:0};if(null!=a&&(a+=""),!a)return c;for(var d,e=Qo.lastIndex=0;null!=(d=Qo.exec(a));){var f=d.index;f>e&&xc(c,a.substring(e,f)),xc(c,d[2],d[1]),e=Qo.lastIndex}e<a.length&&xc(c,a.substring(e,a.length));var g=c.lines,h=0,i=0,j=[],k=b.textPadding,l=b.truncate,m=l&&l.outerWidth,n=l&&l.outerHeight;k&&(null!=m&&(m-=k[1]+k[3]),null!=n&&(n-=k[0]+k[2]));for(E=0;E<g.length;E++){for(var o=g[E],p=0,q=0,r=0;r<o.tokens.length;r++){var s=(F=o.tokens[r]).styleName&&b.rich[F.styleName]||{},t=F.textPadding=s.textPadding,u=F.font=s.font||b.font,v=F.textHeight=A(s.textHeight,tc(u));if(t&&(v+=t[0]+t[2]),F.height=v,F.lineHeight=B(s.textLineHeight,b.textLineHeight,v),F.textAlign=s&&s.textAlign||b.textAlign,F.textVerticalAlign=s&&s.textVerticalAlign||"middle",null!=n&&h+F.lineHeight>n)return{lines:[],width:0,height:0};F.textWidth=ic(F.text,u);var w=s.textWidth,x=null==w||"auto"===w;if("string"==typeof w&&"%"===w.charAt(w.length-1))F.percentWidth=w,j.push(F),w=0;else{if(x){w=F.textWidth;var y=s.textBackgroundColor,z=y&&y.image;z&&hc(z=ec(z))&&(w=Math.max(w,z.width*v/z.height))}var C=t?t[1]+t[3]:0;w+=C;var D=null!=m?m-q:null;null!=D&&D<w&&(!x||D<C?(F.text="",F.textWidth=w=0):(F.text=pc(F.text,D-C,u,l.ellipsis,{minChar:l.minChar}),F.textWidth=ic(F.text,u),w=F.textWidth+C))}q+=F.width=w,s&&(p=Math.max(p,F.lineHeight))}o.width=q,o.lineHeight=p,h+=p,i=Math.max(i,q)}c.outerWidth=c.width=A(b.textWidth,i),c.outerHeight=c.height=A(b.textHeight,h),k&&(c.outerWidth+=k[1]+k[3],c.outerHeight+=k[0]+k[2]);for(var E=0;E<j.length;E++){var F=j[E],G=F.percentWidth;F.width=parseInt(G,10)/100*i}return c}function xc(a,b,c){for(var d=""===b,e=b.split("\n"),f=a.lines,g=0;g<e.length;g++){var h=e[g],i={styleName:c,text:h,isLineHolder:!h&&!d};if(g)f.push({tokens:[i]});else{var j=(f[f.length-1]||(f[0]={tokens:[]})).tokens,k=j.length;1===k&&j[0].isLineHolder?j[0]=i:(h||!k||d)&&j.push(i)}}}function yc(a){return(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ")||a.textFont||a.font}function zc(a,b){var c,d,e,f,g=b.x,h=b.y,i=b.width,j=b.height,k=b.r;i<0&&(g+=i,i=-i),j<0&&(h+=j,j=-j),"number"==typeof k?c=d=e=f=k:k instanceof Array?1===k.length?c=d=e=f=k[0]:2===k.length?(c=e=k[0],d=f=k[1]):3===k.length?(c=k[0],d=f=k[1],e=k[2]):(c=k[0],d=k[1],e=k[2],f=k[3]):c=d=e=f=0;var l;c+d>i&&(c*=i/(l=c+d),d*=i/l),e+f>i&&(e*=i/(l=e+f),f*=i/l),d+e>j&&(d*=j/(l=d+e),e*=j/l),c+f>j&&(c*=j/(l=c+f),f*=j/l),a.moveTo(g+c,h),a.lineTo(g+i-d,h),0!==d&&a.quadraticCurveTo(g+i,h,g+i,h+d),a.lineTo(g+i,h+j-e),0!==e&&a.quadraticCurveTo(g+i,h+j,g+i-e,h+j),a.lineTo(g+f,h+j),0!==f&&a.quadraticCurveTo(g,h+j,g,h+j-f),a.lineTo(g,h+c),0!==c&&a.quadraticCurveTo(g,h,g+c,h)}function Ac(a){return Bc(a),m(a.rich,Bc),a}function Bc(a){if(a){a.font=yc(a);var b=a.textAlign;"middle"===b&&(b="center"),a.textAlign=null==b||To[b]?b:"left";var c=a.textVerticalAlign||a.textBaseline;"center"===c&&(c="middle"),a.textVerticalAlign=null==c||Uo[c]?c:"top",a.textPadding&&(a.textPadding=D(a.textPadding))}}function Cc(a,b,c,d,e){d.rich?Ec(a,b,c,d,e):Dc(a,b,c,d,e)}function Dc(a,b,c,d,e){var f=Mc(b,"font",d.font||Ro),g=d.textPadding,h=a.__textCotentBlock;h&&!a.__dirty||(h=a.__textCotentBlock=vc(c,f,g,d.truncate));var i=h.outerHeight,j=h.lines,k=h.lineHeight,l=Lc(i,d,e),m=l.baseX,n=l.baseY,o=l.textAlign,p=l.textVerticalAlign;Gc(b,d,e,m,n);var q=nc(n,i,p),r=m,s=q,t=Ic(d);if(t||g){var u=ic(c,f);g&&(u+=g[1]+g[3]);var v=mc(m,u,o);t&&Jc(a,b,d,v,q,u,i),g&&(r=Qc(m,o,g),s+=g[0])}Mc(b,"textAlign",o||"left"),Mc(b,"textBaseline","middle"),Mc(b,"shadowBlur",d.textShadowBlur||0),Mc(b,"shadowColor",d.textShadowColor||"transparent"),Mc(b,"shadowOffsetX",d.textShadowOffsetX||0),Mc(b,"shadowOffsetY",d.textShadowOffsetY||0),s+=k/2;var w=d.textStrokeWidth,x=Nc(d.textStroke,w),y=Oc(d.textFill);x&&(Mc(b,"lineWidth",w),Mc(b,"strokeStyle",x)),y&&Mc(b,"fillStyle",y);for(var z=0;z<j.length;z++)x&&b.strokeText(j[z],r,s),y&&b.fillText(j[z],r,s),s+=k}function Ec(a,b,c,d,e){var f=a.__textCotentBlock;f&&!a.__dirty||(f=a.__textCotentBlock=wc(c,d)),Fc(a,b,f,d,e)}function Fc(a,b,c,d,e){var f=c.width,g=c.outerWidth,h=c.outerHeight,i=d.textPadding,j=Lc(h,d,e),k=j.baseX,l=j.baseY,m=j.textAlign,n=j.textVerticalAlign;Gc(b,d,e,k,l);var o=mc(k,g,m),p=nc(l,h,n),q=o,r=p;i&&(q+=i[3],r+=i[0]);var s=q+f;Ic(d)&&Jc(a,b,d,o,p,g,h);for(var t=0;t<c.lines.length;t++){for(var u,v=c.lines[t],w=v.tokens,x=w.length,y=v.lineHeight,z=v.width,A=0,B=q,C=s,D=x-1;A<x&&(!(u=w[A]).textAlign||"left"===u.textAlign);)Hc(a,b,u,d,y,r,B,"left"),z-=u.width,B+=u.width,A++;for(;D>=0&&"right"===(u=w[D]).textAlign;)Hc(a,b,u,d,y,r,C,"right"),z-=u.width,C-=u.width,D--;for(B+=(f-(B-q)-(s-C)-z)/2;A<=D;)Hc(a,b,u=w[A],d,y,r,B+u.width/2,"center"),B+=u.width,A++;r+=y}}function Gc(a,b,c,d,e){if(c&&b.textRotation){var f=b.textOrigin;"center"===f?(d=c.width/2+c.x,e=c.height/2+c.y):f&&(d=f[0]+c.x,e=f[1]+c.y),a.translate(d,e),a.rotate(-b.textRotation),a.translate(-d,-e)}}function Hc(a,b,c,d,e,f,g,h){var i=d.rich[c.styleName]||{},j=c.textVerticalAlign,k=f+e/2;"top"===j?k=f+c.height/2:"bottom"===j&&(k=f+e-c.height/2),!c.isLineHolder&&Ic(i)&&Jc(a,b,i,"right"===h?g-c.width:"center"===h?g-c.width/2:g,k-c.height/2,c.width,c.height);var l=c.textPadding;l&&(g=Qc(g,h,l),k-=c.height/2-l[2]-c.textHeight/2),Mc(b,"shadowBlur",B(i.textShadowBlur,d.textShadowBlur,0)),Mc(b,"shadowColor",i.textShadowColor||d.textShadowColor||"transparent"),Mc(b,"shadowOffsetX",B(i.textShadowOffsetX,d.textShadowOffsetX,0)),Mc(b,"shadowOffsetY",B(i.textShadowOffsetY,d.textShadowOffsetY,0)),Mc(b,"textAlign",h),Mc(b,"textBaseline","middle"),Mc(b,"font",c.font||Ro);var m=Nc(i.textStroke||d.textStroke,o),n=Oc(i.textFill||d.textFill),o=A(i.textStrokeWidth,d.textStrokeWidth);m&&(Mc(b,"lineWidth",o),Mc(b,"strokeStyle",m),b.strokeText(c.text,g,k)),n&&(Mc(b,"fillStyle",n),b.fillText(c.text,g,k))}function Ic(a){return a.textBackgroundColor||a.textBorderWidth&&a.textBorderColor}function Jc(a,b,c,d,e,f,g){var h=c.textBackgroundColor,i=c.textBorderWidth,j=c.textBorderColor,k=u(h);if(Mc(b,"shadowBlur",c.textBoxShadowBlur||0),Mc(b,"shadowColor",c.textBoxShadowColor||"transparent"),Mc(b,"shadowOffsetX",c.textBoxShadowOffsetX||0),Mc(b,"shadowOffsetY",c.textBoxShadowOffsetY||0),k||i&&j){b.beginPath();var l=c.textBorderRadius;l?zc(b,{x:d,y:e,width:f,height:g,r:l}):b.rect(d,e,f,g),b.closePath()}if(k)Mc(b,"fillStyle",h),b.fill();else if(v(h)){var m=h.image;(m=fc(m,null,a,Kc,h))&&hc(m)&&b.drawImage(m,d,e,f,g)}i&&j&&(Mc(b,"lineWidth",i),Mc(b,"strokeStyle",j),b.stroke())}function Kc(a,b){b.image=a}function Lc(a,b,c){var d=b.x||0,e=b.y||0,f=b.textAlign,g=b.textVerticalAlign;if(c){var h=b.textPosition;if(h instanceof Array)d=c.x+Pc(h[0],c.width),e=c.y+Pc(h[1],c.height);else{var i=oc(h,c,b.textDistance);d=i.x,e=i.y,f=f||i.textAlign,g=g||i.textVerticalAlign}var j=b.textOffset;j&&(d+=j[0],e+=j[1])}return{baseX:d,baseY:e,textAlign:f,textVerticalAlign:g}}function Mc(a,b,c){return a[b]=c,a[b]}function Nc(a,b){return null==a||b<=0||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function Oc(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function Pc(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a}function Qc(a,b,c){return"right"===b?a-c[1]:"center"===b?a+c[3]/2-c[1]/2:a+c[3]}function Rc(a,b){return null!=a&&(a||b.textBackgroundColor||b.textBorderWidth&&b.textBorderColor||b.textPadding)}function Sc(a){a=a||{},wo.call(this,a);for(var b in a)a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b]);this.style=new Fo(a.style,this),this._rect=null,this.__clipPaths=[]}function Tc(a){Sc.call(this,a)}function Uc(a){return parseInt(a,10)}function Vc(a){return!!a&&(!!a.__builtin__||"function"==typeof a.resize&&"function"==typeof a.refresh)}function Wc(a){a.__unusedCount++}function Xc(a){1==a.__unusedCount&&a.clear()}function Yc(a,b,c){return Xo.copy(a.getBoundingRect()),a.transform&&Xo.applyTransform(a.transform),Yo.width=b,Yo.height=c,!Xo.intersect(Yo)}function Zc(a,b){if(a==b)return!1;if(!a||!b||a.length!==b.length)return!0;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!0}function $c(a,b){for(var c=0;c<a.length;c++){var d=a[c];d.setTransform(b),b.beginPath(),d.buildPath(b,d.shape),b.clip(),d.restoreTransform(b)}}function _c(a,b){var c=document.createElement("div");return c.style.cssText=["position:relative","overflow:hidden","width:"+a+"px","height:"+b+"px","padding:0","margin:0","border-width:0"].join(";")+";",c}function ad(a){return a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0}}function bd(a,b,c,d){return c=c||{},d||!xn.canvasSupported?cd(a,b,c):xn.browser.firefox&&null!=b.layerX&&b.layerX!==b.offsetX?(c.zrX=b.layerX,c.zrY=b.layerY):null!=b.offsetX?(c.zrX=b.offsetX,c.zrY=b.offsetY):cd(a,b,c),c}function cd(a,b,c){var d=ad(a);c.zrX=b.clientX-d.left,c.zrY=b.clientY-d.top}function dd(a,b,c){if(null!=(b=b||window.event).zrX)return b;var d=b.type;if(d&&d.indexOf("touch")>=0){var e="touchend"!=d?b.targetTouches[0]:b.changedTouches[0];e&&bd(a,e,b,c)}else bd(a,b,b,c),b.zrDelta=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3;var f=b.button;return null==b.which&&void 0!==f&&_o.test(b.type)&&(b.which=1&f?1:2&f?3:4&f?2:0),b}function ed(a,b,c){$o?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function fd(a,b,c){$o?a.removeEventListener(b,c):a.detachEvent("on"+b,c)}function gd(a){return a.which>1}function hd(a){var b=a[1][0]-a[0][0],c=a[1][1]-a[0][1];return Math.sqrt(b*b+c*c)}function id(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}function jd(a){return"mousewheel"===a&&xn.browser.firefox?"DOMMouseScroll":a}function kd(a,b,c){var d=a._gestureMgr;"start"===c&&d.clear();var e=d.recognize(b,a.handler.findHover(b.zrX,b.zrY,null).target,a.dom);if("end"===c&&d.clear(),e){var f=e.type;b.gestureEvent=f,a.handler.dispatchToElement({target:e.target},f,e.event)}}function ld(a){a._touching=!0,clearTimeout(a._touchTimer),a._touchTimer=setTimeout(function(){a._touching=!1},700)}function md(a){var b=a.pointerType;return"pen"===b||"touch"===b}function nd(a){function b(a,b){return function(){if(!b._touching)return a.apply(b,arguments)}}m(fp,function(b){a._handlers[b]=q(ip[b],a)}),m(hp,function(b){a._handlers[b]=q(ip[b],a)}),m(ep,function(c){a._handlers[c]=b(ip[c],a)})}function od(a){function b(b,c){m(b,function(b){ed(a,jd(b),c._handlers[b])},c)}Tn.call(this),this.dom=a,this._touching=!1,this._touchTimer,this._gestureMgr=new cp,this._handlers={},nd(this),xn.pointerEventsSupported?b(hp,this):(xn.touchEventsSupported&&b(fp,this),b(ep,this))}function pd(a,b){var c=new np(vn(),a,b);return mp[c.id]=c,c}function qd(a,b){lp[a]=b}function rd(a){delete mp[a]}function sd(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function td(a,b,c,d){var e=b[1]-b[0],f=c[1]-c[0];if(0===e)return 0===f?c[0]:(c[0]+c[1])/2;if(d)if(e>0){if(a<=b[0])return c[0];if(a>=b[1])return c[1]}else{if(a>=b[0])return c[0];if(a<=b[1])return c[1]}else{if(a===b[0])return c[0];if(a===b[1])return c[1]}return(a-b[0])/e*f+c[0]}function ud(a,b){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%"}return"string"==typeof a?sd(a).match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?NaN:+a}function vd(a,b,c){return null==b&&(b=10),b=Math.min(Math.max(0,b),20),a=(+a).toFixed(b),c?a:+a}function wd(a){return a.sort(function(a,b){return a-b}),a}function xd(a){if(a=+a,isNaN(a))return 0;for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c}function yd(a){var b=a.toString(),c=b.indexOf("e");if(c>0){var d=+b.slice(c+1);return d<0?-d:0}var e=b.indexOf(".");return e<0?0:b.length-1-e}function zd(a,b){var c=Math.log,d=Math.LN10,e=Math.floor(c(a[1]-a[0])/d),f=Math.round(c(Math.abs(b[1]-b[0]))/d),g=Math.min(Math.max(-e+f,0),20);return isFinite(g)?g:20}function Ad(a,b,c){if(!a[b])return 0;var d=o(a,function(a,b){return a+(isNaN(b)?0:b)},0);if(0===d)return 0;for(var e=Math.pow(10,c),f=n(a,function(a){return(isNaN(a)?0:a)/d*e*100}),g=100*e,h=n(f,function(a){return Math.floor(a)}),i=o(h,function(a,b){return a+b},0),j=n(f,function(a,b){return a-h[b]});i<g;){for(var k=Number.NEGATIVE_INFINITY,l=null,m=0,p=j.length;m<p;++m)j[m]>k&&(k=j[m],l=m);++h[l],j[l]=0,++i}return h[b]/e}function Bd(a){var b=2*Math.PI;return(a%b+b)%b}function Cd(a){return a>-pp&&a<pp}function Dd(a){if(a instanceof Date)return a;if("string"==typeof a){var b=qp.exec(a);if(!b)return new Date(NaN);if(b[8]){var c=+b[4]||0;return"Z"!==b[8].toUpperCase()&&(c-=b[8].slice(0,3)),new Date(Date.UTC(+b[1],+(b[2]||1)-1,+b[3]||1,c,+(b[5]||0),+b[6]||0,+b[7]||0))}return new Date(+b[1],+(b[2]||1)-1,+b[3]||1,+b[4]||0,+(b[5]||0),+b[6]||0,+b[7]||0)}return null==a?new Date(NaN):new Date(Math.round(a))}function Ed(a){return Math.pow(10,Fd(a))}function Fd(a){return Math.floor(Math.log(a)/Math.LN10)}function Gd(a,b){var c,d=Fd(a),e=Math.pow(10,d),f=a/e;return c=b?f<1.5?1:f<2.5?2:f<4?3:f<7?5:10:f<1?1:f<2?2:f<3?3:f<5?5:10,a=c*e,d>=-20?+a.toFixed(d<0?-d:0):a}function Hd(a){return isNaN(a)?"-":(a=(a+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(a.length>1?"."+a[1]:"")}function Id(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}function Jd(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Kd(a,b,c){s(b)||(b=[b]);var d=b.length;if(!d)return"";for(var e=b[0].$vars||[],f=0;f<e.length;f++){var g=tp[f],h=up(g,0);a=a.replace(up(g),c?Jd(h):h)}for(var i=0;i<d;i++)for(var j=0;j<e.length;j++)h=b[i][e[j]],a=a.replace(up(tp[j],i),c?Jd(h):h);return a}function Ld(a,b){return a?'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+Jd(a)+";"+(b||"")+'"></span>':""}function Md(a,b,c){"week"!==a&&"month"!==a&&"quarter"!==a&&"half-year"!==a&&"year"!==a||(a="MM-dd\nyyyy");var d=Dd(b),e=c?"UTC":"",f=d["get"+e+"FullYear"](),g=d["get"+e+"Month"]()+1,h=d["get"+e+"Date"](),i=d["get"+e+"Hours"](),j=d["get"+e+"Minutes"](),k=d["get"+e+"Seconds"]();return a=a.replace("MM",vp(g)).replace("M",g).replace("yyyy",f).replace("yy",f%100).replace("dd",vp(h)).replace("d",h).replace("hh",vp(i)).replace("h",i).replace("mm",vp(j)).replace("m",j).replace("ss",vp(k)).replace("s",k)}function Nd(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function Od(a,b,c){return a[Bp+b]=c}function Pd(a,b){return a[Bp+b]}function Qd(a,b){return a.hasOwnProperty(Bp+b)}function Rd(a){var b={main:"",sub:""};return a&&(a=a.split(zp),b.main=a[0]||"",b.sub=a[1]||""),b}function Sd(a){E(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function Td(a,b){a.$constructor=a,a.extend=function(a){var b=this,c=function(){a.$constructor?a.$constructor.apply(this,arguments):b.apply(this,arguments)};return f(c.prototype,a),c.extend=this.extend,c.superCall=Ud,c.superApply=Vd,j(c,this),c.superClass=b,c}}function Ud(a,b){var c=C(arguments,2);return this.superClass.prototype[b].apply(a,c)}function Vd(a,b,c){return this.superClass.prototype[b].apply(a,c)}function Wd(a,b){function c(a){var b=d[a.main];return b&&b[Ap]||((b=d[a.main]={})[Ap]=!0),b}b=b||{};var d={};if(a.registerClass=function(a,b){return b&&(Sd(b),(b=Rd(b)).sub?b.sub!==Ap&&(c(b)[b.sub]=a):d[b.main]=a),a},a.getClass=function(a,b,c){var e=d[a];if(e&&e[Ap]&&(e=b?e[b]:null),c&&!e)throw new Error(b?"Component "+a+"."+(b||"")+" not exists. Load it first.":a+".type should be specified.");return e},a.getClassesByMainType=function(a){a=Rd(a);var b=[],c=d[a.main];return c&&c[Ap]?m(c,function(a,c){c!==Ap&&b.push(a)}):b.push(c),b},a.hasClass=function(a){return a=Rd(a),!!d[a.main]},a.getAllClassMainTypes=function(){var a=[];return m(d,function(b,c){a.push(c)}),a},a.hasSubTypes=function(a){a=Rd(a);var b=d[a.main];return b&&b[Ap]},a.parseClassType=Rd,b.registerWhenExtend){var e=a.extend;e&&(a.extend=function(b){var c=e.call(this,b);return a.registerClass(c,b.type)})}return a}function Xd(a){return a>-Jp&&a<Jp}function Yd(a){return a>Jp||a<-Jp}function Zd(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function $d(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function _d(a,b,c,d,e,f){var g=d+3*(b-c)-a,h=3*(c-2*b+a),i=3*(b-a),j=a-e,k=h*h-3*g*i,l=h*i-9*g*j,m=i*i-3*h*j,n=0;if(Xd(k)&&Xd(l))Xd(h)?f[0]=0:(y=-i/h)>=0&&y<=1&&(f[n++]=y);else{var o=l*l-4*k*m;if(Xd(o)){var p=l/k,q=-p/2;(y=-h/g+p)>=0&&y<=1&&(f[n++]=y),q>=0&&q<=1&&(f[n++]=q)}else if(o>0){var r=Ip(o),s=k*h+1.5*g*(-l+r),t=k*h+1.5*g*(-l-r);(y=(-h-((s=s<0?-Hp(-s,Mp):Hp(s,Mp))+(t=t<0?-Hp(-t,Mp):Hp(t,Mp))))/(3*g))>=0&&y<=1&&(f[n++]=y)}else{var u=(2*k*h-3*g*l)/(2*Ip(k*k*k)),v=Math.acos(u)/3,w=Ip(k),x=Math.cos(v),y=(-h-2*w*x)/(3*g),q=(-h+w*(x+Lp*Math.sin(v)))/(3*g),z=(-h+w*(x-Lp*Math.sin(v)))/(3*g);y>=0&&y<=1&&(f[n++]=y),q>=0&&q<=1&&(f[n++]=q),z>=0&&z<=1&&(f[n++]=z)}}return n}function ae(a,b,c,d,e){var f=6*c-12*b+6*a,g=9*b+3*d-3*a-9*c,h=3*b-3*a,i=0;if(Xd(g))Yd(f)&&(l=-h/f)>=0&&l<=1&&(e[i++]=l);else{var j=f*f-4*g*h;if(Xd(j))e[0]=-f/(2*g);else if(j>0){var k=Ip(j),l=(-f+k)/(2*g),m=(-f-k)/(2*g);l>=0&&l<=1&&(e[i++]=l),m>=0&&m<=1&&(e[i++]=m)}}return i}function be(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b,i=(d-c)*e+c,j=(h-g)*e+g,k=(i-h)*e+h,l=(k-j)*e+j;f[0]=a,f[1]=g,f[2]=j,f[3]=l,f[4]=l,f[5]=k,f[6]=i,f[7]=d}function ce(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q=.005,r=1/0;Np[0]=i,Np[1]=j;for(var s=0;s<1;s+=.05)Op[0]=Zd(a,c,e,g,s),Op[1]=Zd(b,d,f,h,s),(o=Qn(Np,Op))<r&&(l=s,r=o);r=1/0;for(var t=0;t<32&&!(q<Kp);t++)m=l-q,n=l+q,Op[0]=Zd(a,c,e,g,m),Op[1]=Zd(b,d,f,h,m),o=Qn(Op,Np),m>=0&&o<r?(l=m,r=o):(Pp[0]=Zd(a,c,e,g,n),Pp[1]=Zd(b,d,f,h,n),p=Qn(Pp,Np),n<=1&&p<r?(l=n,r=p):q*=.5);return k&&(k[0]=Zd(a,c,e,g,l),k[1]=Zd(b,d,f,h,l)),Ip(r)}function de(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function ee(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function fe(a,b,c,d,e){var f=a-2*b+c,g=2*(b-a),h=a-d,i=0;if(Xd(f))Yd(g)&&(l=-h/g)>=0&&l<=1&&(e[i++]=l);else{var j=g*g-4*f*h;if(Xd(j))(l=-g/(2*f))>=0&&l<=1&&(e[i++]=l);else if(j>0){var k=Ip(j),l=(-g+k)/(2*f),m=(-g-k)/(2*f);l>=0&&l<=1&&(e[i++]=l),m>=0&&m<=1&&(e[i++]=m)}}return i}function ge(a,b,c){var d=a+c-2*b;return 0===d?.5:(a-b)/d}function he(a,b,c,d,e){var f=(b-a)*d+a,g=(c-b)*d+b,h=(g-f)*d+f;e[0]=a,e[1]=f,e[2]=h,e[3]=h,e[4]=g,e[5]=c}function ie(a,b,c,d,e,f,g,h,i){var j,k=.005,l=1/0;Np[0]=g,Np[1]=h;for(var m=0;m<1;m+=.05)Op[0]=de(a,c,e,m),Op[1]=de(b,d,f,m),(q=Qn(Np,Op))<l&&(j=m,l=q);l=1/0;for(var n=0;n<32&&!(k<Kp);n++){var o=j-k,p=j+k;Op[0]=de(a,c,e,o),Op[1]=de(b,d,f,o);var q=Qn(Op,Np);if(o>=0&&q<l)j=o,l=q;else{Pp[0]=de(a,c,e,p),Pp[1]=de(b,d,f,p);var r=Qn(Pp,Np);p<=1&&r<l?(j=p,l=r):k*=.5}}return i&&(i[0]=de(a,c,e,j),i[1]=de(b,d,f,j)),Ip(l)}function je(a,b,c){if(0!==a.length){var d,e=a[0],f=e[0],g=e[0],h=e[1],i=e[1];for(d=1;d<a.length;d++)e=a[d],f=Qp(f,e[0]),g=Rp(g,e[0]),h=Qp(h,e[1]),i=Rp(i,e[1]);b[0]=f,b[1]=h,c[0]=g,c[1]=i}}function ke(a,b,c,d,e,f){e[0]=Qp(a,c),e[1]=Qp(b,d),f[0]=Rp(a,c),f[1]=Rp(b,d)}function le(a,b,c,d,e,f,g,h,i,j){var k,l=ae,m=Zd,n=l(a,c,e,g,Yp);for(i[0]=1/0,i[1]=1/0,j[0]=-1/0,j[1]=-1/0,k=0;k<n;k++){var o=m(a,c,e,g,Yp[k]);i[0]=Qp(o,i[0]),j[0]=Rp(o,j[0])}for(n=l(b,d,f,h,Zp),k=0;k<n;k++){var p=m(b,d,f,h,Zp[k]);i[1]=Qp(p,i[1]),j[1]=Rp(p,j[1])}i[0]=Qp(a,i[0]),j[0]=Rp(a,j[0]),i[0]=Qp(g,i[0]),j[0]=Rp(g,j[0]),i[1]=Qp(b,i[1]),j[1]=Rp(b,j[1]),i[1]=Qp(h,i[1]),j[1]=Rp(h,j[1])}function me(a,b,c,d,e,f,g,h){var i=ge,j=de,k=Rp(Qp(i(a,c,e),1),0),l=Rp(Qp(i(b,d,f),1),0),m=j(a,c,e,k),n=j(b,d,f,l);g[0]=Qp(a,e,m),g[1]=Qp(b,f,n),h[0]=Rp(a,e,m),h[1]=Rp(b,f,n)}function ne(a,b,c,d,e,f,g,h,i){var j=X,k=Y,l=Math.abs(e-f);if(l%Up<1e-4&&l>1e-4)return h[0]=a-c,h[1]=b-d,i[0]=a+c,void (i[1]=b+d);if(Vp[0]=Tp(e)*c+a,Vp[1]=Sp(e)*d+b,Wp[0]=Tp(f)*c+a,Wp[1]=Sp(f)*d+b,j(h,Vp,Wp),k(i,Vp,Wp),(e%=Up)<0&&(e+=Up),(f%=Up)<0&&(f+=Up),e>f&&!g?f+=Up:e<f&&g&&(e+=Up),g){var m=f;f=e,e=m}for(var n=0;n<f;n+=Math.PI/2)n>e&&(Xp[0]=Tp(n)*c+a,Xp[1]=Sp(n)*d+b,j(h,Xp,h),k(i,Xp,i))}function oe(a,b,c,d,e,f,g){if(0===e)return!1;var h=e,i=0,j=a;if(g>b+h&&g>d+h||g<b-h&&g<d-h||f>a+h&&f>c+h||f<a-h&&f<c-h)return!1;if(a===c)return Math.abs(f-a)<=h/2;var k=(i=(b-d)/(a-c))*f-g+(j=(a*d-c*b)/(a-c));return k*k/(i*i+1)<=h/2*h/2}function pe(a,b,c,d,e,f,g,h,i,j,k){if(0===i)return!1;var l=i;return!(k>b+l&&k>d+l&&k>f+l&&k>h+l||k<b-l&&k<d-l&&k<f-l&&k<h-l||j>a+l&&j>c+l&&j>e+l&&j>g+l||j<a-l&&j<c-l&&j<e-l&&j<g-l)&&ce(a,b,c,d,e,f,g,h,j,k,null)<=l/2}function qe(a,b,c,d,e,f,g,h,i){if(0===g)return!1;var j=g;return!(i>b+j&&i>d+j&&i>f+j||i<b-j&&i<d-j&&i<f-j||h>a+j&&h>c+j&&h>e+j||h<a-j&&h<c-j&&h<e-j)&&ie(a,b,c,d,e,f,h,i,null)<=j/2}function re(a){return(a%=lq)<0&&(a+=lq),a}function se(a,b,c,d,e,f,g,h,i){if(0===g)return!1;var j=g;h-=a,i-=b;var k=Math.sqrt(h*h+i*i);if(k-j>c||k+j<c)return!1;if(Math.abs(d-e)%mq<1e-4)return!0;if(f){var l=d;d=re(e),e=re(l)}else d=re(d),e=re(e);d>e&&(e+=mq);var m=Math.atan2(i,h);return m<0&&(m+=mq),m>=d&&m<=e||m+mq>=d&&m+mq<=e}function te(a,b,c,d,e,f){if(f>b&&f>d||f<b&&f<d)return 0;if(d===b)return 0;var g=d<b?1:-1,h=(f-b)/(d-b);return 1!==h&&0!==h||(g=d<b?.5:-0.5),h*(c-a)+a>e?g:0}function ue(a,b){return Math.abs(a-b)<pq}function ve(){var a=rq[0];rq[0]=rq[1],rq[1]=a}function we(a,b,c,d,e,f,g,h,i,j){if(j>b&&j>d&&j>f&&j>h||j<b&&j<d&&j<f&&j<h)return 0;var k=_d(b,d,f,h,j,qq);if(0===k)return 0;for(var l,m,n=0,o=-1,p=0;p<k;p++){var q=qq[p],r=0===q||1===q?.5:1;Zd(a,c,e,g,q)<i||(o<0&&(o=ae(b,d,f,h,rq),rq[1]<rq[0]&&o>1&&ve(),l=Zd(b,d,f,h,rq[0]),o>1&&(m=Zd(b,d,f,h,rq[1]))),2==o?q<rq[0]?n+=l<b?r:-r:q<rq[1]?n+=m<l?r:-r:n+=h<m?r:-r:q<rq[0]?n+=l<b?r:-r:n+=h<l?r:-r)}return n}function xe(a,b,c,d,e,f,g,h){if(h>b&&h>d&&h>f||h<b&&h<d&&h<f)return 0;var i=fe(b,d,f,h,qq);if(0===i)return 0;var j=ge(b,d,f);if(j>=0&&j<=1){for(var k=0,l=de(b,d,f,j),m=0;m<i;m++)n=0===qq[m]||1===qq[m]?.5:1,(o=de(a,c,e,qq[m]))<g||(qq[m]<j?k+=l<b?n:-n:k+=f<l?n:-n);return k}var n=0===qq[0]||1===qq[0]?.5:1,o=de(a,c,e,qq[0]);return o<g?0:f<b?n:-n}function ye(a,b,c,d,e,f,g,h){if((h-=b)>c||h<-c)return 0;j=Math.sqrt(c*c-h*h),qq[0]=-j,qq[1]=j;var i=Math.abs(d-e);if(i<1e-4)return 0;if(i%oq<1e-4)return d=0,e=oq,o=f?1:-1,g>=qq[0]+a&&g<=qq[1]+a?o:0;if(f){var j=d;d=re(e),e=re(j)}else d=re(d),e=re(e);d>e&&(e+=oq);for(var k=0,l=0;l<2;l++){var m=qq[l];if(m+a>g){var n=Math.atan2(h,m),o=f?1:-1;n<0&&(n=oq+n),(n>=d&&n<=e||n+oq>=d&&n+oq<=e)&&(n>Math.PI/2&&n<1.5*Math.PI&&(o=-o),k+=o)}}return k}function ze(a,b,c,d,e){for(var f=0,g=0,h=0,i=0,j=0,k=0;k<a.length;){var l=a[k++];switch(l===nq.M&&k>1&&(c||(f+=te(g,h,i,j,d,e))),1==k&&(i=g=a[k],j=h=a[k+1]),l){case nq.M:g=i=a[k++],h=j=a[k++];break;case nq.L:if(c){if(oe(g,h,a[k],a[k+1],b,d,e))return!0}else f+=te(g,h,a[k],a[k+1],d,e)||0;g=a[k++],h=a[k++];break;case nq.C:if(c){if(pe(g,h,a[k++],a[k++],a[k++],a[k++],a[k],a[k+1],b,d,e))return!0}else f+=we(g,h,a[k++],a[k++],a[k++],a[k++],a[k],a[k+1],d,e)||0;g=a[k++],h=a[k++];break;case nq.Q:if(c){if(qe(g,h,a[k++],a[k++],a[k],a[k+1],b,d,e))return!0}else f+=xe(g,h,a[k++],a[k++],a[k],a[k+1],d,e)||0;g=a[k++],h=a[k++];break;case nq.A:var m=a[k++],n=a[k++],o=a[k++],p=a[k++],q=a[k++],r=a[k++],s=(a[k++],1-a[k++]),t=Math.cos(q)*o+m,u=Math.sin(q)*p+n;k>1?f+=te(g,h,t,u,d,e):(i=t,j=u);var v=(d-m)*p/o+m;if(c){if(se(m,n,p,q,q+r,s,b,v,e))return!0}else f+=ye(m,n,p,q,q+r,s,v,e);g=Math.cos(q+r)*o+m,h=Math.sin(q+r)*p+n;break;case nq.R:i=g=a[k++],j=h=a[k++];var t=i+a[k++],u=j+a[k++];if(c){if(oe(i,j,t,j,b,d,e)||oe(t,j,t,u,b,d,e)||oe(t,u,i,u,b,d,e)||oe(i,u,i,j,b,d,e))return!0}else f+=te(t,j,t,u,d,e),f+=te(i,u,i,j,d,e);break;case nq.Z:if(c){if(oe(g,h,i,j,b,d,e))return!0}else f+=te(g,h,i,j,d,e);g=i,h=j}}return c||ue(h,j)||(f+=te(g,h,i,j,d,e)||0),0!==f}function Ae(a,b,c){return ze(a,0,!1,b,c)}function Be(a,b,c,d){return ze(a,b,!0,c,d)}function Ce(a){Sc.call(this,a),this.path=null}function De(a,b,c,d,e,f,g,h,i,j,k){var l=i*(Eq/180),m=Dq(l)*(a-c)/2+Cq(l)*(b-d)/2,n=-1*Cq(l)*(a-c)/2+Dq(l)*(b-d)/2,o=m*m/(g*g)+n*n/(h*h);o>1&&(g*=Bq(o),h*=Bq(o));var p=(e===f?-1:1)*Bq((g*g*h*h-g*g*n*n-h*h*m*m)/(g*g*n*n+h*h*m*m))||0,q=p*g*n/h,r=p*-h*m/g,s=(a+c)/2+Dq(l)*q-Cq(l)*r,t=(b+d)/2+Cq(l)*q+Dq(l)*r,u=Hq([1,0],[(m-q)/g,(n-r)/h]),v=[(m-q)/g,(n-r)/h],w=[(-1*m-q)/g,(-1*n-r)/h],x=Hq(v,w);Gq(v,w)<=-1&&(x=Eq),Gq(v,w)>=1&&(x=0),0===f&&x>0&&(x-=2*Eq),1===f&&x<0&&(x+=2*Eq),k.addData(j,s,t,g,h,u,x,l,f)}function Ee(a){if(!a)return[];var b,c=a.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(b=0;b<Aq.length;b++)c=c.replace(new RegExp(Aq[b],"g"),"|"+Aq[b]);var d,e=c.split("|"),f=0,g=0,h=new kq,i=kq.CMD;for(b=1;b<e.length;b++){var j,k=e[b],l=k.charAt(0),m=0,n=k.slice(1).replace(/e,-/g,"e-").split(",");n.length>0&&""===n[0]&&n.shift();for(var o=0;o<n.length;o++)n[o]=parseFloat(n[o]);for(;m<n.length&&!isNaN(n[m])&&!isNaN(n[0]);){var p,q,r,s,t,u,v,w=f,x=g;switch(l){case"l":f+=n[m++],g+=n[m++],j=i.L,h.addData(j,f,g);break;case"L":f=n[m++],g=n[m++],j=i.L,h.addData(j,f,g);break;case"m":f+=n[m++],g+=n[m++],j=i.M,h.addData(j,f,g),l="l";break;case"M":f=n[m++],g=n[m++],j=i.M,h.addData(j,f,g),l="L";break;case"h":f+=n[m++],j=i.L,h.addData(j,f,g);break;case"H":f=n[m++],j=i.L,h.addData(j,f,g);break;case"v":g+=n[m++],j=i.L,h.addData(j,f,g);break;case"V":g=n[m++],j=i.L,h.addData(j,f,g);break;case"C":j=i.C,h.addData(j,n[m++],n[m++],n[m++],n[m++],n[m++],n[m++]),f=n[m-2],g=n[m-1];break;case"c":j=i.C,h.addData(j,n[m++]+f,n[m++]+g,n[m++]+f,n[m++]+g,n[m++]+f,n[m++]+g),f+=n[m-2],g+=n[m-1];break;case"S":p=f,q=g;var y=h.len(),z=h.data;d===i.C&&(p+=f-z[y-4],q+=g-z[y-3]),j=i.C,w=n[m++],x=n[m++],f=n[m++],g=n[m++],h.addData(j,p,q,w,x,f,g);break;case"s":p=f,q=g;var y=h.len(),z=h.data;d===i.C&&(p+=f-z[y-4],q+=g-z[y-3]),j=i.C,w=f+n[m++],x=g+n[m++],f+=n[m++],g+=n[m++],h.addData(j,p,q,w,x,f,g);break;case"Q":w=n[m++],x=n[m++],f=n[m++],g=n[m++],j=i.Q,h.addData(j,w,x,f,g);break;case"q":w=n[m++]+f,x=n[m++]+g,f+=n[m++],g+=n[m++],j=i.Q,h.addData(j,w,x,f,g);break;case"T":p=f,q=g;var y=h.len(),z=h.data;d===i.Q&&(p+=f-z[y-4],q+=g-z[y-3]),f=n[m++],g=n[m++],j=i.Q,h.addData(j,p,q,f,g);break;case"t":p=f,q=g;var y=h.len(),z=h.data;d===i.Q&&(p+=f-z[y-4],q+=g-z[y-3]),f+=n[m++],g+=n[m++],j=i.Q,h.addData(j,p,q,f,g);break;case"A":r=n[m++],s=n[m++],t=n[m++],u=n[m++],v=n[m++],De(w=f,x=g,f=n[m++],g=n[m++],u,v,r,s,t,j=i.A,h);break;case"a":r=n[m++],s=n[m++],t=n[m++],u=n[m++],v=n[m++],De(w=f,x=g,f+=n[m++],g+=n[m++],u,v,r,s,t,j=i.A,h)}}"z"!==l&&"Z"!==l||(j=i.Z,h.addData(j)),d=j}return h.toStatic(),h}function Fe(a,b){var c=Ee(a);return b=b||{},b.buildPath=function(a){if(a.setData)a.setData(c.data),(b=a.getContext())&&a.rebuildPath(b);else{var b=a;c.rebuildPath(b)}},b.applyTransform=function(a){zq(c,a),this.dirty(!0)},b}function Ge(a,b){return new Ce(Fe(a,b))}function He(a,b){return Ce.extend(Fe(a,b))}function Ie(a,b,c,d,e,f,g){var h=.5*(c-a),i=.5*(d-b);return(2*(b-c)+h+i)*g+(-3*(b-c)-2*h-i)*f+h*e+b}function Je(a,b,c){var d=b.points,e=b.smooth;if(d&&d.length>=2){if(e&&"spline"!==e){var f=Pq(d,e,c,b.smoothConstraint);a.moveTo(d[0][0],d[0][1]);for(var g=d.length,h=0;h<(c?g:g-1);h++){var i=f[2*h],j=f[2*h+1],k=d[(h+1)%g];a.bezierCurveTo(i[0],i[1],j[0],j[1],k[0],k[1])}}else{"spline"===e&&(d=Oq(d,c)),a.moveTo(d[0][0],d[0][1]);for(var h=1,l=d.length;h<l;h++)a.lineTo(d[h][0],d[h][1])}c&&a.closePath()}}function Ke(a,b,c){var d=a.cpx2,e=a.cpy2;return null===d||null===e?[(c?$d:Zd)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?$d:Zd)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?ee:de)(a.x1,a.cpx1,a.x2,b),(c?ee:de)(a.y1,a.cpy1,a.y2,b)]}function Le(a){return Ce.extend(a)}function Me(a,b,c,d){var e=Ge(a,b),f=e.getBoundingRect();return c&&("center"===d&&(c=Oe(c,f)),Pe(e,c)),e}function Ne(a,b,c){var d=new Tc({style:{image:a,x:b.x,y:b.y,width:b.width,height:b.height},onload:function(a){if("center"===c){var e={width:a.width,height:a.height};d.setStyle(Oe(b,e))}}});return d}function Oe(a,b){var c,d=b.width/b.height,e=a.height*d;return c=e<=a.width?a.height:(e=a.width)/d,{x:a.x+a.width/2-e/2,y:a.y+a.height/2-c/2,width:e,height:c}}function Pe(a,b){if(a.applyTransform){var c=a.getBoundingRect().calculateTransform(b);a.applyTransform(c)}}function Qe(a){var b=a.shape,c=a.style.lineWidth;return _q(2*b.x1)===_q(2*b.x2)&&(b.x1=b.x2=Se(b.x1,c,!0)),_q(2*b.y1)===_q(2*b.y2)&&(b.y1=b.y2=Se(b.y1,c,!0)),a}function Re(a){var b=a.shape,c=a.style.lineWidth,d=b.x,e=b.y,f=b.width,g=b.height;return b.x=Se(b.x,c,!0),b.y=Se(b.y,c,!0),b.width=Math.max(Se(d+f,c,!1)-b.x,0===f?0:1),b.height=Math.max(Se(e+g,c,!1)-b.y,0===g?0:1),a}function Se(a,b,c){var d=_q(2*a);return(d+_q(b))%2==0?d/2:(d+(c?1:-1))/2}function Te(a){return null!=a&&"none"!=a}function Ue(a){return"string"==typeof a?zb(a,-0.1):a}function Ve(a){if(a.__hoverStlDirty){var b=a.style.stroke,c=a.style.fill,d=a.__hoverStl;d.fill=d.fill||(Te(c)?Ue(c):null),d.stroke=d.stroke||(Te(b)?Ue(b):null);var e={};for(var f in d)null!=d[f]&&(e[f]=a.style[f]);a.__normalStl=e,a.__hoverStlDirty=!1}}function We(a){if(!a.__isHover){if(Ve(a),a.useHoverLayer)a.__zr&&a.__zr.addHover(a,a.__hoverStl);else{var b=a.style,c=b.insideRollbackOpt;c&&mf(b),b.extendFrom(a.__hoverStl),c&&(lf(b,b.insideOriginalTextPosition,c),null==b.textFill&&(b.textFill=c.autoColor)),a.dirty(!1),a.z2+=1}a.__isHover=!0}}function Xe(a){if(a.__isHover){var b=a.__normalStl;a.useHoverLayer?a.__zr&&a.__zr.removeHover(a):(b&&a.setStyle(b),a.z2-=1),a.__isHover=!1}}function Ye(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&We(a)}):We(a)}function Ze(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&Xe(a)}):Xe(a)}function $e(a,b){a.__hoverStl=a.hoverStyle||b||{},a.__hoverStlDirty=!0,a.__isHover&&Ve(a)}function _e(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&Ye(this)}function af(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&Ze(this)}function bf(){this.__isEmphasis=!0,Ye(this)}function cf(){this.__isEmphasis=!1,Ze(this)}function df(a,b,c){a.__hoverSilentOnTouch=c&&c.hoverSilentOnTouch,"group"===a.type?a.traverse(function(a){"group"!==a.type&&$e(a,b)}):$e(a,b),a.on("mouseover",_e).on("mouseout",af),a.on("emphasis",bf).on("normal",cf)}function ef(a,b,c,d,e,f,g){var h=(e=e||cr).labelFetcher,i=e.labelDataIndex,j=e.labelDimIndex,k=c.getShallow("show"),l=d.getShallow("show"),m=k||l?A(h?h.getFormattedLabel(i,"normal",null,j):null,e.defaultText):null,n=k?m:null,o=l?A(h?h.getFormattedLabel(i,"emphasis",null,j):null,m):null;null==n&&null==o||(ff(a,c,f,e),ff(b,d,g,e,!0)),a.text=n,b.text=o}function ff(a,b,c,d,e){return gf(a,b,d,e),c&&f(a,c),a.host&&a.host.dirty&&a.host.dirty(!1),a}function gf(a,b,c,d){if((c=c||cr).isRectText){var e=b.getShallow("position")||(d?null:"inside");"outside"===e&&(e="top"),a.textPosition=e,a.textOffset=b.getShallow("offset");var f=b.getShallow("rotate");null!=f&&(f*=Math.PI/180),a.textRotation=f,a.textDistance=A(b.getShallow("distance"),d?null:5)}var g,h=b.ecModel,i=h&&h.option.textStyle,j=hf(b);if(j){g={};for(var k in j)if(j.hasOwnProperty(k)){var l=b.getModel(["rich",k]);jf(g[k]={},l,i,c,d)}}return a.rich=g,jf(a,b,i,c,d,!0),c.forceRich&&!c.textStyle&&(c.textStyle={}),a}function hf(a){for(var b;a&&a!==a.ecModel;){var c=(a.option||cr).rich;if(c){b=b||{};for(var d in c)c.hasOwnProperty(d)&&(b[d]=1)}a=a.parentModel}return b}function jf(a,b,c,d,e,f){if(c=!e&&c||cr,a.textFill=kf(b.getShallow("color"),d)||c.color,a.textStroke=kf(b.getShallow("textBorderColor"),d)||c.textBorderColor,a.textStrokeWidth=A(b.getShallow("textBorderWidth"),c.textBorderWidth),!e){if(f){var g=a.textPosition;a.insideRollback=lf(a,g,d),a.insideOriginalTextPosition=g,a.insideRollbackOpt=d}null==a.textFill&&(a.textFill=d.autoColor)}a.fontStyle=b.getShallow("fontStyle")||c.fontStyle,a.fontWeight=b.getShallow("fontWeight")||c.fontWeight,a.fontSize=b.getShallow("fontSize")||c.fontSize,a.fontFamily=b.getShallow("fontFamily")||c.fontFamily,a.textAlign=b.getShallow("align"),a.textVerticalAlign=b.getShallow("verticalAlign")||b.getShallow("baseline"),a.textLineHeight=b.getShallow("lineHeight"),a.textWidth=b.getShallow("width"),a.textHeight=b.getShallow("height"),a.textTag=b.getShallow("tag"),f&&d.disableBox||(a.textBackgroundColor=kf(b.getShallow("backgroundColor"),d),a.textPadding=b.getShallow("padding"),a.textBorderColor=kf(b.getShallow("borderColor"),d),a.textBorderWidth=b.getShallow("borderWidth"),a.textBorderRadius=b.getShallow("borderRadius"),a.textBoxShadowColor=b.getShallow("shadowColor"),a.textBoxShadowBlur=b.getShallow("shadowBlur"),a.textBoxShadowOffsetX=b.getShallow("shadowOffsetX"),a.textBoxShadowOffsetY=b.getShallow("shadowOffsetY")),a.textShadowColor=b.getShallow("textShadowColor")||c.textShadowColor,a.textShadowBlur=b.getShallow("textShadowBlur")||c.textShadowBlur,a.textShadowOffsetX=b.getShallow("textShadowOffsetX")||c.textShadowOffsetX,a.textShadowOffsetY=b.getShallow("textShadowOffsetY")||c.textShadowOffsetY}function kf(a,b){return"auto"!==a?a:b&&b.autoColor?b.autoColor:null}function lf(a,b,c){var d,e=c.useInsideStyle;return null==a.textFill&&!1!==e&&(!0===e||c.isRectText&&b&&"string"==typeof b&&b.indexOf("inside")>=0)&&(d={textFill:null,textStroke:a.textStroke,textStrokeWidth:a.textStrokeWidth},a.textFill="#fff",null==a.textStroke&&(a.textStroke=c.autoColor,null==a.textStrokeWidth&&(a.textStrokeWidth=2))),d}function mf(a){var b=a.insideRollback;b&&(a.textFill=b.textFill,a.textStroke=b.textStroke,a.textStrokeWidth=b.textStrokeWidth)}function nf(a,b){var c=b||b.getModel("textStyle");return[a.fontStyle||c&&c.getShallow("fontStyle")||"",a.fontWeight||c&&c.getShallow("fontWeight")||"",(a.fontSize||c&&c.getShallow("fontSize")||12)+"px",a.fontFamily||c&&c.getShallow("fontFamily")||"sans-serif"].join(" ")}function of(a,b,c,d,e,f){if("function"==typeof e&&(f=e,e=null),d&&d.isAnimationEnabled()){var g=a?"Update":"",h=d.getShallow("animationDuration"+g),i=d.getShallow("animationEasing"+g),j=d.getShallow("animationDelay"+g);"function"==typeof j&&(j=j(e,d.getAnimationDelayParams?d.getAnimationDelayParams(b,e):null)),"function"==typeof h&&(h=h(e)),h>0?b.animateTo(c,h,j||0,i,f,!!f):(b.stopAnimation(),b.attr(c),f&&f())}else b.stopAnimation(),b.attr(c),f&&f()}function pf(a,b,c,d,e){of(!0,a,b,c,d,e)}function qf(a,b,c,d,e){of(!1,a,b,c,d,e)}function rf(a,b){for(var c=db([]);a&&a!==b;)fb(c,a.getLocalTransform(),c),a=a.parent;return c}function sf(a,b,c){return b&&!l(b)&&(b=_n.getLocalTransform(b)),c&&(b=jb([],b)),W([],a,b)}function tf(a,b,c){var d=0===b[4]||0===b[5]||0===b[0]?1:Math.abs(2*b[4]/b[0]),e=0===b[4]||0===b[5]||0===b[2]?1:Math.abs(2*b[4]/b[2]),f=["left"===a?-d:"right"===a?d:0,"top"===a?-e:"bottom"===a?e:0];return f=sf(f,b,c),Math.abs(f[0])>Math.abs(f[1])?f[0]>0?"right":"left":f[1]>0?"bottom":"top"}function uf(a,b,c,d){function e(a){var b={position:M(a.position),rotation:a.rotation};return a.shape&&(b.shape=f({},a.shape)),b}if(a&&b){var g=function(a){var b={};return a.traverse(function(a){!a.isGroup&&a.anid&&(b[a.anid]=a)}),b}(a);b.traverse(function(a){if(!a.isGroup&&a.anid){var b=g[a.anid];if(b){var d=e(a);a.attr(e(b)),pf(a,d,c,a.dataIndex)}}})}}function vf(a,b){return n(a,function(a){var c=a[0];c=ar(c,b.x),c=br(c,b.x+b.width);var d=a[1];return d=ar(d,b.y),d=br(d,b.y+b.height),[c,d]})}function wf(a,b,c){var d=(b=f({rectHover:!0},b)).style={strokeNoScale:!0};if(c=c||{x:-1,y:-1,width:2,height:2},a)return 0===a.indexOf("image://")?(d.image=a.slice(8),g(d,c),new Tc(b)):Me(a.replace("path://",""),b,c,"center")}function xf(a,b,c){this.parentModel=b,this.ecModel=c,this.option=a}function yf(a,b,c){for(var d=0;d<b.length&&(!b[d]||null!=(a=a&&"object"==typeof a?a[b[d]]:null));d++);return null==a&&c&&(a=c.get(b)),a}function zf(a,b){var c=Pd(a,"getParent");return c?c.call(a,b):a.parentModel}function Af(a){return a instanceof Array?a:null==a?[]:[a]}function Bf(a,b){if(a)for(var c=a.emphasis=a.emphasis||{},d=a.normal=a.normal||{},e=0,f=b.length;e<f;e++){var g=b[e];!c.hasOwnProperty(g)&&d.hasOwnProperty(g)&&(c[g]=d[g])}}function Cf(a){return a&&(null==a.value?a:a.value)}function Df(a){return kr(a)&&!(a instanceof Array)}function Ef(a,b){var c=b&&b.type;return"ordinal"===c?a:("time"===c&&"number"!=typeof a&&null!=a&&"-"!==a&&(a=+Dd(a)),null==a||""===a?NaN:+a)}function Ff(a,b){b=(b||[]).slice();var c=n(a||[],function(a,b){return{exist:a}});return jr(b,function(a,d){if(kr(a)){for(e=0;e<c.length;e++)if(!c[e].option&&null!=a.id&&c[e].exist.id===a.id+"")return c[e].option=a,void (b[d]=null);for(var e=0;e<c.length;e++){var f=c[e].exist;if(!(c[e].option||null!=f.id&&null!=a.id||null==a.name||Hf(a)||Hf(f)||f.name!==a.name+""))return c[e].option=a,void (b[d]=null)}}}),jr(b,function(a,b){if(kr(a)){for(var d=0;d<c.length;d++){var e=c[d].exist;if(!c[d].option&&!Hf(e)&&null==a.id){c[d].option=a;break}}d>=c.length&&c.push({option:a})}}),c}function Gf(a){var b=I();jr(a,function(a,c){var d=a.exist;d&&b.set(d.id,a)}),jr(a,function(a,c){var d=a.option;E(!d||null==d.id||!b.get(d.id)||b.get(d.id)===a,"id duplicates: "+(d&&d.id)),d&&null!=d.id&&b.set(d.id,a),!a.keyInfo&&(a.keyInfo={})}),jr(a,function(a,c){var d=a.exist,e=a.option,f=a.keyInfo;if(kr(e)){if(f.name=null!=e.name?e.name+"":d?d.name:"\0-",d)f.id=d.id;else if(null!=e.id)f.id=e.id+"";else{var g=0;do f.id="\0"+f.name+"\0"+g++;while(b.get(f.id))}b.set(f.id,a)}})}function Hf(a){return kr(a)&&a.id&&0===(a.id+"").indexOf("\0_ec_\0")}function If(a,b){return null!=b.dataIndexInside?b.dataIndexInside:null!=b.dataIndex?s(b.dataIndex)?n(b.dataIndex,function(b){return a.indexOfRawIndex(b)}):a.indexOfRawIndex(b.dataIndex):null!=b.name?s(b.name)?n(b.name,function(b){return a.indexOfName(b)}):a.indexOfName(b.name):void 0}function Jf(a,b,c){if(u(b)){var d={};d[b+"Index"]=0,b=d}var e=c&&c.defaultMainType;!e||Nf(b,e+"Index")||Nf(b,e+"Id")||Nf(b,e+"Name")||(b[e+"Index"]=0);var f={};return jr(b,function(d,e){var d=b[e];if("dataIndex"!==e&&"dataIndexInside"!==e){var g=e.match(/^(\w+)(Index|Id|Name)$/)||[],h=g[1],j=(g[2]||"").toLowerCase();if(!(!h||!j||null==d||"index"===j&&"none"===d||c&&c.includeMainTypes&&i(c.includeMainTypes,h)<0)){var k={mainType:h};"index"===j&&"all"===d||(k[j]=d);var l=a.queryComponents(k);f[h+"Models"]=l,f[h+"Model"]=l[0]}}else f[e]=d}),f}function Kf(a,b){var c=a.dimensions;b=a.getDimension(b);for(var d=0;d<c.length;d++){var e=a.getDimensionInfo(c[d]);if(e.name===b)return e.coordDim}}function Lf(a,b){var c=[];return jr(a.dimensions,function(d){var e=a.getDimensionInfo(d);e.coordDim===b&&(c[e.coordDimIndex]=e.name)}),c}function Mf(a,b){var c=[];return jr(a.dimensions,function(d){var e=a.getDimensionInfo(d),f=e.otherDims[b];null!=f&&!1!==f&&(c[f]=e.name)}),c}function Nf(a,b){return a&&a.hasOwnProperty(b)}function Of(a){return[a||"",or++,Math.random()].join(pr)}function Pf(a,b,c,d,e){var f=0,g=0;null==d&&(d=1/0),null==e&&(e=1/0);var h=0;b.eachChild(function(i,j){var k,l,m=i.position,n=i.getBoundingRect(),o=b.childAt(j+1),p=o&&o.getBoundingRect();if("horizontal"===a){var q=n.width+(p?-p.x+n.x:0);(k=f+q)>d||i.newline?(f=0,k=q,g+=h+c,h=n.height):h=Math.max(h,n.height)}else{var r=n.height+(p?-p.y+n.y:0);(l=g+r)>e||i.newline?(f+=h+c,g=0,l=r,h=n.width):h=Math.max(h,n.width)}i.newline||(m[0]=f,m[1]=g,"horizontal"===a?f=k+c:g=l+c)})}function Qf(a,b,c){c=sp(c||0);var d=b.width,e=b.height,f=ud(a.left,d),g=ud(a.top,e),h=ud(a.right,d),i=ud(a.bottom,e),j=ud(a.width,d),k=ud(a.height,e),l=c[2]+c[0],m=c[1]+c[3],n=a.aspect;switch(isNaN(j)&&(j=d-h-m-f),isNaN(k)&&(k=e-i-l-g),null!=n&&(isNaN(j)&&isNaN(k)&&(n>d/e?j=.8*d:k=.8*e),isNaN(j)&&(j=n*k),isNaN(k)&&(k=j/n)),isNaN(f)&&(f=d-h-j-m),isNaN(g)&&(g=e-i-k-l),a.left||a.right){case"center":f=d/2-j/2-c[3];break;case"right":f=d-j-m}switch(a.top||a.bottom){case"middle":case"center":g=e/2-k/2-c[0];break;case"bottom":g=e-k-l}f=f||0,g=g||0,isNaN(j)&&(j=d-m-f-(h||0)),isNaN(k)&&(k=e-l-g-(i||0));var o=new Sb(f+c[3],g+c[0],j,k);return o.margin=c,o}function Rf(a,b,c,d,e){var f=!e||!e.hv||e.hv[0],h=!e||!e.hv||e.hv[1],i=e&&e.boundingMode||"all";if(f||h){var j;if("raw"===i)j="group"===a.type?new Sb(0,0,+b.width||0,+b.height||0):a.getBoundingRect();else if(j=a.getBoundingRect(),a.needLocalTransform()){var k=a.getLocalTransform();(j=j.clone()).applyTransform(k)}b=Qf(g({width:j.width,height:j.height},b),c,d);var l=a.position,m=f?b.x-j.x:0,n=h?b.y-j.y:0;a.attr("position","raw"===i?[m,n]:[l[0]+m,l[1]+n])}}function Sf(a,b,c){function d(c,d){var g={},i=0,j={},k=0;if(qr(c,function(b){j[b]=a[b]}),qr(c,function(a){e(b,a)&&(g[a]=j[a]=b[a]),f(g,a)&&i++,f(j,a)&&k++}),h[d])return f(b,c[1])?j[c[2]]=null:f(b,c[2])&&(j[c[1]]=null),j;if(2!==k&&i){if(i>=2)return g;for(var l=0;l<c.length;l++){var m=c[l];if(!e(g,m)&&e(a,m)){g[m]=a[m];break}}return g}return j}function e(a,b){return a.hasOwnProperty(b)}function f(a,b){return null!=a[b]&&"auto"!==a[b]}function g(a,b,c){qr(a,function(a){b[a]=c[a]})}!v(c)&&(c={});var h=c.ignoreSize;!s(h)&&(h=[h,h]);var i=d(sr[0],0),j=d(sr[1],1);g(sr[0],a,i),g(sr[1],a,j)}function Tf(a){return Uf({},a)}function Uf(a,b){return b&&a&&qr(rr,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function Vf(a,b){m(b,function(b,e){wr.hasClass(e)||("object"==typeof b?a[e]=a[e]?d(a[e],b,!1):c(b):null==a[e]&&(a[e]=b))})}function Wf(a){a=a,this.option={},this.option[Gr]=1,this._componentsMap=I({series:[]}),this._seriesIndices=null,Vf(a,this._theme.option),d(a,yr,!1),this.mergeOption(a)}function Xf(a,b){s(b)||(b=b?[b]:[]);var c={};return Ar(b,function(b){c[b]=(a.get(b)||[]).slice()}),c}function Yf(a,b,c){return b.type?b.type:c?c.subType:wr.determineSubType(a,b)}function Zf(a){return Cr(a,function(a){return a.componentIndex})||[]}function $f(a,b){return b.hasOwnProperty("subType")?Br(a,function(a){return a.subType===b.subType}):a}function _f(a){m(Ir,function(b){this[b]=q(a[b],a)},this)}function ag(){this._coordinateSystems=[]}function bg(a){this._api=a,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function cg(a,b,c){var d,e,f=[],g=[],h=a.timeline;if(a.baseOption&&(e=a.baseOption),(h||a.options)&&(e=e||{},f=(a.options||[]).slice()),a.media){e=e||{};var i=a.media;Kr(i,function(a){a&&a.option&&(a.query?g.push(a):d||(d=a))})}return e||(e=a),e.timeline||(e.timeline=h),Kr([e].concat(f).concat(n(g,function(a){return a.option})),function(a){Kr(b,function(b){b(a,c)})}),{baseOption:e,timelineOptions:f,mediaDefault:d,mediaList:g}}function dg(a,b,c){var d={width:b,height:c,aspectratio:b/c},e=!0;return m(a,function(a,b){var c=b.match(Or);if(c&&c[1]&&c[2]){var f=c[1],g=c[2].toLowerCase();eg(d[g],a,f)||(e=!1)}}),e}function eg(a,b,c){return"min"===c?a>=b:"max"===c?a<=b:a===b}function fg(a,b){return a.join(",")===b.join(",")}function gg(a,b){Kr(b=b||{},function(b,c){if(null!=b){var d=a[c];if(wr.hasClass(c)){b=Af(b);var e=Ff(d=Af(d),b);a[c]=Mr(e,function(a){return a.option&&a.exist?Nr(a.exist,a.option,!0):a.exist||a.option})}else a[c]=Nr(d,b,!0)}})}function hg(a){var b=a&&a.itemStyle;if(b)for(var c=0,e=Rr.length;c<e;c++){var f=Rr[c],g=b.normal,h=b.emphasis;g&&g[f]&&(a[f]=a[f]||{},a[f].normal?d(a[f].normal,g[f]):a[f].normal=g[f],g[f]=null),h&&h[f]&&(a[f]=a[f]||{},a[f].emphasis?d(a[f].emphasis,h[f]):a[f].emphasis=h[f],h[f]=null)}}function ig(a,b){var c=Qr(a)&&a[b],d=Qr(c)&&c.textStyle;if(d)for(var e=0,f=lr.length;e<f;e++){var b=lr[e];d.hasOwnProperty(b)&&(c[b]=d[b])}}function jg(a){Qr(a)&&(ig(a,"normal"),ig(a,"emphasis"))}function kg(a){if(Qr(a)){hg(a),jg(a.label),jg(a.upperLabel),jg(a.edgeLabel);var b=a.markPoint;hg(b),jg(b&&b.label);var c=a.markLine;hg(a.markLine),jg(c&&c.label);var d=a.markArea;jg(d&&d.label),ig(a,"axisLabel"),ig(a,"title"),ig(a,"detail");var e=a.data;if(e)for(g=0;g<e.length;g++)hg(e[g]),jg(e[g]&&e[g].label);if((b=a.markPoint)&&b.data)for(var f=b.data,g=0;g<f.length;g++)hg(f[g]),jg(f[g]&&f[g].label);if((c=a.markLine)&&c.data)for(var h=c.data,g=0;g<h.length;g++)s(h[g])?(hg(h[g][0]),jg(h[g][0]&&h[g][0].label),hg(h[g][1]),jg(h[g][1]&&h[g][1].label)):(hg(h[g]),jg(h[g]&&h[g].label))}}function lg(a){return s(a)?a:a?[a]:[]}function mg(a){return(s(a)?a[0]:a)||{}}function ng(a,b){b=b.split(",");for(var c=a,d=0;d<b.length&&null!=(c=c&&c[b[d]]);d++);return c}function og(a,b,c,d){b=b.split(",");for(var e,f=a,g=0;g<b.length-1;g++)null==f[e=b[g]]&&(f[e]={}),f=f[e];(d||null==f[b[g]])&&(f[b[g]]=c)}function pg(a){m(Tr,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}function qg(){this.group=new Ao,this.uid=Of("viewChart")}function rg(a,b){if(a&&(a.trigger(b),"group"===a.type))for(var c=0;c<a.childCount();c++)rg(a.childAt(c),b)}function sg(a,b,c){var d=If(a,b);null!=d?m(Af(d),function(b){rg(a.getItemGraphicEl(b),c)}):a.eachItemGraphicEl(function(a){rg(a,c)})}function tg(a,b,c){function d(){k=(new Date).getTime(),l=null,a.apply(g,h||[])}var e,f,g,h,i,j=0,k=0,l=null;b=b||0;var m=function(){e=(new Date).getTime(),g=this,h=arguments;var a=i||b,m=i||c;i=null,f=e-(m?j:k)-a,clearTimeout(l),m?l=setTimeout(d,a):f>=0?d():l=setTimeout(d,-f),j=e};return m.clear=function(){l&&(clearTimeout(l),l=null)},m.debounceNextCall=function(a){i=a},m}function ug(a,b,c,d){var e=a[b];if(e){var f=e[_r]||e,g=e[bs];if(e[as]!==c||g!==d){if(null==c||!d)return a[b]=f;(e=a[b]=tg(f,c,"debounce"===d))[_r]=f,e[bs]=d,e[as]=c}return e}}function vg(a,b){var c=a[b];c&&c[_r]&&(a[b]=c[_r])}function wg(a){return function(b,c,d){b=b&&b.toLowerCase(),Tn.prototype[a].call(this,b,c,d)}}function xg(){Tn.call(this)}function yg(a,b,d){function e(a,b){return a.prio-b.prio}d=d||{},"string"==typeof b&&(b=ws[b]),this.id,this.group,this._dom=a;var f=this._zr=pd(a,{renderer:d.renderer||"canvas",devicePixelRatio:d.devicePixelRatio,width:d.width,height:d.height});this._throttledZrFlush=tg(q(f.flush,f),17),(b=c(b))&&Wr(b,!0),this._theme=b,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new ag,this._api=Og(this),Tn.call(this),this._messageCenter=new xg,this._initEvents(),this.resize=q(this.resize,this),this._pendingActions=[],$b(vs,e),$b(ss,e),f.animation.on("frame",this._onframe,this),F(this)}function zg(a,b,c){var d,e=this._model,f=this._coordSysMgr.getCoordinateSystems();b=Jf(e,b);for(var g=0;g<f.length;g++){var h=f[g];if(h[a]&&null!=(d=h[a](e,b,c)))return d}}function Ag(a,b,c,d,e){function f(d){d&&d.__alive&&d[b]&&d[b](d.__model,g,a._api,c)}var g=a._model;if(d){var h={};h[d+"Id"]=c[d+"Id"],h[d+"Index"]=c[d+"Index"],h[d+"Name"]=c[d+"Name"];var i={mainType:d,query:h};e&&(i.subType=e),g&&g.eachComponent(i,function(b,c){f(a["series"===d?"_chartsMap":"_componentsMap"][b.__viewId])},a)}else ds(a._componentsViews.concat(a._chartsViews),f)}function Bg(a,b){var c=a.type,d=a.escapeConnect,e=qs[c],h=e.actionInfo,i=(h.update||"update").split(":"),j=i.pop();i=null!=i[0]&&es(i[0]),this[ks]=!0;var k=[a],l=!1;a.batch&&(l=!0,k=n(a.batch,function(b){return b=g(f({},b),a),b.batch=null,b}));var m,o=[],p="highlight"===c||"downplay"===c;ds(k,function(a){m=e.action(a,this._model,this._api),(m=m||f({},a)).type=h.event||m.type,o.push(m),p?Ag(this,j,a,"series"):i&&Ag(this,j,a,i.main,i.sub)},this),"none"===j||p||i||(this[ls]?(os.prepareAndUpdate.call(this,a),this[ls]=!1):os[j].call(this,a)),m=l?{type:h.event||c,escapeConnect:d,batch:o}:o[0],this[ks]=!1,!b&&this._messageCenter.trigger(m.type,m)}function Cg(a){for(var b=this._pendingActions;b.length;){var c=b.shift();Bg.call(this,c,a)}}function Dg(a){!a&&this.trigger("updated")}function Eg(a,b,c){var d=this._api;ds(this._componentsViews,function(e){var f=e.__model;e[a](f,b,d,c),Ng(f,e)},this),b.eachSeries(function(e,f){var g=this._chartsMap[e.__viewId];g[a](e,b,d,c),Ng(e,g),Mg(e,g)},this),Lg(this._zr,b),ds(us,function(a){a(b,d)})}function Fg(a,b){for(var c="component"===a,d=c?this._componentsViews:this._chartsViews,e=c?this._componentsMap:this._chartsMap,f=this._zr,g=0;g<d.length;g++)d[g].__alive=!1;b[c?"eachComponent":"eachSeries"](function(a,g){if(c){if("series"===a)return}else g=a;var h="_ec_"+g.id+"_"+g.type,i=e[h];if(!i){var j=es(g.type),k=c?Yr.getClass(j.main,j.sub):qg.getClass(j.sub);if(!k)return;(i=new k).init(b,this._api),e[h]=i,d.push(i),f.add(i.group)}g.__viewId=i.__id=h,i.__alive=!0,i.__model=g,i.group.__ecComponentInfo={mainType:g.mainType,index:g.componentIndex}},this);for(g=0;g<d.length;){var h=d[g];h.__alive?g++:(f.remove(h.group),h.dispose(b,this._api),d.splice(g,1),delete e[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function Gg(a,b){ds(ss,function(c){c.func(a,b)})}function Hg(a){var b={};a.eachSeries(function(a){var c=a.get("stack"),d=a.getData();if(c&&"list"===d.type){var e=b[c];b.hasOwnProperty(c)&&e&&(d.stackedOn=e),b[c]=d}})}function Ig(a,b){var c=this._api;ds(vs,function(d){d.isLayout&&d.func(a,c,b)})}function Jg(a,b,c){var d=this._api;a.clearColorPalette(),a.eachSeries(function(a){a.clearColorPalette()}),ds(vs,function(e){(!c||!e.isLayout)&&e.func(a,d,b)})}function Kg(a,b){var c=this._api;ds(this._componentsViews,function(d){var e=d.__model;d.render(e,a,c,b),Ng(e,d)},this),ds(this._chartsViews,function(a){a.__alive=!1},this),a.eachSeries(function(d,e){var f=this._chartsMap[d.__viewId];f.__alive=!0,f.render(d,a,c,b),f.group.silent=!!d.get("silent"),Ng(d,f),Mg(d,f)},this),Lg(this._zr,a),ds(this._chartsViews,function(b){b.__alive||b.remove(a,c)},this)}function Lg(a,b){var c=a.storage,d=0;c.traverse(function(a){a.isGroup||d++}),d>b.get("hoverLayerThreshold")&&!xn.node&&c.traverse(function(a){a.isGroup||(a.useHoverLayer=!0)})}function Mg(a,b){var c=0;b.group.traverse(function(a){"group"===a.type||a.ignore||c++});var d=+a.get("progressive"),e=c>a.get("progressiveThreshold")&&d&&!xn.node;e&&b.group.traverse(function(a){a.isGroup||(a.progressive=e?Math.floor(c++/d):-1,e&&a.stopAnimation(!0))});var f=a.get("blendMode")||null;b.group.traverse(function(a){a.isGroup||a.setStyle("blend",f)})}function Ng(a,b){var c=a.get("z"),d=a.get("zlevel");b.group.traverse(function(a){"group"!==a.type&&(null!=c&&(a.z=c),null!=d&&(a.zlevel=d))})}function Og(a){var b=a._coordSysMgr;return f(new _f(a),{getCoordinateSystems:q(b.getCoordinateSystems,b),getComponentByElement:function(b){for(;b;){var c=b.__ecComponentInfo;if(null!=c)return a._model.getComponent(c.mainType,c.index);b=b.parent}}})}function Pg(a){function b(a,b){for(var d=0;d<a.length;d++)a[d][c]=b}var c="__connectUpdateStatus";m(rs,function(d,e){a._messageCenter.on(e,function(d){if(zs[a.group]&&0!==a[c]){if(d&&d.escapeConnect)return;var e=a.makeActionFromEvent(d),f=[];m(ys,function(b){b!==a&&b.group===a.group&&f.push(b)}),b(f,0),ds(f,function(a){1!==a[c]&&a.dispatchAction(e)}),b(f,2)}})})}function Qg(a){zs[a]=!1}function Rg(a){var b;return b=a.getAttribute?a.getAttribute(Cs):a[Cs],ys[b]}function Sg(a){ts.push(a)}function Tg(a,b){"function"==typeof a&&(b=a,a=gs),ss.push({prio:a,func:b})}function Ug(a,b,c){"function"==typeof b&&(c=b,b="");var d=v(a)?a.type:[a,a={event:b}][0];a.event=(a.event||d).toLowerCase(),b=a.event,E(ms.test(d)&&ms.test(b)),qs[d]||(qs[d]={action:c,actionInfo:a}),rs[b]=d}function Vg(a,b){"function"==typeof a&&(b=a,a=hs),vs.push({prio:a,func:b,isLayout:!0})}function Wg(a,b){"function"==typeof a&&(b=a,a=is),vs.push({prio:a,func:b})}function Xg(a,b){xs[a]=b}function Yg(a){return wr.extend(a)}function Zg(a){return Yr.extend(a)}function $g(a){return Xr.extend(a)}function _g(a){return qg.extend(a)}function ah(a){return a}function bh(a,b,c,d,e){this._old=a,this._new=b,this._oldKeyGetter=c||ah,this._newKeyGetter=d||ah,this.context=e}function ch(a,b,c,d,e){for(var f=0;f<a.length;f++){var g="_ec_"+e[d](a[f],f),h=b[g];null==h?(c.push(g),b[g]=f):(h.length||(b[g]=h=[h]),h.push(f))}}function dh(a,b){m(Js.concat(b.__wrappedMethods||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a.__wrappedMethods=b.__wrappedMethods}function eh(a){this._array=a||[]}function fh(a){return s(a)||(a=[a]),a}function gh(a,b){var c=a.dimensions,d=new Ks(n(c,a.getDimensionInfo,a),a.hostModel);dh(d,a);for(var e=d._storage={},f=a._storage,g=0;g<c.length;g++){var h=c[g],j=f[h];i(b,h)>=0?e[h]=new j.constructor(f[h].length):e[h]=f[h]}return d}function hh(a,b,d){function e(a,b,c){Qs[b]?a.otherDims[b]=c:(a.coordDim=b,a.coordDimIndex=c,j.set(b,!0))}function f(a,b,c){if(c||null!=b.get(a)){for(var d=0;null!=b.get(a+d);)d++;a+=d}return b.set(a,!0),a}b=b||[],d=d||{},a=(a||[]).slice();var g=(d.dimsDef||[]).slice(),h=I(d.encodeDef),i=I(),j=I(),k=[],l=d.dimCount;if(null==l){var m=ih(b[0]);l=Math.max(s(m)&&m.length||1,a.length,g.length),Ns(a,function(a){var b=a.dimsDef;b&&(l=Math.max(l,b.length))})}for(var n=0;n<l;n++){var o=Os(g[n])?{name:g[n]}:g[n]||{},p=o.name,q=k[n]={otherDims:{}};null!=p&&null==i.get(p)&&(q.name=q.tooltipName=p,i.set(p,n)),null!=o.type&&(q.type=o.type)}h.each(function(a,b){a=h.set(b,Af(a).slice()),Ns(a,function(c,d){Os(c)&&(c=i.get(c)),null!=c&&c<l&&(a[d]=c,e(k[c],b,d))})});var r=0;Ns(a,function(a,b){var d,a,f,g;Os(a)?(d=a,a={}):(d=a.name,a=c(a),f=a.dimsDef,g=a.otherDims,a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null);var i=Af(h.get(d));if(!i.length)for(var j=0;j<(f&&f.length||1);j++){for(;r<k.length&&null!=k[r].coordDim;)r++;r<k.length&&i.push(r++)}Ns(i,function(b,c){var h=k[b];e(Ps(h,a),d,c),null==h.name&&f&&(h.name=h.tooltipName=f[c]),g&&Ps(h.otherDims,g)})});for(var t=d.extraPrefix||"value",u=0;u<l;u++)null==(q=k[u]=k[u]||{}).coordDim&&(q.coordDim=f(t,j,d.extraFromZero),q.coordDimIndex=0,q.isExtraCoord=!0),null==q.name&&(q.name=f(q.coordDim,i)),null==q.type&&Rs(b,u)&&(q.type="ordinal");return k}function ih(a){return s(a)?a:v(a)?a.value:a}function jh(a){for(var b=0;b<a.length&&null==a[b];)b++;return a[b]}function kh(a){var b=jh(a);return null!=b&&!s(Cf(b))}function lh(a,b,c){a=a||[];var d=b.get("coordinateSystem"),e=Ss[d],f=ag.get(d),g={encodeDef:b.get("encode"),dimsDef:b.get("dimensions")},h=e&&e(a,b,c,g),j=h&&h.dimensions;j||(j=f&&(f.getDimensionsInfo?f.getDimensionsInfo():f.dimensions.slice())||["x","y"],j=hh(j,a,g));var k=h?h.categoryIndex:-1,l=new Ks(j,b),m=oh(h,a),n={},o=k>=0&&kh(a)?function(a,b,c,d){return Df(a)&&(l.hasItemOption=!0),d===k?c:Ef(Cf(a),j[d])}:function(a,b,c,d){var e=Cf(a),f=Ef(e&&e[d],j[d]);Df(a)&&(l.hasItemOption=!0);var g=h&&h.categoryAxesModels;return g&&g[b]&&"string"==typeof f&&(n[b]=n[b]||g[b].getCategories(),(f=i(n[b],f))<0&&!isNaN(f)&&(f=+f)),f};return l.hasItemOption=!1,l.initData(a,m,o),l}function mh(a){return"category"!==a&&"time"!==a}function nh(a){return"category"===a?"ordinal":"time"===a?"time":"float"}function oh(a,b){var c,d=[],e=a&&a.dimensions[a.categoryIndex];if(e&&(c=a.categoryAxesModels[e.name]),c){var f=c.getCategories();if(f){var g=b.length;if(s(b[0])&&b[0].length>1){d=[];for(var h=0;h<g;h++)d[h]=f[b[h][a.categoryIndex||0]]}else d=f.slice(0)}}return d}function ph(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function qh(a,b,c,d){var e={},f=a[1]-a[0],g=e.interval=Gd(f/b,!0);null!=c&&g<c&&(g=e.interval=c),null!=d&&g>d&&(g=e.interval=d);var h=e.intervalPrecision=rh(g);return th(e.niceTickExtent=[Vs(Math.ceil(a[0]/g)*g,h),Vs(Math.floor(a[1]/g)*g,h)],a),e}function rh(a){return yd(a)+2}function sh(a,b,c){a[b]=Math.max(Math.min(a[b],c[1]),c[0])}function th(a,b){!isFinite(a[0])&&(a[0]=b[0]),!isFinite(a[1])&&(a[1]=b[1]),sh(a,0,b),sh(a,1,b),a[0]>a[1]&&(a[0]=a[1])}function uh(a,b,c,d){var e=[];if(!a)return e;b[0]<c[0]&&e.push(b[0]);for(var f=c[0];f<=c[1]&&(e.push(f),(f=Vs(f+a,d))!==e[e.length-1]);)if(e.length>1e4)return[];return b[1]>(e.length?e[e.length-1]:c[1])&&e.push(b[1]),e}function vh(a,b){return ft(a,et(b))}function wh(a,b){var c,d,e,f=a.type,g=b.getMin(),h=b.getMax(),i=null!=g,j=null!=h,k=a.getExtent();return"ordinal"===f?c=(b.get("data")||[]).length:(s(d=b.get("boundaryGap"))||(d=[d||0,d||0]),"boolean"==typeof d[0]&&(d=[0,0]),d[0]=ud(d[0],1),d[1]=ud(d[1],1),e=k[1]-k[0]||Math.abs(k[0])),null==g&&(g="ordinal"===f?c?0:NaN:k[0]-d[0]*e),null==h&&(h="ordinal"===f?c?c-1:NaN:k[1]+d[1]*e),"dataMin"===g?g=k[0]:"function"==typeof g&&(g=g({min:k[0],max:k[1]})),"dataMax"===h?h=k[1]:"function"==typeof h&&(h=h({min:k[0],max:k[1]})),(null==g||!isFinite(g))&&(g=NaN),(null==h||!isFinite(h))&&(h=NaN),a.setBlank(y(g)||y(h)),b.getNeedCrossZero()&&(g>0&&h>0&&!i&&(g=0),g<0&&h<0&&!j&&(h=0)),[g,h]}function xh(a,b){var c=wh(a,b),d=null!=b.getMin(),e=null!=b.getMax(),f=b.get("splitNumber");"log"===a.type&&(a.base=b.get("logBase"));var g=a.type;a.setExtent(c[0],c[1]),a.niceExtent({splitNumber:f,fixMin:d,fixMax:e,minInterval:"interval"===g||"time"===g?b.get("minInterval"):null,maxInterval:"interval"===g||"time"===g?b.get("maxInterval"):null});var h=b.get("interval");null!=h&&a.setInterval&&a.setInterval(h)}function yh(a,b){if(b=b||a.get("type"))switch(b){case"category":return new Us(a.getCategories(),[1/0,-1/0]);case"value":return new Xs;default:return(ph.getClass(b)||Xs).create(a)}}function zh(a,b,c,d,e){var f,g=0,h=0,i=(d-e)/180*Math.PI,j=1;b.length>40&&(j=Math.floor(b.length/40));for(var k=0;k<a.length;k+=j){var l=a[k],m=jc(b[k],c,"center","top");m.x+=l*Math.cos(i),m.y+=l*Math.sin(i),m.width*=1.3,m.height*=1.3,f?f.intersect(m)?(h++,g=Math.max(g,h)):(f.union(m),h=0):f=m.clone()}return 0===g&&j>1?j:(g+1)*j-1}function Ah(a,b){var c=a.scale,d=c.getTicksLabels(),e=c.getTicks();return"string"==typeof b?(b=function(a){return function(b){return a.replace("{value}",null!=b?b:"")}}(b),n(d,b)):"function"==typeof b?n(e,function(c,d){return b(Bh(a,c),d)},this):d}function Bh(a,b){return"category"===a.type?a.scale.getLabel(b):b}function Ch(a){return v(a)&&null!=a.value?a.value:a+""}function Dh(a,b){if("image"!==this.type){var c=this.style,d=this.shape;d&&"line"===d.symbolType?c.stroke=a:this.__isEmptyBrush?(c.stroke=a,c.fill=b||"#fff"):(c.fill&&(c.fill=a),c.stroke&&(c.stroke=a)),this.dirty(!1)}}function Eh(a,b,c,d,e,f,g){var h=0===a.indexOf("empty");h&&(a=a.substr(5,1).toLowerCase()+a.substr(6));var i;return i=0===a.indexOf("image://")?Ne(a.slice(8),new Sb(b,c,d,e),g?"center":"cover"):0===a.indexOf("path://")?Me(a.slice(7),{},new Sb(b,c,d,e),g?"center":"cover"):new st({shape:{symbolType:a,x:b,y:c,width:d,height:e}}),i.__isEmptyBrush=h,i.setColor=Dh,i.setColor(f),i}function Fh(a,b){var c=(a[1]-a[0])/b/2;a[0]+=c,a[1]-=c}function Gh(a,b){return Math.abs(a-b)<xt}function Hh(a,b,c){var d=0,e=a[0];if(!e)return!1;for(var f=1;f<a.length;f++){var g=a[f];d+=te(e[0],e[1],g[0],g[1],b,c),e=g}var h=a[0];return Gh(e[0],h[0])&&Gh(e[1],h[1])||(d+=te(e[0],e[1],h[0],h[1],b,c)),0!==d}function Ih(a,b,c){if(this.name=a,this.geometries=b,c)c=[c[0],c[1]];else{var d=this.getBoundingRect();c=[d.x+d.width/2,d.y+d.height/2]}this.center=c}function Jh(a){if(!a.UTF8Encoding)return a;var b=a.UTF8Scale;null==b&&(b=1024);for(var c=a.features,d=0;d<c.length;d++)for(var e=c[d].geometry,f=e.coordinates,g=e.encodeOffsets,h=0;h<f.length;h++){var i=f[h];if("Polygon"===e.type)f[h]=Kh(i,g[h],b);else if("MultiPolygon"===e.type)for(var j=0;j<i.length;j++){var k=i[j];i[j]=Kh(k,g[h][j],b)}}return a.UTF8Encoding=!1,a}function Kh(a,b,c){for(var d=[],e=b[0],f=b[1],g=0;g<a.length;g+=2){var h=a.charCodeAt(g)-64,i=a.charCodeAt(g+1)-64;h=h>>1^-(1&h),i=i>>1^-(1&i),e=h+=e,f=i+=f,d.push([h/c,i/c])}return d}function Lh(a){var b,c=Mf(a,"label");if(c.length)b=c[0];else for(var d,e=a.dimensions.slice();e.length&&(b=e.pop(),"ordinal"===(d=a.getDimensionInfo(b).type)||"time"===d););return b}function Mh(a,b){var c=a.getItemVisual(b,"symbolSize");return c instanceof Array?c.slice():[+c,+c]}function Nh(a){return[a[0]/2,a[1]/2]}function Oh(a,b,c){Ao.call(this),this.updateData(a,b,c)}function Ph(a,b){this.parent.drift(a,b)}function Qh(a){this.group=new Ao,this._symbolCtor=a||Oh}function Rh(a,b,c){var d=a.getItemLayout(b);return d&&!isNaN(d[0])&&!isNaN(d[1])&&(!c||!c(b))&&"none"!==a.getItemVisual(b,"symbol")}function Sh(a){return a>=0?1:-1}function Th(a,b,c){for(var d,e=a.getBaseAxis(),f=a.getOtherAxis(e),g=e.onZero?0:f.scale.getExtent()[0],h=f.dim,i="x"===h||"radius"===h?1:0,j=b.stackedOn,k=b.get(h,c);j&&Sh(j.get(h,c))===Sh(k);){d=j;break}var l=[];return l[i]=b.get(e.dim,c),l[1-i]=d?d.get(h,c,!0):g,a.dataToPoint(l)}function Uh(a,b){var c=[];return b.diff(a).add(function(a){c.push({cmd:"+",idx:a})}).update(function(a,b){c.push({cmd:"=",idx:b,idx1:a})}).remove(function(a){c.push({cmd:"-",idx:a})}).execute(),c}function Vh(a){return isNaN(a[0])||isNaN(a[1])}function Wh(a,b,c,d,e,f,g,h,i,j,k){for(var l=0,m=c,n=0;n<d;n++){var o=b[m];if(m>=e||m<0)break;if(Vh(o)){if(k){m+=f;continue}break}if(m===c)a[f>0?"moveTo":"lineTo"](o[0],o[1]),Jt(Lt,o);else if(i>0){var p=m+f,q=b[p];if(k)for(;q&&Vh(b[p]);)q=b[p+=f];var r=.5,s=b[l];if(!(q=b[p])||Vh(q))Jt(Mt,o);else{Vh(q)&&!k&&(q=o),P(Kt,q,s);var t,u;if("x"===j||"y"===j){var v="x"===j?0:1;t=Math.abs(o[v]-s[v]),u=Math.abs(o[v]-q[v])}else t=Pn(o,s),u=Pn(o,q);It(Mt,o,Kt,-i*(1-(r=u/(u+t))))}Gt(Lt,Lt,h),Ht(Lt,Lt,g),Gt(Mt,Mt,h),Ht(Mt,Mt,g),a.bezierCurveTo(Lt[0],Lt[1],Mt[0],Mt[1],o[0],o[1]),It(Lt,o,Kt,i*r)}else a.lineTo(o[0],o[1]);l=m,m+=f}return n}function Xh(a,b){var c=[1/0,1/0],d=[-1/0,-1/0];if(b)for(var e=0;e<a.length;e++){var f=a[e];f[0]<c[0]&&(c[0]=f[0]),f[1]<c[1]&&(c[1]=f[1]),f[0]>d[0]&&(d[0]=f[0]),f[1]>d[1]&&(d[1]=f[1])}return{min:b?c:d,max:b?d:c}}function Yh(a,b){if(a.length===b.length){for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(d[0]!==e[0]||d[1]!==e[1])return}return!0}}function Zh(a){return"number"==typeof a?a:a?.3:0}function $h(a){var b=a.getGlobalExtent();if(a.onBand){var c=a.getBandWidth()/2-1,d=b[1]>b[0]?1:-1;b[0]+=d*c,b[1]-=d*c}return b}function _h(a){return a>=0?1:-1}function ai(a,b){var c=a.getBaseAxis(),d=a.getOtherAxis(c),e=0;if(!c.onZero){var f=d.scale.getExtent();f[0]>0?e=f[0]:f[1]<0&&(e=f[1])}var g=d.dim,h="x"===g||"radius"===g?1:0;return b.mapArray([g],function(d,f){for(var i,j=b.stackedOn;j&&_h(j.get(g,f))===_h(d);){i=j;break}var k=[];return k[h]=b.get(c.dim,f),k[1-h]=i?i.get(g,f,!0):e,a.dataToPoint(k)},!0)}function bi(a,b,c){var d=$h(a.getAxis("x")),e=$h(a.getAxis("y")),f=a.getBaseAxis().isHorizontal(),g=Math.min(d[0],d[1]),h=Math.min(e[0],e[1]),i=Math.max(d[0],d[1])-g,j=Math.max(e[0],e[1])-h,k=c.get("lineStyle.normal.width")||2,l=c.get("clipOverflow")?k/2:Math.max(i,j);f?(h-=l,j+=2*l):(g-=l,i+=2*l);var m=new Sq({shape:{x:g,y:h,width:i,height:j}});return b&&(m.shape[f?"width":"height"]=0,qf(m,{shape:{width:i,height:j}},c)),m}function ci(a,b,c){var d=a.getAngleAxis(),e=a.getRadiusAxis().getExtent(),f=d.getExtent(),g=Math.PI/180,h=new Mq({shape:{cx:a.cx,cy:a.cy,r0:e[0],r:e[1],startAngle:-f[0]*g,endAngle:-f[1]*g,clockwise:d.inverse}});return b&&(h.shape.endAngle=-f[0]*g,qf(h,{shape:{endAngle:-f[1]*g}},c)),h}function di(a,b,c){return"polar"===a.type?ci(a,b,c):bi(a,b,c)}function ei(a,b,c){for(var d=b.getBaseAxis(),e="x"===d.dim||"radius"===d.dim?0:1,f=[],g=0;g<a.length-1;g++){var h=a[g+1],i=a[g];f.push(i);var j=[];switch(c){case"end":j[e]=h[e],j[1-e]=i[1-e],f.push(j);break;case"middle":var k=(i[e]+h[e])/2,l=[];j[e]=l[e]=k,j[1-e]=i[1-e],l[1-e]=h[1-e],f.push(j),f.push(l);break;default:j[e]=i[e],j[1-e]=h[1-e],f.push(j)}}return a[g]&&f.push(a[g]),f}function fi(a,b){var c=a.getVisual("visualMeta");if(c&&c.length&&a.count()){for(var d,e=c.length-1;e>=0;e--)if(c[e].dimension<2){d=c[e];break}if(d&&"cartesian2d"===b.type){var f=d.dimension,g=a.dimensions[f],h=b.getAxis(g),i=n(d.stops,function(a){return{coord:h.toGlobalCoord(h.dataToCoord(a.value)),color:a.color}}),j=i.length,k=d.outerColors.slice();j&&i[0].coord>i[j-1].coord&&(i.reverse(),k.reverse());var l=i[0].coord-10,o=i[j-1].coord+10,p=o-l;if(p<.001)return"transparent";m(i,function(a){a.offset=(a.coord-l)/p}),i.push({offset:j?i[j-1].offset:.5,color:k[1]||"transparent"}),i.unshift({offset:j?i[0].offset:.5,color:k[0]||"transparent"});var q=new Zq(0,0,0,0,i,!0);return q[g]=l,q[g+"2"]=o,q}}}function gi(a){return this._axes[a]}function hi(a){Tt.call(this,a)}function ii(a,b){return b.type||(b.data?"category":"value")}function ji(a,b,c){return a.getCoordSysModel()===b}function ki(a,b){var c=b*Math.PI/180,d=a.plain(),e=d.width,f=d.height,g=e*Math.cos(c)+f*Math.sin(c),h=e*Math.sin(c)+f*Math.cos(c);return new Sb(d.x,d.y,g,h)}function li(a){var b,c=a.model,d=c.getFormattedLabels(),e=c.getModel("axisLabel"),f=1,g=d.length;g>40&&(f=Math.ceil(g/40));for(var h=0;h<g;h+=f)if(!a.isLabelIgnored(h)){var i=ki(e.getTextRect(d[h]),e.get("rotate")||0);b?b.union(i):b=i}return b}function mi(a,b,c){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(a,b,c),this.model=a}function ni(a,b,c){var d=a[b];if(c.onZero){var e=c.onZeroAxisIndex;if(null==e){for(var f in d)if(d.hasOwnProperty(f)){var g=d[f];if(g&&!oi(g)){e=+f;break}}null==e&&(c.onZero=!1),c.onZeroAxisIndex=e}else(g=d[e])&&oi(g)&&(c.onZero=!1)}}function oi(a){return"category"===a.type||"time"===a.type||!au(a)}function pi(a,b){var c=a.getExtent(),d=c[0]+c[1];a.toGlobalCoord="x"===a.dim?function(a){return a+b}:function(a){return d-a+b},a.toLocalCoord="x"===a.dim?function(a){return a-b}:function(a){return d-a+b}}function qi(a,b){return n(du,function(b){return a.getReferringComponents(b)[0]})}function ri(a){return"cartesian2d"===a.get("coordinateSystem")}function si(a){var b={componentType:a.mainType};return b[a.mainType+"Index"]=a.componentIndex,b}function ti(a,b,c,d){var e,f,g=Bd(c-a.rotation),h=d[0]>d[1],i="start"===b&&!h||"start"!==b&&h;return Cd(g-eu/2)?(f=i?"bottom":"top",e="center"):Cd(g-1.5*eu)?(f=i?"top":"bottom",e="center"):(f="middle",e=g<1.5*eu&&g>eu/2?i?"left":"right":i?"right":"left"),{rotation:g,textAlign:e,textVerticalAlign:f}}function ui(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}function vi(a,b,c){var d=a.get("axisLabel.showMinLabel"),e=a.get("axisLabel.showMaxLabel");b=b||[],c=c||[];var f=b[0],g=b[1],h=b[b.length-1],i=b[b.length-2],j=c[0],k=c[1],l=c[c.length-1],m=c[c.length-2];!1===d?(wi(f),wi(j)):xi(f,g)&&(d?(wi(g),wi(k)):(wi(f),wi(j))),!1===e?(wi(h),wi(l)):xi(i,h)&&(e?(wi(i),wi(m)):(wi(h),wi(l)))}function wi(a){a&&(a.ignore=!0)}function xi(a,b,c){var d=a&&a.getBoundingRect().clone(),e=b&&b.getBoundingRect().clone();if(d&&e){var f=db([]);return hb(f,f,-a.rotation),d.applyTransform(fb([],f,a.getLocalTransform())),e.applyTransform(fb([],f,b.getLocalTransform())),d.intersect(e)}}function yi(a){return"middle"===a||"center"===a}function zi(a,b,c){var d=b.axis;if(b.get("axisTick.show")&&!d.scale.isBlank()){for(var e=b.getModel("axisTick"),f=e.getModel("lineStyle"),h=e.get("length"),i=ju(e,c.labelInterval),j=d.getTicksCoords(e.get("alignWithLabel")),k=d.scale.getTicks(),l=b.get("axisLabel.showMinLabel"),m=b.get("axisLabel.showMaxLabel"),n=[],o=[],p=a._transform,q=[],r=j.length,s=0;s<r;s++)if(!iu(d,s,i,r,l,m)){var t=j[s];n[0]=t,n[1]=0,o[0]=t,o[1]=c.tickDirection*h,p&&(W(n,n,p),W(o,o,p));var u=new Tq(Qe({anid:"tick_"+k[s],shape:{x1:n[0],y1:n[1],x2:o[0],y2:o[1]},style:g(f.getLineStyle(),{stroke:b.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));a.group.add(u),q.push(u)}return q}}function Ai(a,b,c){var d=b.axis;if(z(c.axisLabelShow,b.get("axisLabel.show"))&&!d.scale.isBlank()){var e=b.getModel("axisLabel"),f=e.get("margin"),g=d.scale.getTicks(),h=b.getFormattedLabels(),i=(z(c.labelRotate,e.get("rotate"))||0)*eu/180,j=hu(c.rotation,i,c.labelDirection),k=b.get("data"),l=[],n=ui(b),o=b.get("triggerEvent"),p=b.get("axisLabel.showMinLabel"),q=b.get("axisLabel.showMaxLabel");return m(g,function(i,m){if(!iu(d,m,c.labelInterval,g.length,p,q)){var r=e;k&&k[i]&&k[i].textStyle&&(r=new xf(k[i].textStyle,e,b.ecModel));var s=r.getTextColor()||b.get("axisLine.lineStyle.color"),t=[d.dataToCoord(i),c.labelOffset+c.labelDirection*f],u=d.scale.getLabel(i),v=new Iq({anid:"label_"+i,position:t,rotation:j.rotation,silent:n,z2:10});ff(v.style,r,{text:h[m],textAlign:r.getShallow("align",!0)||j.textAlign,textVerticalAlign:r.getShallow("verticalAlign",!0)||r.getShallow("baseline",!0)||j.textVerticalAlign,textFill:"function"==typeof s?s("category"===d.type?u:"value"===d.type?i+"":i,m):s}),o&&(v.eventData=si(b),v.eventData.targetType="axisLabel",v.eventData.value=u),a._dumbGroup.add(v),v.updateTransform(),l.push(v),a.group.add(v),v.decomposeTransform()}}),l}}function Bi(a,b){var c={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Ci(c,a,b),c.seriesInvolved&&Ei(c,a),c}function Ci(a,b,c){var d=b.getComponent("tooltip"),e=b.getComponent("axisPointer"),f=e.get("link",!0)||[],g=[];ku(c.getCoordinateSystems(),function(c){function h(d,h,i){var l=i.model.getModel("axisPointer",e),m=l.get("show");if(m&&("auto"!==m||d||Ki(l))){null==h&&(h=l.get("triggerTooltip"));var n=(l=d?Di(i,k,e,b,d,h):l).get("snap"),o=Li(i.model),p=h||n||"category"===i.type,q=a.axesInfo[o]={key:o,axis:i,coordSys:c,axisPointerModel:l,triggerTooltip:h,involveSeries:p,snap:n,useHandle:Ki(l),seriesModels:[]};j[o]=q,a.seriesInvolved|=p;var r=Fi(f,i);if(null!=r){var s=g[r]||(g[r]={axesInfo:{}});s.axesInfo[o]=q,s.mapper=f[r].mapper,q.linkGroup=s}}}if(c.axisPointerEnabled){var i=Li(c.model),j=a.coordSysAxesInfo[i]={};a.coordSysMap[i]=c;var k=c.model.getModel("tooltip",d);if(ku(c.getAxes(),lu(h,!1,null)),c.getTooltipAxes&&d&&k.get("show")){var l="axis"===k.get("trigger"),m="cross"===k.get("axisPointer.type"),n=c.getTooltipAxes(k.get("axisPointer.axis"));(l||m)&&ku(n.baseAxes,lu(h,!m||"cross",l)),m&&ku(n.otherAxes,lu(h,"cross",!1))}}})}function Di(a,b,d,e,f,h){var i=b.getModel("axisPointer"),j={};ku(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(a){j[a]=c(i.get(a))}),j.snap="category"!==a.type&&!!h,"cross"===i.get("type")&&(j.type="line");var k=j.label||(j.label={});if(null==k.show&&(k.show=!1),"cross"===f&&(k.show=!0,!h)){var l=j.lineStyle=i.get("crossStyle");l&&g(k,l.textStyle)}return a.model.getModel("axisPointer",new xf(j,d,e))}function Ei(a,b){b.eachSeries(function(b){var c=b.coordinateSystem,d=b.get("tooltip.trigger",!0),e=b.get("tooltip.show",!0);c&&"none"!==d&&!1!==d&&"item"!==d&&!1!==e&&!1!==b.get("axisPointer.show",!0)&&ku(a.coordSysAxesInfo[Li(c.model)],function(a){var d=a.axis;c.getAxis(d.dim)===d&&(a.seriesModels.push(b),null==a.seriesDataCount&&(a.seriesDataCount=0),a.seriesDataCount+=b.getData().count())})},this)}function Fi(a,b){for(var c=b.model,d=b.dim,e=0;e<a.length;e++){var f=a[e]||{};if(Gi(f[d+"AxisId"],c.id)||Gi(f[d+"AxisIndex"],c.componentIndex)||Gi(f[d+"AxisName"],c.name))return e}}function Gi(a,b){return"all"===a||s(a)&&i(a,b)>=0||a===b}function Hi(a){var b=Ii(a);if(b){var c=b.axisPointerModel,d=b.axis.scale,e=c.option,f=c.get("status"),g=c.get("value");null!=g&&(g=d.parse(g));var h=Ki(c);null==f&&(e.status=h?"show":"hide");var i=d.getExtent().slice();i[0]>i[1]&&i.reverse(),(null==g||g>i[1])&&(g=i[1]),g<i[0]&&(g=i[0]),e.value=g,h&&(e.status=b.axis.scale.isBlank()?"hide":"show")}}function Ii(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[Li(a)]}function Ji(a){var b=Ii(a);return b&&b.axisPointerModel}function Ki(a){return!!a.get("handle.show")}function Li(a){return a.type+"||"+a.id}function Mi(a,b,c,d,e,f){var g=mu.getAxisPointerClass(a.axisPointerClass);if(g){var h=Ji(b);h?(a._axisPointer||(a._axisPointer=new g)).render(b,h,d,f):Ni(a,d)}}function Ni(a,b,c){var d=a._axisPointer;d&&d.dispose(b,c),a._axisPointer=null}function Oi(a,b,c){c=c||{};var d=a.coordinateSystem,e=b.axis,f={},g=e.position,h=e.onZero?"onZero":g,i=e.dim,j=d.getRect(),k=[j.x,j.x+j.width,j.y,j.y+j.height],l={left:0,right:1,top:0,bottom:1,onZero:2},m=b.get("offset")||0,n="x"===i?[k[2]-m,k[3]+m]:[k[0]-m,k[1]+m];if(e.onZero){var o=d.getAxis("x"===i?"y":"x",e.onZeroAxisIndex),p=o.toGlobalCoord(o.dataToCoord(0));n[l.onZero]=Math.max(Math.min(p,n[1]),n[0])}f.position=["y"===i?n[l[h]]:k[0],"x"===i?n[l[h]]:k[3]],f.rotation=Math.PI/2*("x"===i?0:1);var q={top:-1,bottom:1,left:-1,right:1};f.labelDirection=f.tickDirection=f.nameDirection=q[g],f.labelOffset=e.onZero?n[l[g]]-n[l.onZero]:0,b.get("axisTick.inside")&&(f.tickDirection=-f.tickDirection),z(c.labelInside,b.get("axisLabel.inside"))&&(f.labelDirection=-f.labelDirection);var r=b.get("axisLabel.rotate");return f.labelRotate="top"===h?-r:r,f.labelInterval=e.getLabelInterval(),f.z2=1,f}function Pi(a){return a.get("stack")||tu+a.seriesIndex}function Qi(a){return a.dim+a.index}function Ri(a,b){return Si(n(a,function(a){var b=a.getData(),c=a.coordinateSystem.getBaseAxis(),d=c.getExtent(),e="category"===c.type?c.getBandWidth():Math.abs(d[1]-d[0])/b.count();return{bandWidth:e,barWidth:ud(a.get("barWidth"),e),barMaxWidth:ud(a.get("barMaxWidth"),e),barGap:a.get("barGap"),barCategoryGap:a.get("barCategoryGap"),axisKey:Qi(c),stackId:Pi(a)}}),b)}function Si(a,b){var c={};m(a,function(a,b){var d=a.axisKey,e=a.bandWidth,f=c[d]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},g=f.stacks;c[d]=f;var h=a.stackId;g[h]||f.autoWidthCount++,g[h]=g[h]||{width:0,maxWidth:0};var i=a.barWidth;i&&!g[h].width&&(g[h].width=i,i=Math.min(f.remainedWidth,i),f.remainedWidth-=i);var j=a.barMaxWidth;j&&(g[h].maxWidth=j);var k=a.barGap;null!=k&&(f.gap=k);var l=a.barCategoryGap;null!=l&&(f.categoryGap=l)});var d={};return m(c,function(a,b){d[b]={};var c=a.stacks,e=a.bandWidth,f=ud(a.categoryGap,e),g=ud(a.gap,1),h=a.remainedWidth,i=a.autoWidthCount,j=(h-f)/(i+(i-1)*g);j=Math.max(j,0),m(c,function(a,b){var c=a.maxWidth;c&&c<j&&(c=Math.min(c,h),a.width&&(c=Math.min(c,a.width)),h-=c,a.width=c,i--)}),j=(h-f)/(i+(i-1)*g),j=Math.max(j,0);var k,l=0;m(c,function(a,b){a.width||(a.width=j),k=a,l+=a.width*(1+g)}),k&&(l-=k.width*g);var n=-l/2;m(c,function(a,c){d[b][c]=d[b][c]||{offset:n,width:a.width},n+=a.width*(1+g)})}),d}function Ti(a,b,c){var d=Ri(p(b.getSeriesByType(a),function(a){return!b.isSeriesFiltered(a)&&a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type})),e={},f={};b.eachSeriesByType(a,function(a){if("cartesian2d"===a.coordinateSystem.type){var b=a.getData(),c=a.coordinateSystem,g=c.getBaseAxis(),h=Pi(a),i=d[Qi(g)][h],j=i.offset,k=i.width,l=c.getOtherAxis(g),m=a.get("barMinHeight")||0,n=g.onZero?l.toGlobalCoord(l.dataToCoord(0)):l.getGlobalExtent()[0],o=[a.coordDimToDataDim("x")[0],a.coordDimToDataDim("y")[0]],p=b.mapArray(o,function(a,b){return c.dataToPoint([a,b])},!0);e[h]=e[h]||[],f[h]=f[h]||[],b.setLayout({offset:j,size:k}),b.each(a.coordDimToDataDim(l.dim)[0],function(a,c){if(!isNaN(a)){e[h][c]||(e[h][c]={p:n,n:n},f[h][c]={p:n,n:n});var d,g,i,o,q=a>=0?"p":"n",r=p[c],s=e[h][c][q],t=f[h][c][q];l.isHorizontal()?(d=s,g=r[1]+j,i=r[0]-t,o=k,f[h][c][q]+=i,Math.abs(i)<m&&(i=(i<0?-1:1)*m),e[h][c][q]+=i):(d=r[0]+j,g=s,i=k,o=r[1]-t,f[h][c][q]+=o,Math.abs(o)<m&&(o=(o<=0?-1:1)*m),e[h][c][q]+=o),b.setItemLayout(c,{x:d,y:g,width:i,height:o})}},!0)}},this)}function Ui(a,b,c,d,e,f,g){ef(a,b,c.getModel("label.normal"),c.getModel("label.emphasis"),{labelFetcher:e,labelDataIndex:f,defaultText:e.getRawValue(f),isRectText:!0,autoColor:d}),Vi(a),Vi(b)}function Vi(a,b){"outside"===a.textPosition&&(a.textPosition=b)}function Wi(a,b,c){c.style.text=null,pf(c,{shape:{width:0}},b,a,function(){c.parent&&c.parent.remove(c)})}function Xi(a,b,c){c.style.text=null,pf(c,{shape:{r:c.shape.r0}},b,a,function(){c.parent&&c.parent.remove(c)})}function Yi(a,b,c,d,e,f,h,i){var j=b.getItemVisual(c,"color"),k=b.getItemVisual(c,"opacity"),l=d.getModel("itemStyle.normal"),m=d.getModel("itemStyle.emphasis").getBarItemStyle();i||a.setShape("r",l.get("barBorderRadius")||0),a.useStyle(g({fill:j,opacity:k},l.getBarItemStyle()));var n=d.getShallow("cursor");n&&a.attr("cursor",n);var o=h?e.height>0?"bottom":"top":e.width>0?"left":"right";i||Ui(a.style,m,d,j,f,c,o),df(a,m)}function Zi(a,b){var c=a.get(wu)||0;return Math.min(c,Math.abs(b.width),Math.abs(b.height))}function $i(a,b,c,d){var e=b.getData(),f=this.dataIndex,g=e.getName(f),h=b.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:a,name:g,seriesId:b.id}),e.each(function(a){_i(e.getItemGraphicEl(a),e.getItemLayout(a),b.isSelected(e.getName(a)),h,c)})}function _i(a,b,c,d,e){var f=(b.startAngle+b.endAngle)/2,g=Math.cos(f),h=Math.sin(f),i=c?d:0,j=[g*i,h*i];e?a.animate().when(200,{position:j}).start("bounceOut"):a.attr("position",j)}function aj(a,b){function c(){f.ignore=f.hoverIgnore,g.ignore=g.hoverIgnore}function d(){f.ignore=f.normalIgnore,g.ignore=g.normalIgnore}Ao.call(this);var e=new Mq({z2:2}),f=new Rq,g=new Iq;this.add(e),this.add(f),this.add(g),this.updateData(a,b,!0),this.on("emphasis",c).on("normal",d).on("mouseover",c).on("mouseout",d)}function bj(a,b,c,d,e,f,g){function h(b,c){for(var d=b;d>=0&&(a[d].y-=c,!(d>0&&a[d].y>a[d-1].y+a[d-1].height));d--);}function i(a,b,c,d,e,f){for(var g=b?Number.MAX_VALUE:0,h=0,i=a.length;h<i;h++)if("center"!==a[h].position){var j=Math.abs(a[h].y-d),k=a[h].len,l=a[h].len2,m=j<e+k?Math.sqrt((e+k+l)*(e+k+l)-j*j):Math.abs(a[h].x-c);b&&m>=g&&(m=g-10),!b&&m<=g&&(m=g+10),a[h].x=c+m*f,g=m}}a.sort(function(a,b){return a.y-b.y});for(var j,k=0,l=a.length,m=[],n=[],o=0;o<l;o++)(j=a[o].y-k)<0&&function(b,c,d,e){for(var f=b;f<c;f++)if(a[f].y+=d,f>b&&f+1<c&&a[f+1].y>a[f].y+a[f].height)return void h(f,d/2);h(c-1,d/2)}(o,l,-j),k=a[o].y+a[o].height;g-k<0&&h(l-1,k-g);for(o=0;o<l;o++)a[o].y>=c?n.push(a[o]):m.push(a[o]);i(m,!1,b,c,d,e),i(n,!0,b,c,d,e)}function cj(a,b,c,d,e,f){for(var g=[],h=[],i=0;i<a.length;i++)a[i].x<b?g.push(a[i]):h.push(a[i]);bj(h,b,c,d,1,e,f),bj(g,b,c,d,-1,e,f);for(i=0;i<a.length;i++){var j=a[i].linePoints;if(j){var k=j[1][0]-j[2][0];a[i].x<b?j[2][0]=a[i].x+3:j[2][0]=a[i].x-3,j[1][1]=j[2][1]=a[i].y,j[1][0]=j[2][0]+k}}}function dj(){this.group=new Ao,this._symbolEl=new Fu({})}function ej(a,b,c,d){var e=c.type,f=new(0,dr[e.charAt(0).toUpperCase()+e.slice(1)])(c);b.add(f),d.set(a,f),f.__ecGraphicId=a}function fj(a,b){var c=a&&a.parent;c&&("group"===a.type&&a.traverse(function(a){fj(a,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function gj(a){return a=f({},a),m(["id","parentId","$action","hv","bounding"].concat(rr),function(b){delete a[b]}),a}function hj(a,b){var c;return m(b,function(b){null!=a[b]&&"auto"!==a[b]&&(c=!0)}),c}function ij(a,b){var c=a.exist;if(b.id=a.keyInfo.id,!b.type&&c&&(b.type=c.type),null==b.parentId){var d=b.parentOption;d?b.parentId=d.id:c&&(b.parentId=c.parentId)}b.parentOption=null}function jj(a,b,c){var e=f({},c),g=a[b],h=c.$action||"merge";"merge"===h?g?(d(g,e,!0),Sf(g,e,{ignoreSize:!0}),Uf(c,g)):a[b]=e:"replace"===h?a[b]=e:"remove"===h&&g&&(a[b]=null)}function kj(a,b){a&&(a.hv=b.hv=[hj(b,["left","right"]),hj(b,["top","bottom"])],"group"===a.type&&(null==a.width&&(a.width=b.width=0),null==a.height&&(a.height=b.height=0)))}function lj(a,b,c,d,e){var g=a.axis;if(!g.scale.isBlank()&&g.containData(b))if(a.involveSeries){var h=mj(b,a),i=h.payloadBatch,j=h.snapToValue;i[0]&&null==e.seriesIndex&&f(e,i[0]),!d&&a.snap&&g.containData(j)&&null!=j&&(b=j),c.showPointer(a,b,i,e),c.showTooltip(a,h,j)}else c.showPointer(a,b)}function mj(a,b){var c=b.axis,d=c.dim,e=a,f=[],g=Number.MAX_VALUE,h=-1;return Ju(b.seriesModels,function(b,i){var j,k,l=b.coordDimToDataDim(d);if(b.getAxisTooltipData){var m=b.getAxisTooltipData(l,a,c);k=m.dataIndices,j=m.nestestValue}else{if(!(k=b.getData().indicesOfNearest(l[0],a,!1,"category"===c.type?.5:null)).length)return;j=b.getData().get(l[0],k[0])}if(null!=j&&isFinite(j)){var n=a-j,o=Math.abs(n);o<=g&&((o<g||n>=0&&h<0)&&(g=o,h=n,e=j,f.length=0),Ju(k,function(a){f.push({seriesIndex:b.seriesIndex,dataIndexInside:a,dataIndex:b.getData().getRawIndex(a)})}))}}),{payloadBatch:f,snapToValue:e}}function nj(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function oj(a,b,c,d){var e=c.payloadBatch,f=b.axis,g=f.model,h=b.axisPointerModel;if(b.triggerTooltip&&e.length){var i=b.coordSys.model,j=Li(i),k=a.map[j];k||(k=a.map[j]={coordSysId:i.id,coordSysIndex:i.componentIndex,coordSysType:i.type,coordSysMainType:i.mainType,dataByAxis:[]},a.list.push(k)),k.dataByAxis.push({axisDim:f.dim,axisIndex:g.componentIndex,axisType:g.type,axisId:g.id,value:d,valueLabelOpt:{precision:h.get("label.precision"),formatter:h.get("label.formatter")},seriesDataIndices:e.slice()})}}function pj(a,b,c){var d=c.axesInfo=[];Ju(b,function(b,c){var e=b.axisPointerModel.option,f=a[c];f?(!b.useHandle&&(e.status="show"),e.value=f.value,e.seriesDataIndices=(f.payloadBatch||[]).slice()):!b.useHandle&&(e.status="hide"),"show"===e.status&&d.push({axisDim:b.axis.dim,axisIndex:b.axis.model.componentIndex,value:e.value})})}function qj(a,b,c,d){if(!uj(b)&&a.list.length){var e=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};d({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:c.tooltipOption,position:c.position,dataIndexInside:e.dataIndexInside,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex,dataByCoordSys:a.list})}else d({type:"hideTip"})}function rj(a,b,c){var d=c.getZr(),e=Lu(d).axisPointerLastHighlights||{},f=Lu(d).axisPointerLastHighlights={};Ju(a,function(a,b){var c=a.axisPointerModel.option;"show"===c.status&&Ju(c.seriesDataIndices,function(a){var b=a.seriesIndex+" | "+a.dataIndex;f[b]=a})});var g=[],h=[];m(e,function(a,b){!f[b]&&h.push(a)}),m(f,function(a,b){!e[b]&&g.push(a)}),h.length&&c.dispatchAction({type:"downplay",escapeConnect:!0,batch:h}),g.length&&c.dispatchAction({type:"highlight",escapeConnect:!0,batch:g})}function sj(a,b){for(var c=0;c<(a||[]).length;c++){var d=a[c];if(b.axis.dim===d.axisDim&&b.axis.model.componentIndex===d.axisIndex)return d}}function tj(a){var b=a.axis.model,c={},d=c.axisDim=a.axis.dim;return c.axisIndex=c[d+"AxisIndex"]=b.componentIndex,c.axisName=c[d+"AxisName"]=b.name,c.axisId=c[d+"AxisId"]=b.id,c}function uj(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function vj(a,b,c){if(!xn.node){var d=b.getZr();Mu(d).records||(Mu(d).records={}),wj(d,b),(Mu(d).records[a]||(Mu(d).records[a]={})).handler=c}}function wj(a,b){function c(c,d){a.on(c,function(c){var e=Aj(b);Nu(Mu(a).records,function(a){a&&d(a,c,e.dispatchAction)}),xj(e.pendings,b)})}Mu(a).initialized||(Mu(a).initialized=!0,c("click",r(zj,"click")),c("mousemove",r(zj,"mousemove")),c("globalout",yj))}function xj(a,b){var c,d=a.showTip.length,e=a.hideTip.length;d?c=a.showTip[d-1]:e&&(c=a.hideTip[e-1]),c&&(c.dispatchAction=null,b.dispatchAction(c))}function yj(a,b,c){a.handler("leave",null,c)}function zj(a,b,c,d){b.handler(a,c,d)}function Aj(a){var b={showTip:[],hideTip:[]},c=function(d){var e=b[d.type];e?e.push(d):(d.dispatchAction=c,a.dispatchAction(d))};return{dispatchAction:c,pendings:b}}function Bj(a,b){if(!xn.node){var c=b.getZr();(Mu(c).records||{})[a]&&(Mu(c).records[a]=null)}}function Cj(){}function Dj(a,b,c,d){Ej(Pu(c).lastProp,d)||(Pu(c).lastProp=d,b?pf(c,d,a):(c.stopAnimation(),c.attr(d)))}function Ej(a,b){if(v(a)&&v(b)){var c=!0;return m(b,function(b,d){c=c&&Ej(a[d],b)}),!!c}return a===b}function Fj(a,b){a[b.get("label.show")?"show":"hide"]()}function Gj(a){return{position:a.position.slice(),rotation:a.rotation||0}}function Hj(a,b,c){var d=b.get("z"),e=b.get("zlevel");a&&a.traverse(function(a){"group"!==a.type&&(null!=d&&(a.z=d),null!=e&&(a.zlevel=e),a.silent=c)})}function Ij(a){var b,c=a.get("type"),d=a.getModel(c+"Style");return"line"===c?(b=d.getLineStyle()).fill=null:"shadow"===c&&((b=d.getAreaStyle()).stroke=null),b}function Jj(a,b,c,d,e){var f=Lj(c.get("value"),b.axis,b.ecModel,c.get("seriesDataIndices"),{precision:c.get("label.precision"),formatter:c.get("label.formatter")}),g=c.getModel("label"),h=sp(g.get("padding")||0),i=g.getFont(),j=jc(f,i),k=e.position,l=j.width+h[1]+h[3],m=j.height+h[0]+h[2],n=e.align;"right"===n&&(k[0]-=l),"center"===n&&(k[0]-=l/2);var o=e.verticalAlign;"bottom"===o&&(k[1]-=m),"middle"===o&&(k[1]-=m/2),Kj(k,l,m,d);var p=g.get("backgroundColor");p&&"auto"!==p||(p=b.get("axisLine.lineStyle.color")),a.label={shape:{x:0,y:0,width:l,height:m,r:g.get("borderRadius")},position:k.slice(),style:{text:f,textFont:i,textFill:g.getTextColor(),textPosition:"inside",fill:p,stroke:g.get("borderColor")||"transparent",lineWidth:g.get("borderWidth")||0,shadowBlur:g.get("shadowBlur"),shadowColor:g.get("shadowColor"),shadowOffsetX:g.get("shadowOffsetX"),shadowOffsetY:g.get("shadowOffsetY")},z2:10}}function Kj(a,b,c,d){var e=d.getWidth(),f=d.getHeight();a[0]=Math.min(a[0]+b,e)-b,a[1]=Math.min(a[1]+c,f)-c,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function Lj(a,b,c,d,e){var f=b.scale.getLabel(a,{precision:e.precision}),g=e.formatter;if(g){var h={value:Bh(b,a),seriesData:[]};m(d,function(a){var b=c.getSeriesByIndex(a.seriesIndex),d=a.dataIndexInside,e=b&&b.getDataParams(d);e&&h.seriesData.push(e)}),u(g)?f=g.replace("{value}",f):t(g)&&(f=g(h))}return f}function Mj(a,b,c){var d=cb();return hb(d,d,c.rotation),gb(d,d,c.position),sf([a.dataToCoord(b),(c.labelOffset||0)+(c.labelDirection||1)*(c.labelMargin||0)],d)}function Nj(a,b,c,d,e,f){var g=fu.innerTextLayout(c.rotation,0,c.labelDirection);c.labelMargin=e.get("label.margin"),Jj(b,d,e,f,{position:Mj(d.axis,a,c),align:g.textAlign,verticalAlign:g.textVerticalAlign})}function Oj(a,b,c){return c=c||0,{x1:a[c],y1:a[1-c],x2:b[c],y2:b[1-c]}}function Pj(a,b,c){return c=c||0,{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}function Qj(a,b){var c={};return c[b.dim+"AxisIndex"]=b.index,a.getCartesian(c)}function Rj(a){return"x"===a.dim?0:1}function Sj(a){var b="left "+a+"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return n(Wu,function(a){return a+"transition:"+b}).join(";")}function Tj(a){var b=[],c=a.get("fontSize"),d=a.getTextColor();return d&&b.push("color:"+d),b.push("font:"+a.getFont()),c&&b.push("line-height:"+Math.round(3*c/2)+"px"),Uu(["decoration","align"],function(c){var d=a.get(c);d&&b.push("text-"+c+":"+d)}),b.join(";")}function Uj(a){var b=[],c=a.get("transitionDuration"),d=a.get("backgroundColor"),e=a.getModel("textStyle"),f=a.get("padding");return c&&b.push(Sj(c)),d&&(xn.canvasSupported?b.push("background-Color:"+d):(b.push("background-Color:#"+Ab(d)),b.push("filter:alpha(opacity=70)"))),Uu(["width","color","radius"],function(c){var d="border-"+c,e=Vu(d),f=a.get(e);null!=f&&b.push(d+":"+f+("color"===c?"":"px"))}),b.push(Tj(e)),null!=f&&b.push("padding:"+sp(f).join("px ")+"px"),b.join(";")+";"}function Vj(a,b){var c=document.createElement("div"),d=this._zr=b.getZr();this.el=c,this._x=b.getWidth()/2,this._y=b.getHeight()/2,a.appendChild(c),this._container=a,this._show=!1,this._hideTimeout;var e=this;c.onmouseenter=function(){e._enterable&&(clearTimeout(e._hideTimeout),e._show=!0),e._inContent=!0},c.onmousemove=function(b){if(b=b||window.event,!e._enterable){var c=d.handler;dd(a,b,!0),c.dispatch("mousemove",b)}},c.onmouseleave=function(){e._enterable&&e._show&&e.hideLater(e._hideDelay),e._inContent=!1}}function Wj(a){for(var b=a.pop();a.length;){var c=a.pop();c&&(c instanceof xf&&(c=c.get("tooltip",!0)),"string"==typeof c&&(c={formatter:c}),b=new xf(c,b,b.ecModel))}return b}function Xj(a,b){return a.dispatchAction||q(b.dispatchAction,b)}function Yj(a,b,c,d,e,f,g){var h=$j(c),i=h.width,j=h.height;return null!=f&&(a+i+f>d?a-=i+f:a+=f),null!=g&&(b+j+g>e?b-=j+g:b+=g),[a,b]}function Zj(a,b,c,d,e){var f=$j(c),g=f.width,h=f.height;return a=Math.min(a+g,d)-g,b=Math.min(b+h,e)-h,a=Math.max(a,0),b=Math.max(b,0),[a,b]}function $j(a){var b=a.clientWidth,c=a.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var d=document.defaultView.getComputedStyle(a);d&&(b+=parseInt(d.paddingLeft,10)+parseInt(d.paddingRight,10)+parseInt(d.borderLeftWidth,10)+parseInt(d.borderRightWidth,10),c+=parseInt(d.paddingTop,10)+parseInt(d.paddingBottom,10)+parseInt(d.borderTopWidth,10)+parseInt(d.borderBottomWidth,10))}return{width:b,height:c}}function _j(a,b,c){var d=c[0],e=c[1],f=0,g=0,h=b.width,i=b.height;switch(a){case"inside":f=b.x+h/2-d/2,g=b.y+i/2-e/2;break;case"top":f=b.x+h/2-d/2,g=b.y-e-5;break;case"bottom":f=b.x+h/2-d/2,g=b.y+i+5;break;case"left":f=b.x-d-5,g=b.y+i/2-e/2;break;case"right":f=b.x+h+5,g=b.y+i/2-e/2}return[f,g]}function ak(a){return"center"===a||"middle"===a}function bk(a,b,c){var d,e={},f="toggleSelected"===a;return c.eachComponent("legend",function(c){f&&null!=d?c[d?"select":"unSelect"](b.name):(c[a](b.name),d=c.isSelected(b.name)),m(c.getData(),function(a){var b=a.get("name");if("\n"!==b&&""!==b){var d=c.isSelected(b);e.hasOwnProperty(b)?e[b]=e[b]&&d:e[b]=d}})}),{name:b.name,selected:e}}function ck(a,b,c){var d=b.getBoxLayoutParams(),e=b.get("padding"),f={width:c.getWidth(),height:c.getHeight()},g=Qf(d,f,e);tr(b.get("orient"),a,b.get("itemGap"),g.width,g.height),Rf(a,d,f,e)}function dk(a,b){var c=sp(b.get("padding")),d=b.getItemStyle(["color","opacity"]);return d.fill=b.get("backgroundColor"),a=new Sq({shape:{x:a.x-c[3],y:a.y-c[0],width:a.width+c[1]+c[3],height:a.height+c[0]+c[2],r:b.get("borderRadius")},style:d,silent:!0,z2:-1})}function ek(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function fk(a,b,c){var d=c.getZr().storage.getDisplayList()[0];d&&d.useHoverLayer||a.get("legendHoverLink")&&c.dispatchAction({type:"highlight",seriesName:a.name,name:b})}function gk(a,b,c){var d=c.getZr().storage.getDisplayList()[0];d&&d.useHoverLayer||a.get("legendHoverLink")&&c.dispatchAction({type:"downplay",seriesName:a.name,name:b})}function hk(a,b,c){var d=[1,1];d[a.getOrient().index]=0,Sf(b,c,{type:"box",ignoreSize:d})}function ik(a){Bf(a.label,["show"])}function jk(a){return!isNaN(parseFloat(a.x))||!isNaN(parseFloat(a.y))}function kk(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function lk(a,b,c){var d=-1;do d=Math.max(xd(a.get(b,c)),d),a=a.stackedOn;while(a);return d}function mk(a,b,c,d,e,f){var g=[],h=rk(b,d,a),i=b.indicesOfNearest(d,h,!0)[0];g[e]=b.get(c,i,!0),g[f]=b.get(d,i,!0);var j=lk(b,d,i);return(j=Math.min(j,20))>=0&&(g[f]=+g[f].toFixed(j)),g}function nk(a,b){var d=a.getData(),e=a.coordinateSystem;if(b&&!kk(b)&&!s(b.coord)&&e){var f=e.dimensions,g=ok(b,d,e,a);if((b=c(b)).type&&ov[b.type]&&g.baseAxis&&g.valueAxis){var h=mv(f,g.baseAxis.dim),i=mv(f,g.valueAxis.dim);b.coord=ov[b.type](d,g.baseDataDim,g.valueDataDim,h,i),b.value=b.coord[i]}else{for(var j=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis],k=0;k<2;k++)if(ov[j[k]]){var l=a.coordDimToDataDim(f[k])[0];j[k]=rk(d,l,j[k])}b.coord=j}}return b}function ok(a,b,c,d){var e={};return null!=a.valueIndex||null!=a.valueDim?(e.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,e.valueAxis=c.getAxis(d.dataDimToCoordDim(e.valueDataDim)),e.baseAxis=c.getOtherAxis(e.valueAxis),e.baseDataDim=d.coordDimToDataDim(e.baseAxis.dim)[0]):(e.baseAxis=d.getBaseAxis(),e.valueAxis=c.getOtherAxis(e.baseAxis),e.baseDataDim=d.coordDimToDataDim(e.baseAxis.dim)[0],e.valueDataDim=d.coordDimToDataDim(e.valueAxis.dim)[0]),e}function pk(a,b){return!(a&&a.containData&&b.coord&&!jk(b))||a.containData(b.coord)}function qk(a,b,c,d){return d<2?a.coord&&a.coord[d]:a.value}function rk(a,b,c){if("average"===c){var d=0,e=0;return a.each(b,function(a,b){isNaN(a)||(d+=a,e++)},!0),d/e}return a.getDataExtent(b,!0)["max"===c?1:0]}function sk(a,b,c){var d=b.coordinateSystem;a.each(function(e){var f,g=a.getItemModel(e),h=ud(g.get("x"),c.getWidth()),i=ud(g.get("y"),c.getHeight());if(isNaN(h)||isNaN(i)){if(b.getMarkerPosition)f=b.getMarkerPosition(a.getValues(a.dimensions,e));else if(d){var j=a.get(d.dimensions[0],e),k=a.get(d.dimensions[1],e);f=d.dataToPoint([j,k])}}else f=[h,i];isNaN(h)||(f[0]=h),isNaN(i)||(f[1]=i),a.setItemLayout(e,f)})}function tk(a,b,c){var d;d=a?n(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};return c.name=a,c}):[{name:"value",type:"float"}];var e=new Ks(d,c),f=n(c.get("data"),r(nk,b));return a&&(f=p(f,r(pk,a))),e.initData(f,null,a?qk:function(a){return a.value}),e}function uk(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function vk(a){return"_"+a+"Type"}function wk(a,b,c){var d=b.getItemVisual(c,"color"),e=b.getItemVisual(c,a),f=b.getItemVisual(c,a+"Size");if(e&&"none"!==e){s(f)||(f=[f,f]);var g=Eh(e,-f[0]/2,-f[1]/2,f[0],f[1],d);return g.name=a,g}}function xk(a){var b=new sv({name:"line"});return yk(b.shape,a),b}function yk(a,b){var c=b[0],d=b[1],e=b[2];a.x1=c[0],a.y1=c[1],a.x2=d[0],a.y2=d[1],a.percent=1,e?(a.cpx1=e[0],a.cpy1=e[1]):(a.cpx1=NaN,a.cpy1=NaN)}function zk(a,b,c){Ao.call(this),this._createLine(a,b,c)}function Ak(a){return isNaN(a[0])||isNaN(a[1])}function Bk(a){return!Ak(a[0])&&!Ak(a[1])}function Ck(a){this._ctor=a||zk,this.group=new Ao}function Dk(a){return!isNaN(a)&&!isFinite(a)}function Ek(a,b,c,d){var e=1-a,f=d.dimensions[a];return Dk(b[e])&&Dk(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function Fk(a,b){if("cartesian2d"===a.type){var c=b[0].coord,d=b[1].coord;if(c&&d&&(Ek(1,c,d,a)||Ek(0,c,d,a)))return!0}return pk(a,b[0])&&pk(a,b[1])}function Gk(a,b,c,d,e){var f,g=d.coordinateSystem,h=a.getItemModel(b),i=ud(h.get("x"),e.getWidth()),j=ud(h.get("y"),e.getHeight());if(isNaN(i)||isNaN(j)){if(d.getMarkerPosition)f=d.getMarkerPosition(a.getValues(a.dimensions,b));else{var k=g.dimensions,l=a.get(k[0],b),m=a.get(k[1],b);f=g.dataToPoint([l,m])}if("cartesian2d"===g.type){var n=g.getAxis("x"),o=g.getAxis("y"),k=g.dimensions;Dk(a.get(k[0],b))?f[0]=n.toGlobalCoord(n.getExtent()[c?0:1]):Dk(a.get(k[1],b))&&(f[1]=o.toGlobalCoord(o.getExtent()[c?0:1]))}isNaN(i)||(f[0]=i),isNaN(j)||(f[1]=j)}else f=[i,j];a.setItemLayout(b,f)}function Hk(a,b,c){var d;d=a?n(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};return c.name=a,c}):[{name:"value",type:"float"}];var e=new Ks(d,c),f=new Ks(d,c),g=new Ks([],c),h=n(c.get("data"),r(wv,b,a,c));a&&(h=p(h,r(Fk,a)));var i=a?qk:function(a){return a.value};return e.initData(n(h,function(a){return a[0]}),null,i),f.initData(n(h,function(a){return a[1]}),null,i),g.initData(n(h,function(a){return a[2]})),g.hasItemOption=!0,{from:e,to:f,line:g}}function Ik(a){return!isNaN(a)&&!isFinite(a)}function Jk(a,b,c,d){var e=1-a;return Ik(b[e])&&Ik(c[e])}function Kk(a,b){var c=b.coord[0],d=b.coord[1];return!("cartesian2d"!==a.type||!c||!d||!Jk(1,c,d,a)&&!Jk(0,c,d,a))||pk(a,{coord:c,x:b.x0,y:b.y0})||pk(a,{coord:d,x:b.x1,y:b.y1})}function Lk(a,b,c,d,e){var f,g=d.coordinateSystem,h=a.getItemModel(b),i=ud(h.get(c[0]),e.getWidth()),j=ud(h.get(c[1]),e.getHeight());if(isNaN(i)||isNaN(j)){if(d.getMarkerPosition)f=d.getMarkerPosition(a.getValues(c,b));else{var k=a.get(c[0],b),l=a.get(c[1],b);f=g.dataToPoint([k,l],!0)}if("cartesian2d"===g.type){var m=g.getAxis("x"),n=g.getAxis("y"),k=a.get(c[0],b),l=a.get(c[1],b);Ik(k)?f[0]=m.toGlobalCoord(m.getExtent()["x0"===c[0]?0:1]):Ik(l)&&(f[1]=n.toGlobalCoord(n.getExtent()["y0"===c[1]?0:1]))}isNaN(i)||(f[0]=i),isNaN(j)||(f[1]=j)}else f=[i,j];return f}function Mk(a,b,c){var d,e,f=["x0","y0","x1","y1"];a?(d=n(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};return c.name=a,c}),e=new Ks(n(f,function(a,b){return{name:a,type:d[b%2].type}}),c)):e=new Ks(d=[{name:"value",type:"float"}],c);var g=n(c.get("data"),r(xv,b,a,c));a&&(g=p(g,r(Kk,a)));var h=a?function(a,b,c,d){return a.coord[Math.floor(d/2)][d%2]}:function(a){return a.value};return e.initData(g,null,h),e.hasItemOption=!0,e}function Nk(a){return i(zv,a)>=0}function Ok(a,b,c){function d(a,b){return i(b.nodes,a)>=0}function e(a,d){var e=!1;return b(function(b){m(c(a,b)||[],function(a){d.records[b.name][a]&&(e=!0)})}),e}function f(a,d){d.nodes.push(a),b(function(b){m(c(a,b)||[],function(a){d.records[b.name][a]=!0})})}return function(c){var g={nodes:[],records:{}};if(b(function(a){g.records[a.name]={}}),!c)return g;f(c,g);var h;do h=!1,a(function(a){!d(a,g)&&e(a,g)&&(f(a,g),h=!0)});while(h);return g}}function Pk(a,b,c){var d=[1/0,-1/0];return Bv(c,function(a){var c=a.getData();c&&Bv(a.coordDimToDataDim(b),function(a){var b=c.getDataExtent(a);b[0]<d[0]&&(d[0]=b[0]),b[1]>d[1]&&(d[1]=b[1])})}),d[1]<d[0]&&(d=[NaN,NaN]),Qk(a,d),d}function Qk(a,b){var c=a.getAxisModel(),d=c.getMin(!0),e="category"===c.get("type"),f=e&&(c.get("data")||[]).length;null!=d&&"dataMin"!==d&&"function"!=typeof d?b[0]=d:e&&(b[0]=f>0?0:NaN);var g=c.getMax(!0);return null!=g&&"dataMax"!==g&&"function"!=typeof g?b[1]=g:e&&(b[1]=f>0?f-1:NaN),c.get("scale",!0)||(b[0]>0&&(b[0]=0),b[1]<0&&(b[1]=0)),b}function Rk(a,b){var c=a.getAxisModel(),d=a._percentWindow,e=a._valueWindow;if(d){var f=zd(e,[0,500]);f=Math.min(f,20);var g=b||0===d[0]&&100===d[1];c.setRange(g?null:+e[0].toFixed(f),g?null:+e[1].toFixed(f))}}function Sk(a){var b=a._minMaxSpan={},c=a._dataZoomModel;Bv(["min","max"],function(d){b[d+"Span"]=c.get(d+"Span");var e=c.get(d+"ValueSpan");if(null!=e&&(b[d+"ValueSpan"]=e,null!=(e=a.getAxisModel().axis.scale.parse(e)))){var f=a._dataExtent;b[d+"Span"]=td(f[0]+e,f,[0,100],!0)}})}function Tk(a){var b={};return Ev(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b}function Uk(a,b){var c=a._rangePropMode,d=a.get("rangeMode");Ev([["start","startValue"],["end","endValue"]],function(a,e){var f=null!=b[a[0]],g=null!=b[a[1]];f&&!g?c[e]="percent":!f&&g?c[e]="value":d?c[e]=d[e]:f&&(c[e]="percent")})}function Vk(a,b){var c=a[b]-a[1-b];return{span:Math.abs(c),sign:c>0?-1:c<0?1:b?-1:1}}function Wk(a,b){return Math.min(b[1],Math.max(b[0],a))}function Xk(a){return{x:"y",y:"x",radius:"angle",angle:"radius"}[a]}function Yk(a){return"vertical"===a?"ns-resize":"ew-resize"}function Zk(a,b,c){al(a)[b]=c}function $k(a,b,c){var d=al(a);d[b]===c&&(d[b]=null)}function _k(a,b){return!!al(a)[b]}function al(a){return a[Sv]||(a[Sv]={})}function bl(a){this.pointerChecker,this._zr=a,this._opt={};var b=q,d=b(cl,this),e=b(dl,this),f=b(el,this),h=b(fl,this),i=b(gl,this);Tn.call(this),this.setPointerChecker=function(a){this.pointerChecker=a},this.enable=function(b,j){this.disable(),this._opt=g(c(j)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==b&&(b=!0),!0!==b&&"move"!==b&&"pan"!==b||(a.on("mousedown",d),a.on("mousemove",e),a.on("mouseup",f)),!0!==b&&"scale"!==b&&"zoom"!==b||(a.on("mousewheel",h),a.on("pinch",i))},this.disable=function(){a.off("mousedown",d),a.off("mousemove",e),a.off("mouseup",f),a.off("mousewheel",h),a.off("pinch",i)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function cl(a){if(!(gd(a)||a.target&&a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function dl(a){if(!gd(a)&&il(this,"moveOnMouseMove",a)&&this._dragging&&"pinch"!==a.gestureEvent&&!_k(this._zr,"globalPan")){var b=a.offsetX,c=a.offsetY,d=this._x,e=this._y,f=b-d,g=c-e;this._x=b,this._y=c,this._opt.preventDefaultMouseMove&&ap(a.event),this.trigger("pan",f,g,d,e,b,c)}}function el(a){gd(a)||(this._dragging=!1)}function fl(a){if(il(this,"zoomOnMouseWheel",a)&&0!==a.wheelDelta){var b=a.wheelDelta>0?1.1:1/1.1;hl.call(this,a,b,a.offsetX,a.offsetY)}}function gl(a){if(!_k(this._zr,"globalPan")){var b=a.pinchScale>1?1.1:1/1.1;hl.call(this,a,b,a.pinchX,a.pinchY)}}function hl(a,b,c,d){this.pointerChecker&&this.pointerChecker(a,c,d)&&(ap(a.event),this.trigger("zoom",b,c,d))}function il(a,b,c){var d=a._opt[b];return d&&(!u(d)||c.event[d+"Key"])}function jl(a,b){var c=nl(a),d=b.dataZoomId,e=b.coordId;m(c,function(a,c){var f=a.dataZoomInfos;f[d]&&i(b.allCoordIds,e)<0&&(delete f[d],a.count--)}),pl(c);var f=c[e];f||((f=c[e]={coordId:e,dataZoomInfos:{},count:0}).controller=ol(a,f),f.dispatchAction=r(tl,a)),!f.dataZoomInfos[d]&&f.count++,f.dataZoomInfos[d]=b;var g=ul(f.dataZoomInfos);f.controller.enable(g.controlType,g.opt),f.controller.setPointerChecker(b.containsPoint),ug(f,"dispatchAction",b.throttleRate,"fixRate")}function kl(a,b){var c=nl(a);m(c,function(a){a.controller.dispose();var c=a.dataZoomInfos;c[b]&&(delete c[b],a.count--)}),pl(c)}function ll(a,b){if(a&&"dataZoom"===a.type&&a.batch)for(var c=0,d=a.batch.length;c<d;c++)if(a.batch[c].dataZoomId===b)return!1;return!0}function ml(a){return a.type+"\0_"+a.id}function nl(a){var b=a.getZr();return b[Uv]||(b[Uv]={})}function ol(a,b){var c=new bl(a.getZr());return c.on("pan",Tv(ql,b)),c.on("zoom",Tv(rl,b)),c}function pl(a){m(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function ql(a,b,c,d,e,f,g){sl(a,function(h){return h.panGetRange(a.controller,b,c,d,e,f,g)})}function rl(a,b,c,d){sl(a,function(e){return e.zoomGetRange(a.controller,b,c,d)})}function sl(a,b){var c=[];m(a.dataZoomInfos,function(a){var d=b(a);!a.disabled&&d&&c.push({dataZoomId:a.dataZoomId,start:d[0],end:d[1]})}),a.dispatchAction(c)}function tl(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function ul(a){var b,c={},d={"true":2,move:1,"false":0,"undefined":-1};return m(a,function(a){var e=!a.disabled&&(!a.zoomLock||"move");d[e]>d[b]&&(b=e),f(c,a.roamControllerOpt)}),{controlType:b,opt:c}}function vl(a,b,c){c.getAxisProxy(a.name,b).reset(c)}function wl(a,b,c){c.getAxisProxy(a.name,b).filterData(c)}function xl(a,b){Yv[a]=b}function yl(a){return Yv[a]}function zl(a){return 0===a.indexOf("my")}function Al(a){this.model=a}function Bl(a){this.model=a}function Cl(a){var b={},c=[],d=[];return a.eachRawSeries(function(a){var e=a.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)c.push(a);else{var f=e.getBaseAxis();if("category"===f.type){var g=f.dim+"_"+f.index;b[g]||(b[g]={categoryAxis:f,valueAxis:e.getOtherAxis(f),series:[]},d.push({axisDim:f.dim,axisIndex:f.index})),b[g].series.push(a)}else c.push(a)}}),{seriesGroupByCategoryAxis:b,other:c,meta:d}}function Dl(a){var b=[];return m(a,function(a,c){var d=a.categoryAxis,e=a.valueAxis.dim,f=[" "].concat(n(a.series,function(a){return a.name})),g=[d.model.getCategories()];m(a.series,function(a){g.push(a.getRawData().mapArray(e,function(a){return a}))});for(var h=[f.join(gw)],i=0;i<g[0].length;i++){for(var j=[],k=0;k<g.length;k++)j.push(g[k][i]);h.push(j.join(gw))}b.push(h.join("\n"))}),b.join("\n\n"+fw+"\n\n")}function El(a){return n(a,function(a){var b=a.getRawData(),c=[a.name],d=[];return b.each(b.dimensions,function(){for(var a=arguments.length,e=arguments[a-1],f=b.getName(e),g=0;g<a-1;g++)d[g]=arguments[g];c.push((f?f+gw:"")+d.join(gw))}),c.join("\n")}).join("\n\n"+fw+"\n\n")}function Fl(a){var b=Cl(a);return{value:p([Dl(b.seriesGroupByCategoryAxis),El(b.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+fw+"\n\n"),meta:b.meta}}function Gl(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Hl(a){if(a.slice(0,a.indexOf("\n")).indexOf(gw)>=0)return!0}function Il(a){for(var b=a.split(/\n+/g),c=[],d=n(Gl(b.shift()).split(hw),function(a){return{name:a,data:[]}}),e=0;e<b.length;e++){var f=Gl(b[e]).split(hw);c.push(f.shift());for(var g=0;g<f.length;g++)d[g]&&(d[g].data[e]=f[g])}return{series:d,categories:c}}function Jl(a){for(var b=a.split(/\n+/g),c=Gl(b.shift()),d=[],e=0;e<b.length;e++){var f,g=Gl(b[e]).split(hw),h="",i=!1;isNaN(g[0])?(i=!0,h=g[0],g=g.slice(1),d[e]={name:h,value:[]},f=d[e].value):f=d[e]=[];for(var j=0;j<g.length;j++)f.push(+g[j]);1===f.length&&(i?d[e].value=f[0]:d[e]=f[0])}return{name:c,data:d}}function Kl(a,b){var c={series:[]};return m(a.split(new RegExp("\n*"+fw+"\n*","g")),function(a,d){if(Hl(a)){var e=Il(a),f=b[d],g=f.axisDim+"Axis";f&&(c[g]=c[g]||[],c[g][f.axisIndex]={data:e.categories},c.series=c.series.concat(e.series))}else e=Jl(a),c.series.push(e)}),c}function Ll(a){this._dom=null,this.model=a}function Ml(a,b){return n(a,function(a,c){var d=b&&b[c];return v(d)&&!s(d)?(v(a)&&!s(a)&&(a=a.value),g({value:a},d)):a})}function Nl(a){Tn.call(this),this._zr=a,this.group=new Ao,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+vw++,this._handlers={},jw(ww,function(a,b){this._handlers[b]=q(a,this)},this)}function Ol(a,b){var e=a._zr;a._enableGlobalPan||Zk(e,rw,a._uid),jw(a._handlers,function(a,b){e.on(b,a)}),a._brushType=b.brushType,a._brushOption=d(c(uw),b,!0)}function Pl(a){var b=a._zr;$k(b,rw,a._uid),jw(a._handlers,function(a,c){b.off(c,a)}),a._brushType=a._brushOption=null}function Ql(a,b){var c=xw[b.brushType].createCover(a,b);return c.__brushOption=b,Tl(c,b),a.group.add(c),c}function Rl(a,b){var c=Vl(b);return c.endCreating&&(c.endCreating(a,b),Tl(b,b.__brushOption)),b}function Sl(a,b){var c=b.__brushOption;Vl(b).updateCoverShape(a,b,c.range,c)}function Tl(a,b){var c=b.z;null==c&&(c=ow),a.traverse(function(a){a.z=c,a.z2=c})}function Ul(a,b){Vl(b).updateCommon(a,b),Sl(a,b)}function Vl(a){return xw[a.__brushOption.brushType]}function Wl(a,b,c){var d=a._panels;if(!d)return!0;var e,f=a._transform;return jw(d,function(a){a.isTargetByCursor(b,c,f)&&(e=a)}),e}function Xl(a,b){var c=a._panels;if(!c)return!0;var d=b.__brushOption.panelId;return null==d||c[d]}function Yl(a){var b=a._covers,c=b.length;return jw(b,function(b){a.group.remove(b)},a),b.length=0,!!c}function Zl(a,b){var d=kw(a._covers,function(a){var b=a.__brushOption,d=c(b.range);return{brushType:b.brushType,panelId:b.panelId,range:d}});a.trigger("brush",d,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function $l(a){var b=a._track;if(!b.length)return!1;var c=b[b.length-1],d=b[0],e=c[0]-d[0],f=c[1]-d[1];return nw(e*e+f*f,.5)>pw}function _l(a){var b=a.length-1;return b<0&&(b=0),[a[0],a[b]]}function am(a,b,c,d){var e=new Ao;return e.add(new Sq({name:"main",style:em(c),silent:!0,draggable:!0,cursor:"move",drift:iw(a,b,e,"nswe"),ondragend:iw(Zl,b,{isEnd:!0})})),jw(d,function(c){e.add(new Sq({name:c,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:iw(a,b,e,c),ondragend:iw(Zl,b,{isEnd:!0})}))}),e}function bm(a,b,c,d){var e=d.brushStyle.lineWidth||0,f=mw(e,qw),g=c[0][0],h=c[1][0],i=g-e/2,j=h-e/2,k=c[0][1],l=c[1][1],m=k-f+e/2,n=l-f+e/2,o=k-g,p=l-h,q=o+e,r=p+e;dm(a,b,"main",g,h,o,p),d.transformable&&(dm(a,b,"w",i,j,f,r),dm(a,b,"e",m,j,f,r),dm(a,b,"n",i,j,q,f),dm(a,b,"s",i,n,q,f),dm(a,b,"nw",i,j,f,f),dm(a,b,"ne",m,j,f,f),dm(a,b,"sw",i,n,f,f),dm(a,b,"se",m,n,f,f))}function cm(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(em(c)),e.attr({silent:!d,cursor:d?"move":"default"}),jw(["w","e","n","s","se","sw","ne","nw"],function(c){var e=b.childOfName(c),f=hm(a,c);e&&e.attr({silent:!d,invisible:!d,cursor:d?tw[f]+"-resize":null})})}function dm(a,b,c,d,e,f,g){var h=b.childOfName(c);h&&h.setShape(mm(lm(a,b,[[d,e],[d+f,e+g]])))}function em(a){return g({strokeNoScale:!0},a.brushStyle)}function fm(a,b,c,d){var e=[lw(a,c),lw(b,d)],f=[mw(a,c),mw(b,d)];return[[e[0],f[0]],[e[1],f[1]]]}function gm(a){return rf(a.group)}function hm(a,b){if(b.length>1)return("e"===(d=[hm(a,(b=b.split(""))[0]),hm(a,b[1])])[0]||"w"===d[0])&&d.reverse(),d.join("");var c={left:"w",right:"e",top:"n",bottom:"s"},d=tf({w:"left",e:"right",n:"top",s:"bottom"}[b],gm(a));return c[d]}function im(a,b,c,d,e,f,g,h){var i=d.__brushOption,j=a(i.range),k=km(c,f,g);jw(e.split(""),function(a){var b=sw[a];j[b[0]][b[1]]+=k[b[0]]}),i.range=b(fm(j[0][0],j[1][0],j[0][1],j[1][1])),Ul(c,d),Zl(c,{isEnd:!1})}function jm(a,b,c,d,e){var f=b.__brushOption.range,g=km(a,c,d);jw(f,function(a){a[0]+=g[0],a[1]+=g[1]}),Ul(a,b),Zl(a,{isEnd:!1})}function km(a,b,c){var d=a.group,e=d.transformCoordToLocal(b,c),f=d.transformCoordToLocal(0,0);return[e[0]-f[0],e[1]-f[1]]}function lm(a,b,d){var e=Xl(a,b);return e&&!0!==e?e.clipPath(d,a._transform):c(d)}function mm(a){var b=lw(a[0][0],a[1][0]),c=lw(a[0][1],a[1][1]);return{x:b,y:c,width:mw(a[0][0],a[1][0])-b,height:mw(a[0][1],a[1][1])-c}}function nm(a,b,c){if(a._brushType){var d=a._zr,e=a._covers,f=Wl(a,b,c);if(!a._dragging)for(var g=0;g<e.length;g++){var h=e[g].__brushOption;if(f&&(!0===f||h.panelId===f.panelId)&&xw[h.brushType].contain(e[g],c[0],c[1]))return}f&&d.setCursorStyle("crosshair")}}function om(a){var b=a.event;b.preventDefault&&b.preventDefault()}function pm(a,b,c){return a.childOfName("main").contain(b,c)}function qm(a,b,d,e){var f,g=a._creatingCover,h=a._creatingPanel,i=a._brushOption;if(a._track.push(d.slice()),$l(a)||g){if(h&&!g){"single"===i.brushMode&&Yl(a);var j=c(i);j.brushType=rm(j.brushType,h),j.panelId=!0===h?null:h.panelId,g=a._creatingCover=Ql(a,j),a._covers.push(g)}if(g){var k=xw[rm(a._brushType,h)];g.__brushOption.range=k.getCreatingRange(lm(a,g,a._track)),e&&(Rl(a,g),k.updateCommon(a,g)),Sl(a,g),f={isEnd:e}}}else e&&"single"===i.brushMode&&i.removeOnClick&&Wl(a,b,d)&&Yl(a)&&(f={isEnd:e,removeOnClick:!0});return f}function rm(a,b){return"auto"===a?b.defaultBrushType:a}function sm(a){if(this._dragging){om(a);var b=qm(this,a,this.group.transformCoordToLocal(a.offsetX,a.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,b&&Zl(this,b)}}function tm(a){return{createCover:function(b,c){return am(iw(im,function(b){var c=[b,[0,100]];return a&&c.reverse(),c},function(b){return b[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){var c=_l(b);return[lw(c[0][a],c[1][a]),mw(c[0][a],c[1][a])]},updateCoverShape:function(b,c,d,e){var f,g=Xl(b,c);if(!0!==g&&g.getLinearBrushOtherExtent)f=g.getLinearBrushOtherExtent(a,b._transform);else{var h=b._zr;f=[0,[h.getWidth(),h.getHeight()][1-a]]}var i=[d,f];a&&i.reverse(),bm(b,c,i,e)},updateCommon:cm,contain:pm}}function um(a,b,c){var d=b.getComponentByElement(a.topTarget),e=d&&d.coordinateSystem;return d&&d!==c&&!yw[d.mainType]&&e&&e.model!==c}function vm(a){return a=ym(a),function(b,c){return vf(b,a)}}function wm(a,b){return a=ym(a),function(c){var d=null!=b?b:c,e=d?a.width:a.height,f=d?a.x:a.y;return[f,f+(e||0)]}}function xm(a,b,c){return a=ym(a),function(d,e,f){return a.contain(e[0],e[1])&&!um(d,b,c)}}function ym(a){return Sb.create(a)}function zm(a,b,c){var d=this._targetInfoList=[],e={},f=Bm(b,a);zw(Fw,function(a,b){(!c||!c.include||Aw(c.include,b)>=0)&&a(f,d,e)})}function Am(a){return a[0]>a[1]&&a.reverse(),a}function Bm(a,b){return Jf(a,b,{includeMainTypes:Dw})}function Cm(a,b,c,d){var e=c.getAxis(["x","y"][a]),f=Am(n([0,1],function(a){return b?e.coordToData(e.toLocalCoord(d[a])):e.toGlobalCoord(e.dataToCoord(d[a]))})),g=[];return g[a]=f,g[1-a]=[NaN,NaN],{values:f,xyMinMax:g}}function Dm(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function Em(a,b){var c=Fm(a),d=Fm(b),e=[c[0]/d[0],c[1]/d[1]];return isNaN(e[0])&&(e[0]=1),isNaN(e[1])&&(e[1]=1),e}function Fm(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}function Gm(a,b){var c=Km(a);Kw(b,function(b,d){for(var e=c.length-1;e>=0&&!c[e][d];e--);if(e<0){var f=a.queryComponents({mainType:"dataZoom",subType:"select",id:d})[0];if(f){var g=f.getPercentRange();c[0][d]={dataZoomId:d,start:g[0],end:g[1]}}}}),c.push(b)}function Hm(a){var b=Km(a),c=b[b.length-1];b.length>1&&b.pop();var d={};return Kw(c,function(a,c){for(var e=b.length-1;e>=0;e--)if(a=b[e][c]){d[c]=a;break}}),d}function Im(a){a[Lw]=null}function Jm(a){return Km(a).length}function Km(a){var b=a[Lw];return b||(b=a[Lw]=[{}]),b}function Lm(a,b,c){(this._brushController=new Nl(c.getZr())).on("brush",q(this._onBrush,this)).mount(),this._isZoomActive}function Mm(a){var b={};return m(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c],null==b[c]&&(b[c]="all"),(!1===b[c]||"none"===b[c])&&(b[c]=[])}),b}function Nm(a,b){a.setIconStatus("back",Jm(b)>1?"emphasis":"normal")}function Om(a,b,c,d,e){var f=c._isZoomActive;d&&"takeGlobalCursor"===d.type&&(f="dataZoomSelect"===d.key&&d.dataZoomSelectActive),c._isZoomActive=f,a.setIconStatus("zoom",f?"emphasis":"normal");var g=new zm(Mm(a.option),b,{include:["grid"]});c._brushController.setPanels(g.makePanelOpts(e,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"})).enableBrush(!!f&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}function Pm(a){this.model=a}function Qm(a){return Sw(a)}function Rm(){if(!Vw&&Ww){Vw=!0;var a=Ww.styleSheets;a.length<31?Ww.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}}function Sm(a){return parseInt(a,10)}function Tm(a,b){Rm(),this.root=a,this.storage=b;var c=document.createElement("div"),d=document.createElement("div");c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",d.style.cssText="position:absolute;left:0;top:0;",a.appendChild(c),this._vmlRoot=d,this._vmlViewport=c,this.resize();var e=b.delFromStorage,f=b.addToStorage;b.delFromStorage=function(a){e.call(b,a),a&&a.onRemove&&a.onRemove(d)},b.addToStorage=function(a){a.onAdd&&a.onAdd(d),f.call(b,a)},this._firstPaint=!0}function Um(a){return function(){uo('In IE8.0 VML mode painter not support method "'+a+'"')}}function Vm(a){return document.createElementNS(Cx,a)}function Wm(a){return Gx(1e4*a)/1e4}function Xm(a){return a<Mx&&a>-Mx}function Ym(a,b){var c=b?a.textFill:a.fill;return null!=c&&c!==Fx}function Zm(a,b){var c=b?a.textStroke:a.stroke;return null!=c&&c!==Fx}function $m(a,b){b&&_m(a,"transform","matrix("+Ex.call(b,",")+")")}function _m(a,b,c){(!c||"linear"!==c.type&&"radial"!==c.type)&&a.setAttribute(b,c)}function an(a,b,c){a.setAttributeNS("http://www.w3.org/1999/xlink",b,c)}function bn(a,b,c){if(Ym(b,c)){var d=c?b.textFill:b.fill;d="transparent"===d?Fx:d,"none"!==a.getAttribute("clip-path")&&d===Fx&&(d="rgba(0, 0, 0, 0.002)"),_m(a,"fill",d),_m(a,"fill-opacity",b.opacity)}else _m(a,"fill",Fx);if(Zm(b,c)){var e=c?b.textStroke:b.stroke;_m(a,"stroke",e="transparent"===e?Fx:e),_m(a,"stroke-width",(c?b.textStrokeWidth:b.lineWidth)/(b.strokeNoScale?b.host.getLineScale():1)),_m(a,"paint-order","stroke"),_m(a,"stroke-opacity",b.opacity),b.lineDash?(_m(a,"stroke-dasharray",b.lineDash.join(",")),_m(a,"stroke-dashoffset",Gx(b.lineDashOffset||0))):_m(a,"stroke-dasharray",""),b.lineCap&&_m(a,"stroke-linecap",b.lineCap),b.lineJoin&&_m(a,"stroke-linejoin",b.lineJoin),b.miterLimit&&_m(a,"stroke-miterlimit",b.miterLimit)}else _m(a,"stroke",Fx)}function cn(a){for(var b=[],c=a.data,d=a.len(),e=0;e<d;){var f="",g=0;switch(c[e++]){case Dx.M:f="M",g=2;break;case Dx.L:f="L",g=2;break;case Dx.Q:f="Q",g=4;break;case Dx.C:f="C",g=6;break;case Dx.A:var h=c[e++],i=c[e++],j=c[e++],k=c[e++],l=c[e++],m=c[e++],n=c[e++],o=c[e++],p=Math.abs(m),q=Xm(p%Kx)&&!Xm(p),r=!1;r=p>=Kx||!Xm(p)&&(m>-Jx&&m<0||m>Jx)==!!o;var s=Wm(h+j*Ix(l)),t=Wm(i+k*Hx(l));q&&(m=o?Kx-1e-4:1e-4-Kx,r=!0,9===e&&b.push("M",s,t));var u=Wm(h+j*Ix(l+m)),v=Wm(i+k*Hx(l+m));b.push("A",Wm(j),Wm(k),Gx(n*Lx),+r,+o,u,v);break;case Dx.Z:f="Z";break;case Dx.R:var u=Wm(c[e++]),v=Wm(c[e++]),w=Wm(c[e++]),x=Wm(c[e++]);b.push("M",u,v,"L",u+w,v,"L",u+w,v+x,"L",u,v+x,"L",u,v)}f&&b.push(f);for(var y=0;y<g;y++)b.push(Wm(c[e++]))}return b.join(" ")}function dn(a){return"middle"===a?"middle":"bottom"===a?"baseline":"hanging"}function en(){}function fn(a,b,c,d){for(var e=0,f=b.length,g=0,h=0;e<f;e++){var i=b[e];if(i.removed){for(var j=[],k=h;k<h+i.count;k++)j.push(k);i.indices=j,h+=i.count}else{for(var j=[],k=g;k<g+i.count;k++)j.push(k);i.indices=j,g+=i.count,i.added||(h+=i.count)}}return b}function gn(a){return{newPos:a.newPos,components:a.components.slice(0)}}function hn(a,b,c){this._svgRoot=a,this._tagNames="string"==typeof b?[b]:b,this._markLabel=c,this.nextId=0}function jn(a){hn.call(this,a,["linearGradient","radialGradient"],"__gradient_in_use__")}function kn(a){hn.call(this,a,"clipPath","__clippath_in_use__")}function ln(a){return parseInt(a,10)}function mn(a){return a instanceof Ce?Nx:a instanceof Tc?Ox:a instanceof Iq?Px:Nx}function nn(a,b){return b&&a&&b.parentNode!==a}function on(a,b,c){if(nn(a,b)&&c){var d=c.nextSibling;d?a.insertBefore(b,d):a.appendChild(b)}}function pn(a,b){if(nn(a,b)){var c=a.firstChild;c?a.insertBefore(b,c):a.appendChild(b)}}function qn(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)}function rn(a){return a.__textSvgEl}function sn(a){return a.__svgEl}function tn(a){return function(){uo('In SVG mode painter not support method "'+a+'"')}}var un=2311,vn=function(){return un++},wn={},xn=wn="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0,svgSupported:!0}:function(a){var b={},c={},d=a.match(/Firefox\/([\d.]+)/),e=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),f=a.match(/Edge\/([\d.]+)/),g=/micromessenger/i.test(a);return d&&(c.firefox=!0,c.version=d[1]),e&&(c.ie=!0,c.version=e[1]),f&&(c.edge=!0,c.version=f[1]),g&&(c.weChat=!0),{browser:c,os:b,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!c.ie&&!c.edge,pointerEventsSupported:"onpointerdown"in window&&(c.edge||c.ie&&c.version>=11)}}(navigator.userAgent),yn={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},zn={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},An=Object.prototype.toString,Bn=Array.prototype,Cn=Bn.forEach,Dn=Bn.filter,En=Bn.slice,Fn=Bn.map,Gn=Bn.reduce,Hn={},In=function(){return Hn.createCanvas()};Hn.createCanvas=function(){return document.createElement("canvas")};var Jn,Kn="__ec_primitive__";H.prototype={constructor:H,get:function(a){return this["_ec_"+a]},set:function(a,b){return this["_ec_"+a]=b,b},each:function(a,b){void 0!==b&&(a=q(a,b));for(var c in this)this.hasOwnProperty(c)&&a(this[c],c.slice(4))},removeKey:function(a){delete this["_ec_"+a]}};var Ln=(Object.freeze||Object)({$override:b,clone:c,merge:d,mergeAll:e,extend:f,defaults:g,createCanvas:In,getContext:h,indexOf:i,inherits:j,mixin:k,isArrayLike:l,each:m,map:n,reduce:o,filter:p,find:function(a,b,c){if(a&&b)for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d]},bind:q,curry:r,isArray:s,isFunction:t,isString:u,isObject:v,isBuiltInObject:w,isDom:x,eqNaN:y,retrieve:z,retrieve2:A,retrieve3:B,slice:C,normalizeCssArray:D,assert:E,setAsPrimitive:F,isPrimitive:G,createHashMap:I,noop:J}),Mn="undefined"==typeof Float32Array?Array:Float32Array,Nn=Q,On=R,Pn=U,Qn=V,Rn=(Object.freeze||Object)({create:K,copy:L,clone:M,set:function(a,b,c){return a[0]=b,a[1]=c,a},add:N,scaleAndAdd:O,sub:P,len:Q,length:Nn,lenSquare:R,lengthSquare:On,mul:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},div:function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:S,normalize:T,distance:U,dist:Pn,distanceSquare:V,distSquare:Qn,negate:function(a,b){return a[0]=-b[0],a[1]=-b[1],a},lerp:function(a,b,c,d){return a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a},applyTransform:W,min:X,max:Y});Z.prototype={constructor:Z,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement($(b,a),"dragstart",a.event))},_drag:function(a){var b=this._draggingTarget;if(b){var c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y;this._x=c,this._y=d,b.drift(e,f,a),this.dispatchToElement($(b,a),"drag",a.event);var g=this.findHover(c,d,b).target,h=this._dropTarget;this._dropTarget=g,b!==g&&(h&&g!==h&&this.dispatchToElement($(h,a),"dragleave",a.event),g&&g!==h&&this.dispatchToElement($(g,a),"dragenter",a.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1),this.dispatchToElement($(b,a),"dragend",a.event),this._dropTarget&&this.dispatchToElement($(this._dropTarget,a),"drop",a.event),this._draggingTarget=null,this._dropTarget=null}};var Sn=Array.prototype.slice,Tn=function(){this._$handlers={}};Tn.prototype={constructor:Tn,one:function(a,b,c){var d=this._$handlers;if(!b||!a)return this;d[a]||(d[a]=[]);for(var e=0;e<d[a].length;e++)if(d[a][e].h===b)return this;return d[a].push({h:b,one:!0,ctx:c||this}),this},on:function(a,b,c){var d=this._$handlers;if(!b||!a)return this;d[a]||(d[a]=[]);for(var e=0;e<d[a].length;e++)if(d[a][e].h===b)return this;return d[a].push({h:b,one:!1,ctx:c||this}),this},isSilent:function(a){var b=this._$handlers;return b[a]&&b[a].length},off:function(a,b){var c=this._$handlers;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(var d=[],e=0,f=c[a].length;e<f;e++)c[a][e].h!=b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},trigger:function(a){if(this._$handlers[a]){var b=arguments,c=b.length;c>3&&(b=Sn.call(b,1));for(var d=this._$handlers[a],e=d.length,f=0;f<e;){switch(c){case 1:d[f].h.call(d[f].ctx);break;case 2:d[f].h.call(d[f].ctx,b[1]);break;case 3:d[f].h.call(d[f].ctx,b[1],b[2]);break;default:d[f].h.apply(d[f].ctx,b)}d[f].one?(d.splice(f,1),e--):f++}}return this},triggerWithContext:function(a){if(this._$handlers[a]){var b=arguments,c=b.length;c>4&&(b=Sn.call(b,1,b.length-1));for(var d=b[b.length-1],e=this._$handlers[a],f=e.length,g=0;g<f;){switch(c){case 1:e[g].h.call(d);break;case 2:e[g].h.call(d,b[1]);break;case 3:e[g].h.call(d,b[1],b[2]);break;default:e[g].h.apply(d,b)}e[g].one?(e.splice(g,1),f--):g++}}return this}};var Un="silent";ab.prototype.dispose=function(){};var Vn=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Wn=function(a,b,c,d){Tn.call(this),this.storage=a,this.painter=b,this.painterRoot=d,c=c||new ab,this.proxy=c,c.handler=this,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,Z.call(this),m(Vn,function(a){c.on&&c.on(a,this[a],this)},this)};Wn.prototype={constructor:Wn,mousemove:function(a){var b=a.zrX,c=a.zrY,d=this._hovered,e=d.target;e&&!e.__zr&&(e=(d=this.findHover(d.x,d.y)).target);var f=this._hovered=this.findHover(b,c),g=f.target,h=this.proxy;h.setCursor&&h.setCursor(g?g.cursor:"default"),e&&g!==e&&this.dispatchToElement(d,"mouseout",a),this.dispatchToElement(f,"mousemove",a),g&&g!==e&&this.dispatchToElement(f,"mouseover",a)},mouseout:function(a){this.dispatchToElement(this._hovered,"mouseout",a);var b,c=a.toElement||a.relatedTarget;do c=c&&c.parentNode;while(c&&9!=c.nodeType&&!(b=c===this.painterRoot));!b&&this.trigger("globalout",{event:a})},resize:function(a){this._hovered={}},dispatch:function(a,b){var c=this[a];c&&c.call(this,b)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(a,b,c){var d=(a=a||{}).target;if(!d||!d.silent){for(var e="on"+b,f=_(b,a,c);d&&(d[e]&&(f.cancelBubble=d[e].call(d,f)),d.trigger(b,f),d=d.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(b,f),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[e]&&a[e].call(a,f),a.trigger&&a.trigger(b,f)}))}},findHover:function(a,b,c){for(var d=this.storage.getDisplayList(),e={x:a,y:b},f=d.length-1;f>=0;f--){var g;if(d[f]!==c&&!d[f].ignore&&(g=bb(d[f],a,b))&&(!e.topTarget&&(e.topTarget=d[f]),g!==Un)){e.target=d[f];break}}return e}},m(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){Wn.prototype[a]=function(b){var c=this.findHover(b.zrX,b.zrY),d=c.target;if("mousedown"===a)this._downEl=d,this._downPoint=[b.zrX,b.zrY],this._upEl=d;else if("mosueup"===a)this._upEl=d;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||Pn(this._downPoint,[b.zrX,b.zrY])>4)return;this._downPoint=null}this.dispatchToElement(c,a,b)}}),k(Wn,Tn),k(Wn,Z);var Xn="undefined"==typeof Float32Array?Array:Float32Array,Yn=(Object.freeze||Object)({create:cb,identity:db,copy:eb,mul:fb,translate:gb,rotate:hb,scale:ib,invert:jb}),Zn=db,$n=5e-5,_n=function(a){(a=a||{}).position||(this.position=[0,0]),null==a.rotation&&(this.rotation=0),a.scale||(this.scale=[1,1]),this.origin=this.origin||null},ao=_n.prototype;ao.transform=null,ao.needLocalTransform=function(){return kb(this.rotation)||kb(this.position[0])||kb(this.position[1])||kb(this.scale[0]-1)||kb(this.scale[1]-1)},ao.updateTransform=function(){var a=this.parent,b=a&&a.transform,c=this.needLocalTransform(),d=this.transform;c||b?(d=d||cb(),c?this.getLocalTransform(d):Zn(d),b&&(c?fb(d,a.transform,d):eb(d,a.transform)),this.transform=d,this.invTransform=this.invTransform||cb(),jb(this.invTransform,d)):d&&Zn(d)},ao.getLocalTransform=function(a){return _n.getLocalTransform(this,a)},ao.setTransform=function(a){var b=this.transform,c=a.dpr||1;b?a.setTransform(c*b[0],c*b[1],c*b[2],c*b[3],c*b[4],c*b[5]):a.setTransform(c,0,0,c,0,0)},ao.restoreTransform=function(a){var b=a.dpr||1;a.setTransform(b,0,0,b,0,0)};var bo=[];ao.decomposeTransform=function(){if(this.transform){var a=this.parent,b=this.transform;a&&a.transform&&(fb(bo,a.invTransform,b),b=bo);var c=b[0]*b[0]+b[1]*b[1],d=b[2]*b[2]+b[3]*b[3],e=this.position,f=this.scale;kb(c-1)&&(c=Math.sqrt(c)),kb(d-1)&&(d=Math.sqrt(d)),b[0]<0&&(c=-c),b[3]<0&&(d=-d),e[0]=b[4],e[1]=b[5],f[0]=c,f[1]=d,this.rotation=Math.atan2(-b[1]/d,b[0]/c)}},ao.getGlobalScale=function(){var a=this.transform;if(!a)return[1,1];var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(a[2]*a[2]+a[3]*a[3]);return a[0]<0&&(b=-b),a[3]<0&&(c=-c),[b,c]},ao.transformCoordToLocal=function(a,b){var c=[a,b],d=this.invTransform;return d&&W(c,c,d),c},ao.transformCoordToGlobal=function(a,b){var c=[a,b],d=this.transform;return d&&W(c,c,d),c},_n.getLocalTransform=function(a,b){Zn(b=b||[]);var c=a.origin,d=a.scale||[1,1],e=a.rotation||0,f=a.position||[0,0];return c&&(b[4]-=c[0],b[5]-=c[1]),ib(b,b,d),e&&hb(b,b,e),c&&(b[4]+=c[0],b[5]+=c[1]),b[4]+=f[0],b[5]+=f[1],b};var co={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-0.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(2-Math.pow(2,-10*(a-1)))},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-0.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),-c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/.4))},elasticOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin((a-b)*2*Math.PI/.4)+1)},elasticInOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||c<1?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),(a*=2)<1?c*Math.pow(2,10*(a-=1))*Math.sin((a-b)*2*Math.PI/.4)*-0.5:c*Math.pow(2,-10*(a-=1))*Math.sin((a-b)*2*Math.PI/.4)*.5+1)},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){var b=1.70158;return--a*a*((b+1)*a+b)+1},backInOut:function(a){var b=2.5949095;return(a*=2)<1?a*a*((b+1)*a-b)*.5:.5*((a-=2)*a*((b+1)*a+b)+2)},bounceIn:function(a){return 1-co.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return a<.5?.5*co.bounceIn(2*a):.5*co.bounceOut(2*a-1)+.5}};lb.prototype={constructor:lb,step:function(a,b){if(this._initialized||(this._startTime=a+this._delay,this._initialized=!0),this._paused)this._pausedTime+=b;else{var c=(a-this._startTime-this._pausedTime)/this._life;if(!(c<0)){c=Math.min(c,1);var d=this.easing,e="string"==typeof d?co[d]:d,f="function"==typeof e?e(c):c;return this.fire("frame",f),1==c?this.loop?(this.restart(a),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(a){var b=(a-this._startTime-this._pausedTime)%this._life;this._startTime=a-b+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(a,b){this[a="on"+a]&&this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var eo=function(){this.head=null,this.tail=null,this._len=0},fo=eo.prototype;fo.insert=function(a){var b=new go(a);return this.insertEntry(b),b},fo.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a,this._len++},fo.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c,c?c.prev=b:this.tail=b,a.next=a.prev=null,this._len--},fo.len=function(){return this._len},fo.clear=function(){this.head=this.tail=null,this._len=0};var go=function(a){this.value=a,this.next,this.prev},ho=function(a){this._list=new eo,this._map={},this._maxSize=a||10,this._lastRemovedEntry=null},io=ho.prototype;io.put=function(a,b){var c=this._list,d=this._map,e=null;if(null==d[a]){var f=c.len(),g=this._lastRemovedEntry;if(f>=this._maxSize&&f>0){var h=c.head;c.remove(h),delete d[h.key],e=h.value,this._lastRemovedEntry=h}g?g.value=b:g=new go(b),g.key=a,c.insertEntry(g),d[a]=g}return e},io.get=function(a){var b=this._map[a],c=this._list;if(null!=b)return b!==c.tail&&(c.remove(b),c.insertEntry(b)),b.value},io.clear=function(){this._list.clear(),this._map={}};var jo={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},ko=new ho(20),lo=null,mo=Bb,no=Cb,oo=(Object.freeze||Object)({parse:wb,lift:zb,toHex:Ab,fastLerp:Bb,fastMapToColor:mo,lerp:Cb,mapToColor:no,modifyHSL:function(a,b,c,d){if(a=wb(a))return a=yb(a),null!=b&&(a[0]=nb(b)),null!=c&&(a[1]=qb(c)),null!=d&&(a[2]=qb(d)),Eb(xb(a),"rgba")},modifyAlpha:Db,stringify:Eb}),po=Array.prototype.slice,qo=function(a,b,c,d){this._tracks={},this._target=a,this._loop=b||!1,this._getter=c||Fb,this._setter=d||Gb,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};qo.prototype={when:function(a,b){var c=this._tracks;for(var d in b)if(b.hasOwnProperty(d)){if(!c[d]){c[d]=[];var e=this._getter(this._target,d);if(null==e)continue;0!==a&&c[d].push({time:0,value:Ob(e)})}c[d].push({time:a,value:b[d]})}return this},during:function(a){return this._onframeList.push(a),this},pause:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].pause();this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var a=this._doneList,b=a.length,c=0;c<b;c++)a[c].call(this)},start:function(a,b){var c,d=this,e=0;for(var f in this._tracks)if(this._tracks.hasOwnProperty(f)){var g=Rb(this,a,function(){--e||d._doneCallback()},this._tracks[f],f,b);g&&(this._clipList.push(g),e++,this.animation&&this.animation.addClip(g),c=g)}if(c){var h=c.onframe;c.onframe=function(a,b){h(a,b);for(var c=0;c<d._onframeList.length;c++)d._onframeList[c](a,b)}}return e||this._doneCallback(),this},stop:function(a){for(var b=this._clipList,c=this.animation,d=0;d<b.length;d++){var e=b[d];a&&e.onframe(this._target,1),c&&c.removeClip(e)}b.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}};var ro=1;"undefined"!=typeof window&&(ro=Math.max(window.devicePixelRatio||1,1));var so=ro,to=function(){},uo=to,vo=function(){this.animators=[]};vo.prototype={constructor:vo,animate:function(a,b){var c,d=!1,e=this,f=this.__zr;if(a){var g=a.split("."),h=e;d="shape"===g[0];for(var j=0,k=g.length;j<k;j++)h&&(h=h[g[j]]);h&&(c=h)}else c=e;if(c){var l=e.animators,m=new qo(c,b);return m.during(function(a){e.dirty(d)}).done(function(){l.splice(i(l,m),1)}),l.push(m),f&&f.animation.addAnimator(m),m}uo('Property "'+a+'" is not existed in element '+e.id)},stopAnimation:function(a){for(var b=this.animators,c=b.length,d=0;d<c;d++)b[d].stop(a);return b.length=0,this},animateTo:function(a,b,c,d,e,f){u(c)?(e=d,d=c,c=0):t(d)?(e=d,d="linear",c=0):t(c)?(e=c,c=0):t(b)?(e=b,b=500):b||(b=500),this.stopAnimation(),this._animateToShallow("",this,a,b,c);var g=this.animators.slice(),h=g.length;h||e&&e();for(var i=0;i<g.length;i++)g[i].done(function(){--h||e&&e()}).start(d,f)},_animateToShallow:function(a,b,c,d,e){var f={},g=0;for(var h in c)if(c.hasOwnProperty(h))if(null!=b[h])v(c[h])&&!l(c[h])?this._animateToShallow(a?a+"."+h:h,b[h],c[h],d,e):(f[h]=c[h],g++);else if(null!=c[h])if(a){var i={};i[a]={},i[a][h]=c[h],this.attr(i)}else this.attr(h,c[h]);return g>0&&this.animate(a,!1).when(null==d?500:d,f).delay(e||0),this}};var wo=function(a){_n.call(this,a),Tn.call(this,a),vo.call(this,a),this.id=a.id||vn()};wo.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(a,b){switch(this.draggable){case"horizontal":b=0;break;case"vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]),c[4]+=a,c[5]+=b,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,b){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]),c[0]=b[0],c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"==typeof a)this.attrKV(a,b);else if(v(a))for(var c in a)a.hasOwnProperty(c)&&this.attrKV(c,a[c]);return this.dirty(!1),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b),this.clipPath&&this.clipPath!==a&&this.removeClipPath(),this.clipPath=a,a.__zr=b,a.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this.clipPath&&this.clipPath.removeSelfFromZr(a)}},k(wo,vo),k(wo,_n),k(wo,Tn);var xo=W,yo=Math.min,zo=Math.max;Sb.prototype={constructor:Sb,union:function(a){var b=yo(a.x,this.x),c=yo(a.y,this.y);this.width=zo(a.x+a.width,this.x+this.width)-b,this.height=zo(a.y+a.height,this.y+this.height)-c,this.x=b,this.y=c},applyTransform:function(){var a=[],b=[],c=[],d=[];return function(e){if(e){a[0]=c[0]=this.x,a[1]=d[1]=this.y,b[0]=d[0]=this.x+this.width,b[1]=c[1]=this.y+this.height,xo(a,a,e),xo(b,b,e),xo(c,c,e),xo(d,d,e),this.x=yo(a[0],b[0],c[0],d[0]),this.y=yo(a[1],b[1],c[1],d[1]);var f=zo(a[0],b[0],c[0],d[0]),g=zo(a[1],b[1],c[1],d[1]);this.width=f-this.x,this.height=g-this.y}}}(),calculateTransform:function(a){var b=this,c=a.width/b.width,d=a.height/b.height,e=cb();return gb(e,e,[-b.x,-b.y]),ib(e,e,[c,d]),gb(e,e,[a.x,a.y]),e},intersect:function(a){if(!a)return!1;a instanceof Sb||(a=Sb.create(a));var b=this,c=b.x,d=b.x+b.width,e=b.y,f=b.y+b.height,g=a.x,h=a.x+a.width,i=a.y,j=a.y+a.height;return!(d<g||h<c||f<i||j<e)},contain:function(a,b){var c=this;return a>=c.x&&a<=c.x+c.width&&b>=c.y&&b<=c.y+c.height},clone:function(){return new Sb(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Sb.create=function(a){return new Sb(a.x,a.y,a.width,a.height)};var Ao=function(a){a=a||{},wo.call(this,a);for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this._children=[],this.__storage=null,this.__dirty=!0};Ao.prototype={constructor:Ao,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,c=0;c<b.length;c++)if(b[c].name===a)return b[c]},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children,d=c.indexOf(b);d>=0&&(c.splice(d,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a),a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof Ao&&a.addChildrenToStorage(b)),c&&c.refresh()},remove:function(a){var b=this.__zr,c=this.__storage,d=this._children,e=i(d,a);return e<0?this:(d.splice(e,1),a.parent=null,c&&(c.delFromStorage(a),a instanceof Ao&&a.delChildrenFromStorage(c)),b&&b.refresh(),this)},removeAll:function(){var a,b,c=this._children,d=this.__storage;for(b=0;b<c.length;b++)a=c[b],d&&(d.delFromStorage(a),a instanceof Ao&&a.delChildrenFromStorage(d)),a.parent=null;return c.length=0,this},eachChild:function(a,b){for(var c=this._children,d=0;d<c.length;d++){var e=c[d];a.call(b,e,d)}return this},traverse:function(a,b){for(var c=0;c<this._children.length;c++){var d=this._children[c];a.call(b,d),"group"===d.type&&d.traverse(a,b)}return this},addChildrenToStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.addToStorage(c),c instanceof Ao&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromStorage(c),c instanceof Ao&&c.delChildrenFromStorage(a)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(a){for(var b=null,c=new Sb(0,0,0,0),d=a||this._children,e=[],f=0;f<d.length;f++){var g=d[f];if(!g.ignore&&!g.invisible){var h=g.getBoundingRect(),i=g.getLocalTransform(e);i?(c.copy(h),c.applyTransform(i),(b=b||c.clone()).union(c)):(b=b||h.clone()).union(h)}}return b||c}},j(Ao,wo);var Bo=32,Co=7,Do=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Do.prototype={constructor:Do,traverse:function(a,b){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,b)},getDisplayList:function(a,b){return b=b||!1,a&&this.updateDisplayList(b),this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var b=this._roots,c=this._displayList,d=0,e=b.length;d<e;d++)this._updateAndAddDisplayable(b[d],null,a);c.length=this._displayListLen,xn.canvasSupported&&$b(c,_b)},_updateAndAddDisplayable:function(a,b,c){if(!a.ignore||c){a.beforeUpdate(),a.__dirty&&a.update(),a.afterUpdate();var d=a.clipPath;if(d){b=b?b.slice():[];for(var e=d,f=a;e;)e.parent=f,e.updateTransform(),b.push(e),f=e,e=e.clipPath}if(a.isGroup){for(var g=a._children,h=0;h<g.length;h++){var i=g[h];a.__dirty&&(i.__dirty=!0),this._updateAndAddDisplayable(i,b,c)}a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a}},addRoot:function(a){a.__storage!==this&&(a instanceof Ao&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(c=0;c<this._roots.length;c++){var b=this._roots[c];b instanceof Ao&&b.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void (this._displayListLen=0)}if(a instanceof Array)for(var c=0,d=a.length;c<d;c++)this.delRoot(a[c]);else{var e=i(this._roots,a);e>=0&&(this.delFromStorage(a),this._roots.splice(e,1),a instanceof Ao&&a.delChildrenFromStorage(this))}},addToStorage:function(a){return a.__storage=this,a.dirty(!1),this},delFromStorage:function(a){return a&&(a.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:_b};var Eo=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Fo=function(a,b){this.extendFrom(a,!1),this.host=b};Fo.prototype={constructor:Fo,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(a,b,c){for(var d=this,e=c&&c.style,f=!e,g=0;g<Eo.length;g++){var h=Eo[g],i=h[0];(f||d[i]!==e[i])&&(a[i]=d[i]||h[1])}if((f||d.fill!==e.fill)&&(a.fillStyle=d.fill),(f||d.stroke!==e.stroke)&&(a.strokeStyle=d.stroke),(f||d.opacity!==e.opacity)&&(a.globalAlpha=null==d.opacity?1:d.opacity),(f||d.blend!==e.blend)&&(a.globalCompositeOperation=d.blend||"source-over"),this.hasStroke()){var j=d.lineWidth;a.lineWidth=j/(this.strokeNoScale&&b&&b.getLineScale?b.getLineScale():1)}},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&this.lineWidth>0},extendFrom:function(a,b){if(a)for(var c in a)!a.hasOwnProperty(c)||!0!==b&&(!1===b?this.hasOwnProperty(c):null==a[c])||(this[c]=a[c])},set:function(a,b){"string"==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),a},getGradient:function(a,b,c){for(var d=("radial"===b.type?bc:ac)(a,b,c),e=b.colorStops,f=0;f<e.length;f++)d.addColorStop(e[f].offset,e[f].color);return d}};for(var Go=Fo.prototype,Ho=0;Ho<Eo.length;Ho++){var Io=Eo[Ho];Io[0]in Go||(Go[Io[0]]=Io[1])}Fo.getGradient=Go.getGradient;var Jo=function(a,b){this.image=a,this.repeat=b,this.type="pattern"};Jo.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};var Ko=function(a,b,c){var d;c=c||so,"string"==typeof a?d=dc(a,b,c):v(a)&&(a=(d=a).id),this.id=a,this.dom=d;var e=d.style;e&&(d.onselectstart=cc,e["-webkit-user-select"]="none",e["user-select"]="none",e["-webkit-touch-callout"]="none",e["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",e.padding=0,e.margin=0,e["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=b,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=c};Ko.prototype={constructor:Ko,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.__currentValues={},this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=dc("back-"+this.id,this.painter,a),this.ctxBack=this.domBack.getContext("2d"),this.ctxBack.__currentValues={},1!=a&&this.ctxBack.scale(a,a)},resize:function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e.width=a+"px",e.height=b+"px",d.width=a*c,d.height=b*c,f&&(f.width=a*c,f.height=b*c,1!=c&&this.ctxBack.scale(c,c))},clear:function(a){var b=this.dom,c=this.ctx,d=b.width,e=b.height,f=this.clearColor,g=this.motionBlur&&!a,h=this.lastFrameAlpha,i=this.dpr;if(g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(b,0,0,d/i,e/i)),c.clearRect(0,0,d,e),f){var j;f.colorStops?(j=f.__canvasGradient||Fo.getGradient(c,f,{x:0,y:0,width:d,height:e}),f.__canvasGradient=j):f.image&&(j=Jo.prototype.getCanvasPattern.call(f,c)),c.save(),c.fillStyle=j||f,c.fillRect(0,0,d,e),c.restore()}if(g){var k=this.domBack;c.save(),c.globalAlpha=h,c.drawImage(k,0,0,d,e),c.restore()}}};var Lo="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},Mo=new ho(50),No={},Oo=0,Po=5e3,Qo=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Ro="12px sans-serif",So={};So.measureText=function(a,b){var c=h();return c.font=b||Ro,c.measureText(a)};var To={left:1,right:1,center:1},Uo={top:1,bottom:1,middle:1},Vo=new Sb,Wo=function(){};Wo.prototype={constructor:Wo,drawRectText:function(a,b){var c=this.style;b=c.textRect||b,this.__dirty&&Ac(c);var d=c.text;if(null!=d&&(d+=""),Rc(d,c)){a.save();var e=this.transform;c.transformText?this.setTransform(a):e&&(Vo.copy(b),Vo.applyTransform(e),b=Vo),Cc(this,a,d,c,b),a.restore()}}},Sc.prototype={constructor:Sc,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,b){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(a,b){var c=this.transformCoordToLocal(a,b);return this.getBoundingRect().contain(c[0],c[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?wo.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){return this.style.set(a,b),this.dirty(!1),this},useStyle:function(a){return this.style=new Fo(a,this),this.dirty(!1),this}},j(Sc,wo),k(Sc,Wo),Tc.prototype={constructor:Tc,type:"image",brush:function(a,b){var c=this.style,d=c.image;c.bind(a,this,b);var e=this._image=fc(d,this._image,this,this.onload);if(e&&hc(e)){var f=c.x||0,g=c.y||0,h=c.width,i=c.height,j=e.width/e.height;if(null==h&&null!=i?h=i*j:null==i&&null!=h?i=h/j:null==h&&null==i&&(h=e.width,i=e.height),this.setTransform(a),c.sWidth&&c.sHeight){var k=c.sx||0,l=c.sy||0;a.drawImage(e,k,l,c.sWidth,c.sHeight,f,g,h,i)}else if(c.sx&&c.sy){var m=h-(k=c.sx),n=i-(l=c.sy);a.drawImage(e,k,l,m,n,f,g,h,i)}else a.drawImage(e,f,g,h,i);this.restoreTransform(a),null!=c.text&&this.drawRectText(a,this.getBoundingRect())}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new Sb(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}},j(Tc,Sc);var Xo=new Sb(0,0,0,0),Yo=new Sb(0,0,0,0),Zo=function(a,b,c){this.type="canvas";var d=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=c=f({},c||{}),this.dpr=c.devicePixelRatio||so,this._singleCanvas=d,this.root=a;var e=a.style;e&&(e["-webkit-tap-highlight-color"]="transparent",e["-webkit-user-select"]=e["user-select"]=e["-webkit-touch-callout"]="none",a.innerHTML=""),this.storage=b;var g=this._zlevelList=[],h=this._layers={};if(this._layerConfig={},d){null!=c.width&&(a.width=c.width),null!=c.height&&(a.height=c.height);var i=a.width,j=a.height;this._width=i,this._height=j;var k=new Ko(a,this,1);k.initContext(),h[0]=k,g.push(0),this._domRoot=a}else{this._width=this._getSize(0),this._height=this._getSize(1);var l=this._domRoot=_c(this._width,this._height);a.appendChild(l)}this._progressiveLayers=[],this._hoverlayer,this._hoverElements=[]};Zo.prototype={constructor:Zo,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(a){var b=this.storage.getDisplayList(!0),c=this._zlevelList;this._paintList(b,a);for(var d=0;d<c.length;d++){var e=c[d],f=this._layers[e];!f.__builtin__&&f.refresh&&f.refresh()}return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(a,b){if(!a.__hoverMir){var c=new a.constructor({style:a.style,shape:a.shape});c.__from=a,a.__hoverMir=c,c.setStyle(b),this._hoverElements.push(c)}},removeHover:function(a){var b=a.__hoverMir,c=this._hoverElements,d=i(c,b);d>=0&&c.splice(d,1),a.__hoverMir=null},clearHover:function(a){for(var b=this._hoverElements,c=0;c<b.length;c++){var d=b[c].__from;d&&(d.__hoverMir=null)}b.length=0},refreshHover:function(){var a=this._hoverElements,b=a.length,c=this._hoverlayer;if(c&&c.clear(),b){$b(a,this.storage.displayableSortFunc),c||(c=this._hoverlayer=this.getLayer(1e5));var d={};c.ctx.save();for(var e=0;e<b;){var f=a[e],g=f.__from;g&&g.__zr?(e++,g.invisible||(f.transform=g.transform,f.invTransform=g.invTransform,f.__clipPaths=g.__clipPaths,this._doPaintEl(f,c,!0,d))):(a.splice(e,1),g.__hoverMir=null,b--)}c.ctx.restore()}},_startProgessive:function(){function a(){c===b._progressiveToken&&b.storage&&(b._doPaintList(b.storage.getDisplayList()),b._furtherProgressive?(b._progress++,Lo(a)):b._progressiveToken=-1)}var b=this;if(b._furtherProgressive){var c=b._progressiveToken=+(new Date);b._progress++,Lo(a)}},_clearProgressive:function(){this._progressiveToken=-1,this._progress=0,m(this._progressiveLayers,function(a){a.__dirty&&a.clear()})},_paintList:function(a,b){null==b&&(b=!1),this._updateLayerStatus(a),this._clearProgressive(),this.eachBuiltinLayer(Wc),this._doPaintList(a,b),this.eachBuiltinLayer(Xc)},_doPaintList:function(a,b){function c(a){var b=f.dpr||1;f.save(),f.globalAlpha=1,f.shadowBlur=0,d.__dirty=!0,f.setTransform(1,0,0,1,0,0),f.drawImage(a.dom,0,0,k*b,l*b),f.restore()}for(var d,e,f,g,h,i,j=0,k=this._width,l=this._height,n=this._progress,o=0,p=a.length;o<p;o++){var q=a[o],r=this._singleCanvas?0:q.zlevel,s=q.__frame;if(s<0&&h&&(c(h),h=null),e!==r&&(f&&f.restore(),g={},e=r,(d=this.getLayer(e)).__builtin__||uo("ZLevel "+e+" has been used by unkown layer "+d.id),(f=d.ctx).save(),d.__unusedCount=0,(d.__dirty||b)&&d.clear()),d.__dirty||b){if(s>=0){if(!h){if((h=this._progressiveLayers[Math.min(j++,4)]).ctx.save(),h.renderScope={},h&&h.__progress>h.__maxProgress){o=h.__nextIdxNotProg-1;continue}i=h.__progress,h.__dirty||(n=i),h.__progress=n+1}s===n&&this._doPaintEl(q,h,!0,h.renderScope)}else this._doPaintEl(q,d,b,g);q.__dirty=!1}}h&&c(h),f&&f.restore(),this._furtherProgressive=!1,m(this._progressiveLayers,function(a){a.__maxProgress>=a.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(a,b,c,d){var e=b.ctx,f=a.transform;if((b.__dirty||c)&&!a.invisible&&0!==a.style.opacity&&(!f||f[0]||f[3])&&(!a.culling||!Yc(a,this._width,this._height))){var g=a.__clipPaths;(d.prevClipLayer!==b||Zc(g,d.prevElClipPaths))&&(d.prevElClipPaths&&(d.prevClipLayer.ctx.restore(),d.prevClipLayer=d.prevElClipPaths=null,d.prevEl=null),g&&(e.save(),$c(g,e),d.prevClipLayer=b,d.prevElClipPaths=g)),a.beforeBrush&&a.beforeBrush(e),a.brush(e,d.prevEl||null),d.prevEl=a,a.afterBrush&&a.afterBrush(e)}},getLayer:function(a){if(this._singleCanvas)return this._layers[0];var b=this._layers[a];return b||((b=new Ko("zr_"+a,this,this.dpr)).__builtin__=!0,this._layerConfig[a]&&d(b,this._layerConfig[a],!0),this.insertLayer(a,b),b.initContext()),b},insertLayer:function(a,b){var c=this._layers,d=this._zlevelList,e=d.length,f=null,g=-1,h=this._domRoot;if(c[a])uo("ZLevel "+a+" has been used already");else if(Vc(b)){if(e>0&&a>d[0]){for(g=0;g<e-1&&!(d[g]<a&&d[g+1]>a);g++);f=c[d[g]]}if(d.splice(g+1,0,a),c[a]=b,!b.virtual)if(f){var i=f.dom;i.nextSibling?h.insertBefore(b.dom,i.nextSibling):h.appendChild(b.dom)}else h.firstChild?h.insertBefore(b.dom,h.firstChild):h.appendChild(b.dom)}else uo("Layer of zlevel "+a+" is not valid")},eachLayer:function(a,b){var c,d,e=this._zlevelList;for(d=0;d<e.length;d++)c=e[d],a.call(b,this._layers[c],c)},eachBuiltinLayer:function(a,b){var c,d,e,f=this._zlevelList;for(e=0;e<f.length;e++)d=f[e],(c=this._layers[d]).__builtin__&&a.call(b,c,d)},eachOtherLayer:function(a,b){var c,d,e,f=this._zlevelList;for(e=0;e<f.length;e++)d=f[e],(c=this._layers[d]).__builtin__||a.call(b,c,d)},getLayers:function(){return this._layers},_updateLayerStatus:function(a){var b=this._layers,c=this._progressiveLayers,d={},e={};this.eachBuiltinLayer(function(a,b){d[b]=a.elCount,a.elCount=0,a.__dirty=!1}),m(c,function(a,b){e[b]=a.elCount,a.elCount=0,a.__dirty=!1});for(var f,g,h=0,i=0,j=0,k=a.length;j<k;j++){var l=a[j],n=b[this._singleCanvas?0:l.zlevel],o=l.progressive;if(n&&(n.elCount++,n.__dirty=n.__dirty||l.__dirty),o>=0){g!==o&&(g=o,i++);var p=l.__frame=i-1;if(!f){var q=Math.min(h,4);(f=c[q])||(f=c[q]=new Ko("progressive",this,this.dpr)).initContext(),f.__maxProgress=0}f.__dirty=f.__dirty||l.__dirty,f.elCount++,f.__maxProgress=Math.max(f.__maxProgress,p),f.__maxProgress>=f.__progress&&(n.__dirty=!0)}else l.__frame=-1,f&&(f.__nextIdxNotProg=j,h++,f=null)}f&&(h++,f.__nextIdxNotProg=j),this.eachBuiltinLayer(function(a,b){d[b]!==a.elCount&&(a.__dirty=!0)}),c.length=Math.min(h,5),m(c,function(a,b){e[b]!==a.elCount&&(l.__dirty=!0),a.__dirty&&(a.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},configLayer:function(a,b){if(b){var c=this._layerConfig;c[a]?d(c[a],b,!0):c[a]=b;var e=this._layers[a];e&&d(e,c[a],!0)}},delLayer:function(a){var b=this._layers,c=this._zlevelList,d=b[a];d&&(d.dom.parentNode.removeChild(d.dom),delete b[a],c.splice(i(c,a),1))},resize:function(a,b){var c=this._domRoot;c.style.display="none";var d=this._opts;if(null!=a&&(d.width=a),null!=b&&(d.height=b),a=this._getSize(0),b=this._getSize(1),c.style.display="",this._width!=a||b!=this._height){c.style.width=a+"px",c.style.height=b+"px";for(var e in this._layers)this._layers.hasOwnProperty(e)&&this._layers[e].resize(a,b);m(this._progressiveLayers,function(c){c.resize(a,b)}),this.refresh(!0)}return this._width=a,this._height=b,this},clearLayer:function(a){var b=this._layers[a];b&&b.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){function b(a,b){var d=g._zlevelList;null==a&&(a=-1/0);for(var e,f=0;f<d.length;f++){var h=d[f],i=g._layers[h];if(!i.__builtin__&&h>a&&h<b){e=i;break}}e&&e.renderToCanvas&&(c.ctx.save(),e.renderToCanvas(c.ctx),c.ctx.restore())}if(a=a||{},this._singleCanvas)return this._layers[0].dom;var c=new Ko("image",this,a.pixelRatio||this.dpr);c.initContext(),c.clearColor=a.backgroundColor,c.clear();for(var d,e=this.storage.getDisplayList(!0),f={},g=this,h=0;h<e.length;h++){var i=e[h];i.zlevel!==d&&(b(d,i.zlevel),d=i.zlevel),this._doPaintEl(i,c,!0,f)}return b(d,1/0),c.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=this._opts,c=["width","height"][a],d=["clientWidth","clientHeight"][a],e=["paddingLeft","paddingTop"][a],f=["paddingRight","paddingBottom"][a];if(null!=b[c]&&"auto"!==b[c])return parseFloat(b[c]);var g=this.root,h=document.defaultView.getComputedStyle(g);return(g[d]||Uc(h[c])||Uc(g.style[c]))-(Uc(h[e])||0)-(Uc(h[f])||0)|0},pathToImage:function(a,b){b=b||this.dpr;var c=document.createElement("canvas"),d=c.getContext("2d"),e=a.getBoundingRect(),f=a.style,g=f.shadowBlur,h=f.shadowOffsetX,i=f.shadowOffsetY,j=f.hasStroke()?f.lineWidth:0,k=Math.max(j/2,-h+g),l=Math.max(j/2,h+g),m=Math.max(j/2,-i+g),n=Math.max(j/2,i+g),o=e.width+k+l,p=e.height+m+n;c.width=o*b,c.height=p*b,d.scale(b,b),d.clearRect(0,0,o,p),d.dpr=b;var q={position:a.position,rotation:a.rotation,scale:a.scale};a.position=[k-e.x,m-e.y],a.rotation=0,a.scale=[1,1],a.updateTransform(),a&&a.brush(d);var r=new Tc({style:{x:0,y:0,image:c}});return null!=q.position&&(r.position=a.position=q.position),null!=q.rotation&&(r.rotation=a.rotation=q.rotation),null!=q.scale&&(r.scale=a.scale=q.scale),r}};var $o="undefined"!=typeof window&&!!window.addEventListener,_o=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ap=$o?function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0}:function(a){a.returnValue=!1,a.cancelBubble=!0},bp=function(a){a=a||{},this.stage=a.stage||{},this.onframe=a.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,Tn.call(this)};bp.prototype={constructor:bp,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;for(var b=a.getClips(),c=0;c<b.length;c++)this.addClip(b[c])},removeClip:function(a){var b=i(this._clips,a);b>=0&&this._clips.splice(b,1)},removeAnimator:function(a){for(var b=a.getClips(),c=0;c<b.length;c++)this.removeClip(b[c]);a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,b=a-this._time,c=this._clips,d=c.length,e=[],f=[],g=0;g<d;g++){var h=c[g],i=h.step(a,b);i&&(e.push(i),f.push(h))}for(g=0;g<d;)c[g]._needsRemove?(c[g]=c[d-1],c.pop(),d--):g++;d=e.length;for(g=0;g<d;g++)f[g].fire(e[g]);this._time=a,this.onframe(b),this.trigger("frame",b),this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(Lo(a),!b._paused&&b._update())}var b=this;this._running=!0,Lo(a)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(a,b){var c=new qo(a,(b=b||{}).loop,b.getter,b.setter);return this.addAnimator(c),c}},k(bp,Tn);var cp=function(){this._track=[]};cp.prototype={constructor:cp,recognize:function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(a,b,c){var d=a.touches;if(d){for(var e={points:[],touches:[],target:b,event:a},f=0,g=d.length;f<g;f++){var h=d[f],i=bd(c,h,{});e.points.push([i.zrX,i.zrY]),e.touches.push(h)}this._track.push(e)}},_recognize:function(a){for(var b in dp)if(dp.hasOwnProperty(b)){var c=dp[b](this._track,a);if(c)return c}}};var dp={pinch:function(a,b){var c=a.length;if(c){var d=(a[c-1]||{}).points,e=(a[c-2]||{}).points||d;if(e&&e.length>1&&d&&d.length>1){var f=hd(d)/hd(e);!isFinite(f)&&(f=1),b.pinchScale=f;var g=id(d);return b.pinchX=g[0],b.pinchY=g[1],{type:"pinch",target:a[0].target,event:b}}}}},ep=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],fp=["touchstart","touchend","touchmove"],gp={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},hp=n(ep,function(a){var b=a.replace("mouse","pointer");return gp[b]?b:a}),ip={mousemove:function(a){a=dd(this.dom,a),this.trigger("mousemove",a)},mouseout:function(a){var b=(a=dd(this.dom,a)).toElement||a.relatedTarget;if(b!=this.dom)for(;b&&9!=b.nodeType;){if(b===this.dom)return;b=b.parentNode}this.trigger("mouseout",a)},touchstart:function(a){(a=dd(this.dom,a)).zrByTouch=!0,this._lastTouchMoment=new Date,kd(this,a,"start"),ip.mousemove.call(this,a),ip.mousedown.call(this,a),ld(this)},touchmove:function(a){(a=dd(this.dom,a)).zrByTouch=!0,kd(this,a,"change"),ip.mousemove.call(this,a),ld(this)},touchend:function(a){(a=dd(this.dom,a)).zrByTouch=!0,kd(this,a,"end"),ip.mouseup.call(this,a),+(new Date)-this._lastTouchMoment<300&&ip.click.call(this,a),ld(this)},pointerdown:function(a){ip.mousedown.call(this,a)},pointermove:function(a){md(a)||ip.mousemove.call(this,a)},pointerup:function(a){ip.mouseup.call(this,a)},pointerout:function(a){md(a)||ip.mouseout.call(this,a)}};m(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){ip[a]=function(b){b=dd(this.dom,b),this.trigger(a,b)}});var jp=od.prototype;jp.dispose=function(){for(var a=ep.concat(fp),b=0;b<a.length;b++){var c=a[b];fd(this.dom,jd(c),this._handlers[c])}},jp.setCursor=function(a){this.dom.style.cursor=a||"default"},k(od,Tn);var kp=!xn.canvasSupported,lp={canvas:Zo},mp={},np=function(a,b,c){c=c||{},this.dom=b,this.id=a;var d=this,e=new Do,f=c.renderer;if(kp){if(!lp.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");f="vml"}else f&&lp[f]||(f="canvas");var g=new lp[f](b,e,c);this.storage=e,this.painter=g;var h=xn.node?null:new od(g.getViewportRoot());this.handler=new Wn(e,g,h,g.root),this.animation=new bp({stage:{update:q(this.flush,this)}}),this.animation.start(),this._needsRefresh;var i=e.delFromStorage,j=e.addToStorage;e.delFromStorage=function(a){i.call(e,a),a&&a.removeSelfFromZr(d)},e.addToStorage=function(a){j.call(e,a),a.addSelfToZr(d)}};np.prototype={constructor:np,getId:function(){return this.id},add:function(a){this.storage.addRoot(a),this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a),this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer(a,b),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately(),this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(a,b){this.painter.addHover&&(this.painter.addHover(a,b),this.refreshHover())},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{},this.painter.resize(a.width,a.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,b){return this.handler.findHover(a,b)},on:function(a,b,c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,rd(this.id)}};var op=(Object.freeze||Object)({version:"3.7.3",init:pd,dispose:function(a){if(a)a.dispose();else{for(var b in mp)mp.hasOwnProperty(b)&&mp[b].dispose();mp={}}return this},getInstance:function(a){return mp[a]},registerPainter:qd}),pp=1e-4,qp=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,rp=(Object.freeze||Object)({linearMap:td,parsePercent:ud,round:vd,asc:wd,getPrecision:xd,getPrecisionSafe:yd,getPixelPrecision:zd,getPercentWithPrecision:Ad,MAX_SAFE_INTEGER:9007199254740991,remRadian:Bd,isRadianAroundZero:Cd,parseDate:Dd,quantity:Ed,nice:Gd,reformIntervals:function(a){function b(a,c,d){return a.interval[d]<c.interval[d]||a.interval[d]===c.interval[d]&&(a.close[d]-c.close[d]==(d?-1:1)||!d&&b(a,c,1))}a.sort(function(a,c){return b(a,c,0)?-1:1});for(var c=-1/0,d=1,e=0;e<a.length;){for(var f=a[e].interval,g=a[e].close,h=0;h<2;h++)f[h]<=c&&(f[h]=c,g[h]=h?1:1-d),c=f[h],d=g[h];f[0]===f[1]&&g[0]*g[1]!=1?a.splice(e,1):e++}return a},isNumeric:function(a){return a-parseFloat(a)>=0}}),sp=D,tp=["a","b","c","d","e","f","g"],up=function(a,b){return"{"+a+(null==b?"":b)+"}"},vp=function(a){return a<10?"0"+a:a},wp=pc,xp=jc,yp=(Object.freeze||Object)({addCommas:Hd,toCamelCase:Id,normalizeCssArray:sp,encodeHTML:Jd,formatTpl:Kd,formatTplSimple:function(a,b,c){return m(b,function(b,d){a=a.replace("{"+d+"}",c?Jd(b):b)}),a},getTooltipMarker:Ld,formatTime:Md,capitalFirst:Nd,truncateText:wp,getTextRect:xp}),zp=".",Ap="___EC__COMPONENT__CONTAINER___",Bp="\0ec_\0",Cp=function(a){for(var b=0;b<a.length;b++)a[b][1]||(a[b][1]=a[b][0]);return function(b,c,d){for(var e={},f=0;f<a.length;f++){var g=a[f][1];if(!(c&&i(c,g)>=0||d&&i(d,g)<0)){var h=b.getShallow(g);null!=h&&(e[a[f][0]]=h)}}return e}},Dp=Cp([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Ep={getLineStyle:function(a){var b=Dp(this,a),c=this.getLineDash(b.lineWidth);return c&&(b.lineDash=c),b},getLineDash:function(a){null==a&&(a=1);var b=this.get("type"),c=Math.max(a,2),d=4*a;return"solid"===b||null==b?null:"dashed"===b?[d,d]:[c,c]}},Fp=Cp([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Gp={getAreaStyle:function(a,b){return Fp(this,a,b)}},Hp=Math.pow,Ip=Math.sqrt,Jp=1e-8,Kp=1e-4,Lp=Ip(3),Mp=1/3,Np=K(),Op=K(),Pp=K(),Qp=Math.min,Rp=Math.max,Sp=Math.sin,Tp=Math.cos,Up=2*Math.PI,Vp=K(),Wp=K(),Xp=K(),Yp=[],Zp=[],$p={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},_p=[],aq=[],bq=[],cq=[],dq=Math.min,eq=Math.max,fq=Math.cos,gq=Math.sin,hq=Math.sqrt,iq=Math.abs,jq="undefined"!=typeof Float32Array,kq=function(a){this._saveData=!a,this._saveData&&(this.data=[]),this._ctx=null};kq.prototype={constructor:kq,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,b){this._ux=iq(1/so/a)||0,this._uy=iq(1/so/b)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,b){return this.addData($p.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},lineTo:function(a,b){var c=iq(a-this._xi)>this._ux||iq(b-this._yi)>this._uy||this._len<5;return this.addData($p.L,a,b),this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b)),c&&(this._xi=a,this._yi=b),this},bezierCurveTo:function(a,b,c,d,e,f){return this.addData($p.C,a,b,c,d,e,f),this._ctx&&(this._needsDash()?this._dashedBezierTo(a,b,c,d,e,f):this._ctx.bezierCurveTo(a,b,c,d,e,f)),this._xi=e,this._yi=f,this},quadraticCurveTo:function(a,b,c,d){return this.addData($p.Q,a,b,c,d),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,b,c,d):this._ctx.quadraticCurveTo(a,b,c,d)),this._xi=c,this._yi=d,this},arc:function(a,b,c,d,e,f){return this.addData($p.A,a,b,c,c,d,e-d,0,f?0:1),this._ctx&&this._ctx.arc(a,b,c,d,e,f),this._xi=fq(e)*c+a,this._yi=gq(e)*c+a,this},arcTo:function(a,b,c,d,e){return this._ctx&&this._ctx.arcTo(a,b,c,d,e),this},rect:function(a,b,c,d){return this._ctx&&this._ctx.rect(a,b,c,d),this.addData($p.R,a,b,c,d),this},closePath:function(){this.addData($p.Z);var a=this._ctx,b=this._x0,c=this._y0;return a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath()),this._xi=b,this._yi=c,this},fill:function(a){a&&a.fill(),this.toStatic()},stroke:function(a){a&&a.stroke(),this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a,this._dashIdx=0;for(var b=0,c=0;c<a.length;c++)b+=a[c];this._dashSum=b}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length==b||!jq||(this.data=new Float32Array(b));for(var c=0;c<b;c++)this.data[c]=a[c];this._len=b},appendPath:function(a){a instanceof Array||(a=[a]);for(var b=a.length,c=0,d=this._len,e=0;e<b;e++)c+=a[e].len();jq&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+c));for(e=0;e<b;e++)for(var f=a[e].data,g=0;g<f.length;g++)this.data[d++]=f[g];this._len=d},addData:function(a){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var c=0;c<arguments.length;c++)b[this._len++]=arguments[c];this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof Array)){for(var a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,b){var c,d,e=this._dashSum,f=this._dashOffset,g=this._lineDash,h=this._ctx,i=this._xi,j=this._yi,k=a-i,l=b-j,m=hq(k*k+l*l),n=i,o=j,p=g.length;for(k/=m,l/=m,f<0&&(f=e+f),n-=(f%=e)*k,o-=f*l;k>0&&n<=a||k<0&&n>=a||0==k&&(l>0&&o<=b||l<0&&o>=b);)n+=k*(c=g[d=this._dashIdx]),o+=l*c,this._dashIdx=(d+1)%p,k>0&&n<i||k<0&&n>i||l>0&&o<j||l<0&&o>j||h[d%2?"moveTo":"lineTo"](k>=0?dq(n,a):eq(n,a),l>=0?dq(o,b):eq(o,b));k=n-a,l=o-b,this._dashOffset=-hq(k*k+l*l)},_dashedBezierTo:function(a,b,c,d,e,f){var g,h,i,j,k,l=this._dashSum,m=this._dashOffset,n=this._lineDash,o=this._ctx,p=this._xi,q=this._yi,r=Zd,s=0,t=this._dashIdx,u=n.length,v=0;for(m<0&&(m=l+m),m%=l,g=0;g<1;g+=.1)h=r(p,a,c,e,g+.1)-r(p,a,c,e,g),i=r(q,b,d,f,g+.1)-r(q,b,d,f,g),s+=hq(h*h+i*i);for(;t<u&&!((v+=n[t])>m);t++);for(g=(v-m)/s;g<=1;)j=r(p,a,c,e,g),k=r(q,b,d,f,g),t%2?o.moveTo(j,k):o.lineTo(j,k),g+=n[t]/s,t=(t+1)%u;t%2!=0&&o.lineTo(e,f),h=e-j,i=f-k,this._dashOffset=-hq(h*h+i*i)},_dashedQuadraticTo:function(a,b,c,d){var e=c,f=d;c=(c+2*a)/3,d=(d+2*b)/3,a=(this._xi+2*a)/3,b=(this._yi+2*b)/3,this._dashedBezierTo(a,b,c,d,e,f)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,jq&&(this.data=new Float32Array(a)))},getBoundingRect:function(){_p[0]=_p[1]=bq[0]=bq[1]=Number.MAX_VALUE,aq[0]=aq[1]=cq[0]=cq[1]=-Number.MAX_VALUE;for(var a=this.data,b=0,c=0,d=0,e=0,f=0;f<a.length;){var g=a[f++];switch(1==f&&(d=b=a[f],e=c=a[f+1]),g){case $p.M:b=d=a[f++],c=e=a[f++],bq[0]=d,bq[1]=e,cq[0]=d,cq[1]=e;break;case $p.L:ke(b,c,a[f],a[f+1],bq,cq),b=a[f++],c=a[f++];break;case $p.C:le(b,c,a[f++],a[f++],a[f++],a[f++],a[f],a[f+1],bq,cq),b=a[f++],c=a[f++];break;case $p.Q:me(b,c,a[f++],a[f++],a[f],a[f+1],bq,cq),b=a[f++],c=a[f++];break;case $p.A:var h=a[f++],i=a[f++],j=a[f++],k=a[f++],l=a[f++],m=a[f++]+l,n=(a[f++],1-a[f++]);1==f&&(d=fq(l)*j+h,e=gq(l)*k+i),ne(h,i,j,k,l,m,n,bq,cq),b=fq(m)*j+h,c=gq(m)*k+i;break;case $p.R:ke(d=b=a[f++],e=c=a[f++],d+a[f++],e+a[f++],bq,cq);break;case $p.Z:b=d,c=e}X(_p,_p,bq),Y(aq,aq,cq)}return 0===f&&(_p[0]=_p[1]=aq[0]=aq[1]=0),new Sb(_p[0],_p[1],aq[0]-_p[0],aq[1]-_p[1])},rebuildPath:function(a){for(var b,c,d,e,f,g,h=this.data,i=this._ux,j=this._uy,k=this._len,l=0;l<k;){var m=h[l++];switch(1==l&&(b=d=h[l],c=e=h[l+1]),m){case $p.M:b=d=h[l++],c=e=h[l++],a.moveTo(d,e);break;case $p.L:f=h[l++],g=h[l++],(iq(f-d)>i||iq(g-e)>j||l===k-1)&&(a.lineTo(f,g),d=f,e=g);break;case $p.C:a.bezierCurveTo(h[l++],h[l++],h[l++],h[l++],h[l++],h[l++]),d=h[l-2],e=h[l-1];break;case $p.Q:a.quadraticCurveTo(h[l++],h[l++],h[l++],h[l++]),d=h[l-2],e=h[l-1];break;case $p.A:var n=h[l++],o=h[l++],p=h[l++],q=h[l++],r=h[l++],s=h[l++],t=h[l++],u=h[l++],v=p>q?p:q,w=p>q?1:p/q,x=p>q?q/p:1,y=r+s;Math.abs(p-q)>.001?(a.translate(n,o),a.rotate(t),a.scale(w,x),a.arc(0,0,v,r,y,1-u),a.scale(1/w,1/x),a.rotate(-t),a.translate(-n,-o)):a.arc(n,o,v,r,y,1-u),1==l&&(b=fq(r)*p+n,c=gq(r)*q+o),d=fq(y)*p+n,e=gq(y)*q+o;break;case $p.R:b=d=h[l],c=e=h[l+1],a.rect(h[l++],h[l++],h[l++],h[l++]);break;case $p.Z:a.closePath(),d=b,e=c}}}},kq.CMD=$p;var lq=2*Math.PI,mq=2*Math.PI,nq=kq.CMD,oq=2*Math.PI,pq=1e-4,qq=[-1,-1,-1],rq=[-1,-1],sq=Jo.prototype.getCanvasPattern,tq=Math.abs,uq=new kq(!0);Ce.prototype={constructor:Ce,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(a,b){var c=this.style,d=this.path||uq,e=c.hasStroke(),f=c.hasFill(),g=c.fill,h=c.stroke,i=f&&!!g.colorStops,j=e&&!!h.colorStops,k=f&&!!g.image,l=e&&!!h.image;if(c.bind(a,this,b),this.setTransform(a),this.__dirty){var m;i&&(m=m||this.getBoundingRect(),this._fillGradient=c.getGradient(a,g,m)),j&&(m=m||this.getBoundingRect(),this._strokeGradient=c.getGradient(a,h,m))}i?a.fillStyle=this._fillGradient:k&&(a.fillStyle=sq.call(g,a)),j?a.strokeStyle=this._strokeGradient:l&&(a.strokeStyle=sq.call(h,a));var n=c.lineDash,o=c.lineDashOffset,p=!!a.setLineDash,q=this.getGlobalScale();d.setScale(q[0],q[1]),this.__dirtyPath||n&&!p&&e?(d.beginPath(a),n&&!p&&(d.setLineDash(n),d.setLineDashOffset(o)),this.buildPath(d,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(a.beginPath(),this.path.rebuildPath(a)),f&&d.fill(a),n&&p&&(a.setLineDash(n),a.lineDashOffset=o),e&&d.stroke(a),n&&p&&a.setLineDash([]),this.restoreTransform(a),null!=c.text&&this.drawRectText(a,this.getBoundingRect())},buildPath:function(a,b,c){},createPathProxy:function(){this.path=new kq},getBoundingRect:function(){var a=this._rect,b=this.style,c=!a;if(c){var d=this.path;d||(d=this.path=new kq),this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1)),a=d.getBoundingRect()}if(this._rect=a,b.hasStroke()){var e=this._rectWithStroke||(this._rectWithStroke=a.clone());if(this.__dirty||c){e.copy(a);var f=b.lineWidth,g=b.strokeNoScale?this.getLineScale():1;b.hasFill()||(f=Math.max(f,this.strokeContainThreshold||4)),g>1e-10&&(e.width+=f/g,e.height+=f/g,e.x-=f/g/2,e.y-=f/g/2)}return e}return a},contain:function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect(),e=this.style;if(a=c[0],b=c[1],d.contain(a,b)){var f=this.path.data;if(e.hasStroke()){var g=e.lineWidth,h=e.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(e.hasFill()||(g=Math.max(g,this.strokeContainThreshold)),Be(f,g/h,a,b)))return!0}if(e.hasFill())return Ae(f,a,b)}return!1},dirty:function(a){null==a&&(a=!0),a&&(this.__dirtyPath=a,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):Sc.prototype.attrKV.call(this,a,b)},setShape:function(a,b){var c=this.shape;if(c){if(v(a))for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);else c[a]=b;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&tq(a[0]-1)>1e-10&&tq(a[3]-1)>1e-10?Math.sqrt(tq(a[0]*a[3]-a[2]*a[1])):1}},Ce.extend=function(a){var b=function(b){Ce.call(this,b),a.style&&this.style.extendFrom(a.style,!1);var c=a.shape;if(c){this.shape=this.shape||{};var d=this.shape;for(var e in c)!d.hasOwnProperty(e)&&c.hasOwnProperty(e)&&(d[e]=c[e])}a.init&&a.init.call(this,b)};j(b,Ce);for(var c in a)"style"!==c&&"shape"!==c&&(b.prototype[c]=a[c]);return b},j(Ce,Sc);var vq=kq.CMD,wq=[[],[],[]],xq=Math.sqrt,yq=Math.atan2,zq=function(a,b){var c,d,e,f,g,h,i=a.data,j=vq.M,k=vq.C,l=vq.L,m=vq.R,n=vq.A,o=vq.Q;for(e=0,f=0;e<i.length;){switch(c=i[e++],f=e,d=0,c){case j:case l:d=1;break;case k:d=3;break;case o:d=2;break;case n:var p=b[4],q=b[5],r=xq(b[0]*b[0]+b[1]*b[1]),s=xq(b[2]*b[2]+b[3]*b[3]),t=yq(-b[1]/s,b[0]/r);i[e]*=r,i[e++]+=p,i[e]*=s,i[e++]+=q,i[e++]*=r,i[e++]*=s,i[e++]+=t,i[e++]+=t,f=e+=2;break;case m:h[0]=i[e++],h[1]=i[e++],W(h,h,b),i[f++]=h[0],i[f++]=h[1],h[0]+=i[e++],h[1]+=i[e++],W(h,h,b),i[f++]=h[0],i[f++]=h[1]}for(g=0;g<d;g++)(h=wq[g])[0]=i[e++],h[1]=i[e++],W(h,h,b),i[f++]=h[0],i[f++]=h[1]}},Aq=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],Bq=Math.sqrt,Cq=Math.sin,Dq=Math.cos,Eq=Math.PI,Fq=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},Gq=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(Fq(a)*Fq(b))},Hq=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(Gq(a,b))},Iq=function(a){Sc.call(this,a)};Iq.prototype={constructor:Iq,type:"text",brush:function(a,b){var c=this.style;this.__dirty&&Ac(c),c.fill=c.stroke=c.shadowBlur=c.shadowColor=c.shadowOffsetX=c.shadowOffsetY=null;var d=c.text;null!=d&&(d+=""),c.bind(a,this,b),Rc(d,c)&&(this.setTransform(a),Cc(this,a,d,c),this.restoreTransform(a))},getBoundingRect:function(){var a=this.style;if(this.__dirty&&Ac(a),!this._rect){var b=a.text;null!=b?b+="":b="";var c=jc(a.text+"",a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.rich);if(c.x+=a.x||0,c.y+=a.y||0,Nc(a.textStroke,a.textStrokeWidth)){var d=a.textStrokeWidth;c.x-=d/2,c.y-=d/2,c.width+=d,c.height+=d}this._rect=c}return this._rect}},j(Iq,Sc);var Jq=Ce.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,c){c&&a.moveTo(b.cx+b.r,b.cy),a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}}),Kq=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Lq=function(a){return xn.browser.ie&&xn.browser.version>=11?function(){var b,c=this.__clipPaths,d=this.style;if(c)for(var e=0;e<c.length;e++){var f=c[e],g=f&&f.shape,h=f&&f.type;if(g&&("sector"===h&&g.startAngle===g.endAngle||"rect"===h&&(!g.width||!g.height))){for(i=0;i<Kq.length;i++)Kq[i][2]=d[Kq[i][0]],d[Kq[i][0]]=Kq[i][1];b=!0;break}}if(a.apply(this,arguments),b)for(var i=0;i<Kq.length;i++)d[Kq[i][0]]=Kq[i][2]}:a},Mq=Ce.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Lq(Ce.prototype.brush),buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=b.startAngle,h=b.endAngle,i=b.clockwise,j=Math.cos(g),k=Math.sin(g);a.moveTo(j*e+c,k*e+d),a.lineTo(j*f+c,k*f+d),a.arc(c,d,f,g,h,!i),a.lineTo(Math.cos(h)*e+c,Math.sin(h)*e+d),0!==e&&a.arc(c,d,e,h,g,i),a.closePath()}}),Nq=Ce.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=2*Math.PI;a.moveTo(c+b.r,d),a.arc(c,d,b.r,0,e,!1),a.moveTo(c+b.r0,d),a.arc(c,d,b.r0,0,e,!0)}}),Oq=function(a,b){for(var c=a.length,d=[],e=0,f=1;f<c;f++)e+=U(a[f-1],a[f]);var g=e/2;g=g<c?c:g;for(f=0;f<g;f++){var h,i,j,k=f/(g-1)*(b?c:c-1),l=Math.floor(k),m=k-l,n=a[l%c];b?(h=a[(l-1+c)%c],i=a[(l+1)%c],j=a[(l+2)%c]):(h=a[0===l?l:l-1],i=a[l>c-2?c-1:l+1],j=a[l>c-3?c-1:l+2]);var o=m*m,p=m*o;d.push([Ie(h[0],n[0],i[0],j[0],m,o,p),Ie(h[1],n[1],i[1],j[1],m,o,p)])}return d},Pq=function(a,b,c,d){var e,f,g,h,i=[],j=[],k=[],l=[];if(d){g=[1/0,1/0],h=[-1/0,-1/0];for(var m=0,n=a.length;m<n;m++)X(g,g,a[m]),Y(h,h,a[m]);X(g,g,d[0]),Y(h,h,d[1])}for(var m=0,n=a.length;m<n;m++){var o=a[m];if(c)e=a[m?m-1:n-1],f=a[(m+1)%n];else{if(0===m||m===n-1){i.push(M(a[m]));continue}e=a[m-1],f=a[m+1]}P(j,f,e),S(j,j,b);var p=U(o,e),q=U(o,f),r=p+q;0!==r&&(p/=r,q/=r),S(k,j,-p),S(l,j,q);var s=N([],o,k),t=N([],o,l);d&&(Y(s,s,g),X(s,s,h),Y(t,t,g),X(t,t,h)),i.push(s),i.push(t)}return c&&i.push(i.shift()),i},Qq=Ce.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){Je(a,b,!0)}}),Rq=Ce.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){Je(a,b,!1)}}),Sq=Ce.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width,f=b.height;b.r?zc(a,b):a.rect(c,d,e,f),a.closePath()}}),Tq=Ce.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.percent;0!==g&&(a.moveTo(c,d),g<1&&(e=c*(1-g)+e*g,f=d*(1-g)+f*g),a.lineTo(e,f))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),Uq=[],Vq=Ce.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.cpx1,h=b.cpy1,i=b.cpx2,j=b.cpy2,k=b.percent;0!==k&&(a.moveTo(c,d),null==i||null==j?(k<1&&(he(c,g,e,k,Uq),g=Uq[1],e=Uq[2],he(d,h,f,k,Uq),h=Uq[1],f=Uq[2]),a.quadraticCurveTo(g,h,e,f)):(k<1&&(be(c,g,i,e,k,Uq),g=Uq[1],i=Uq[2],e=Uq[3],be(d,h,j,f,k,Uq),h=Uq[1],j=Uq[2],f=Uq[3]),a.bezierCurveTo(g,h,i,j,e,f)))},pointAt:function(a){return Ke(this.shape,a,!1)},tangentAt:function(a){var b=Ke(this.shape,a,!0);return T(b,b)}}),Wq=Ce.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle,h=b.clockwise,i=Math.cos(f),j=Math.sin(f);a.moveTo(i*e+c,j*e+d),a.arc(c,d,e,f,g,!h)}}),Xq=Ce.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,c=0;c<b.length;c++)a=a||b[c].__dirtyPath;this.__dirtyPath=a,this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++)a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1])},buildPath:function(a,b){for(var c=b.paths||[],d=0;d<c.length;d++)c[d].buildPath(a,c[d].shape,!0)},afterBrush:function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++)a[b].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Ce.prototype.getBoundingRect.call(this)}}),Yq=function(a){this.colorStops=a||[]};Yq.prototype={constructor:Yq,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}};var Zq=function(a,b,c,d,e,f){this.x=null==a?0:a,this.y=null==b?0:b,this.x2=null==c?1:c,this.y2=null==d?0:d,this.type="linear",this.global=f||!1,Yq.call(this,e)};Zq.prototype={constructor:Zq},j(Zq,Yq);var $q=function(a,b,c,d,e){this.x=null==a?.5:a,this.y=null==b?.5:b,this.r=null==c?.5:c,this.type="radial",this.global=e||!1,Yq.call(this,d)};$q.prototype={constructor:$q},j($q,Yq);var _q=Math.round,ar=Math.max,br=Math.min,cr={},dr=(Object.freeze||Object)({extendShape:Le,extendPath:function(a,b){return He(a,b)},makePath:Me,makeImage:Ne,mergePath:function(a,b){for(var c=[],d=a.length,e=0;e<d;e++){var f=a[e];f.path||f.createPathProxy(),f.__dirtyPath&&f.buildPath(f.path,f.shape,!0),c.push(f.path)}var g=new Ce(b);return g.createPathProxy(),g.buildPath=function(a){a.appendPath(c);var b=a.getContext();b&&a.rebuildPath(b)},g},resizePath:Pe,subPixelOptimizeLine:Qe,subPixelOptimizeRect:Re,subPixelOptimize:Se,setHoverStyle:df,setLabelStyle:ef,setTextStyle:ff,setText:function(a,b,c){var d,e={isRectText:!0};!1===c?d=!0:e.autoColor=c,gf(a,b,e,d),a.host&&a.host.dirty&&a.host.dirty(!1)},getFont:nf,updateProps:pf,initProps:qf,getTransform:rf,applyTransform:sf,transformDirection:tf,groupTransition:uf,clipPointsByRect:vf,clipRectByRect:function(a,b){var c=ar(a.x,b.x),d=br(a.x+a.width,b.x+b.width),e=ar(a.y,b.y),f=br(a.y+a.height,b.y+b.height);if(d>=c&&f>=e)return{x:c,y:e,width:d-c,height:f-e}},createIcon:wf,Group:Ao,Image:Tc,Text:Iq,Circle:Jq,Sector:Mq,Ring:Nq,Polygon:Qq,Polyline:Rq,Rect:Sq,Line:Tq,BezierCurve:Vq,Arc:Wq,CompoundPath:Xq,LinearGradient:Zq,RadialGradient:$q,BoundingRect:Sb}),er=["textStyle","color"],fr={getTextColor:function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&b?b.get(er):null)},getFont:function(){return nf({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return jc(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},gr=Cp([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),hr={getItemStyle:function(a,b){var c=gr(this,a,b),d=this.getBorderLineDash();return d&&(c.lineDash=d),c},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}},ir=k;xf.prototype={constructor:xf,init:null,mergeOption:function(a){d(this.option,a,!0)},get:function(a,b){return null==a?this.option:yf(this.option,this.parsePath(a),!b&&zf(this,a))},getShallow:function(a,b){var c=this.option,d=null==c?c:c[a],e=!b&&zf(this,a);return null==d&&e&&(d=e.getShallow(a)),d},getModel:function(a,b){var c,d=null==a?this.option:yf(this.option,a=this.parsePath(a));return b=b||(c=zf(this,a))&&c.getModel(a),new xf(d,b,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(c(this.option))},setReadOnly:function(a){},parsePath:function(a){return"string"==typeof a&&(a=a.split(".")),a},customizeGetParent:function(a){Od(this,"getParent",a)},isAnimationEnabled:function(){if(!xn.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Td(xf),ir(xf,Ep),ir(xf,Gp),ir(xf,fr),ir(xf,hr);var jr=m,kr=v,lr=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],mr={getDataParams:function(a,b){var c=this.getData(b),d=this.getRawValue(a,b),e=c.getRawIndex(a),f=c.getName(a,!0),g=c.getRawDataItem(a),h=c.getItemVisual(a,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:f,dataIndex:e,data:g,dataType:b,value:d,color:h,marker:Ld(h),$vars:["seriesName","name","value"]}},getFormattedLabel:function(a,b,c,d,e){b=b||"normal";var f=this.getData(c).getItemModel(a),g=this.getDataParams(a,c);null!=d&&g.value instanceof Array&&(g.value=g.value[d]);var h=f.get([e||"label",b,"formatter"]);return"function"==typeof h?(g.status=b,h(g)):"string"==typeof h?Kd(h,g):void 0},getRawValue:function(a,b){var c=this.getData(b).getRawDataItem(a);if(null!=c)return!kr(c)||c instanceof Array?c:c.value},formatTooltip:J},nr=function(){var a=0;return function(){var b="\0__ec_prop_getter_"+a++;return function(a){return a[b]||(a[b]={})}}}(),or=0,pr="_",qr=m,rr=["left","right","top","bottom","width","height"],sr=[["width","left","right"],["height","top","bottom"]],tr=Pf,ur=(r(Pf,"vertical"),r(Pf,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),vr=Array.prototype.push,wr=xf.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(a,b,c,d){xf.call(this,a,b,c,d),this.uid=Of("componentModel")},init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,e=c?Tf(a):{};d(a,b.getTheme().get(this.mainType)),d(a,this.getDefaultOption()),c&&Sf(a,e,c)},mergeOption:function(a,b){d(this.option,a,!0);var c=this.layoutMode;c&&Sf(this.option,a,c)},optionUpdated:function(a,b){},getDefaultOption:function(){if(!Qd(this,"__defaultOption")){for(var a=[],b=this.constructor;b;){var c=b.prototype.defaultOption;c&&a.push(c),b=b.superClass}for(var e={},f=a.length-1;f>=0;f--)e=d(e,a[f],!0);Od(this,"__defaultOption",e)}return Pd(this,"__defaultOption")},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}});Wd(wr,{registerWhenExtend:!0}),function(a){var b={};a.registerSubTypeDefaulter=function(a,c){a=Rd(a),b[a.main]=c},a.determineSubType=function(c,d){var e=d.type;if(!e){var f=Rd(c).main;a.hasSubTypes(c)&&b[f]&&(e=b[f](d))}return e}}(wr),function(a,b){function c(a){var c={},f=[];return m(a,function(g){var h=d(c,g),j=e(h.originalDeps=b(g),a);h.entryCount=j.length,0===h.entryCount&&f.push(g),m(j,function(a){i(h.predecessor,a)<0&&h.predecessor.push(a);var b=d(c,a);i(b.successor,a)<0&&b.successor.push(g)})}),{graph:c,noEntryList:f}}function d(a,b){return a[b]||(a[b]={predecessor:[],successor:[]}),a[b]}function e(a,b){var c=[];return m(a,function(a){i(b,a)>=0&&c.push(a)}),c}a.topologicalTravel=function(a,b,d,e){function f(a){h[a].entryCount--,0===h[a].entryCount&&i.push(a)}if(a.length){var g=c(b),h=g.graph,i=g.noEntryList,j={};for(m(a,function(a){j[a]=!0});i.length;){var k=i.pop(),l=h[k],n=!!j[k];n&&(d.call(e,k,l.originalDeps.slice()),delete j[k]),m(l.successor,n?function(a){j[a]=!0,f(a)}:f)}m(j,function(){throw new Error("Circle dependency may exists")})}}}(wr,function(a){var b=[];return m(wr.getClassesByMainType(a),function(a){vr.apply(b,a.prototype.dependencies||[])}),n(b,function(a){return Rd(a).main})}),k(wr,ur);var xr="";"undefined"!=typeof navigator&&(xr=navigator.platform||"");var yr={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:xr.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},zr={clearColorPalette:function(){Od(this,"colorIdx",0),Od(this,"colorNameMap",{})},getColorFromPalette:function(a,b){var c=Pd(b=b||this,"colorIdx")||0,d=Pd(b,"colorNameMap")||Od(b,"colorNameMap",{});if(d.hasOwnProperty(a))return d[a];var e=this.get("color",!0)||[];if(e.length){var f=e[c];return a&&(d[a]=f),Od(b,"colorIdx",(c+1)%e.length),f}}},Ar=m,Br=p,Cr=n,Dr=s,Er=i,Fr=v,Gr="\0_ec_inner",Hr=xf.extend({constructor:Hr,init:function(a,b,c,d){c=c||{},this.option=null,this._theme=new xf(c),this._optionManager=d},setOption:function(a,b){E(!(Gr in a),"please use chart.getOption()"),this._optionManager.setOption(a,b),this.resetOption(null)},resetOption:function(a){var b=!1,c=this._optionManager;if(!a||"recreate"===a){var d=c.mountOption("recreate"===a);this.option&&"recreate"!==a?(this.restoreData(),this.mergeOption(d)):Wf.call(this,d),b=!0}if("timeline"!==a&&"media"!==a||this.restoreData(),!a||"recreate"===a||"timeline"===a){var e=c.getTimelineOption(this);e&&(this.mergeOption(e),b=!0)}if(!a||"recreate"===a||"media"===a){var f=c.getMediaOption(this,this._api);f.length&&Ar(f,function(a){this.mergeOption(a,b=!0)},this)}return b},mergeOption:function(a){var b=this.option,e=this._componentsMap,g=[];Ar(a,function(a,e){null!=a&&(wr.hasClass(e)?g.push(e):b[e]=null==b[e]?c(a):d(b[e],a,!0))}),wr.topologicalTravel(g,wr.getAllClassMainTypes(),function(c,d){var g=Af(a[c]),h=Ff(e.get(c),g);Gf(h),Ar(h,function(a,b){var d=a.option;Fr(d)&&(a.keyInfo.mainType=c,a.keyInfo.subType=Yf(c,d,a.exist))});var i=Xf(e,d);b[c]=[],e.set(c,[]),Ar(h,function(a,d){var g=a.exist,h=a.option;if(E(Fr(h)||g,"Empty component definition"),h){var j=wr.getClass(c,a.keyInfo.subType,!0);if(g&&g instanceof j)g.name=a.keyInfo.name,g.mergeOption(h,this),g.optionUpdated(h,!1);else{var k=f({dependentModels:i,componentIndex:d},a.keyInfo);f(g=new j(h,this,this,k),k),g.init(h,this,this,k),g.optionUpdated(null,!0)}}else g.mergeOption({},this),g.optionUpdated({},!1);e.get(c)[d]=g,b[c][d]=g.option},this),"series"===c&&(this._seriesIndices=Zf(e.get("series")))},this),this._seriesIndices=this._seriesIndices||[]},getOption:function(){var a=c(this.option);return Ar(a,function(b,c){if(wr.hasClass(c)){for(var d=(b=Af(b)).length-1;d>=0;d--)Hf(b[d])&&b.splice(d,1);a[c]=b}}),delete a[Gr],a},getTheme:function(){return this._theme},getComponent:function(a,b){var c=this._componentsMap.get(a);if(c)return c[b||0]},queryComponents:function(a){var b=a.mainType;if(!b)return[];var c=a.index,d=a.id,e=a.name,f=this._componentsMap.get(b);if(!f||!f.length)return[];var g;if(null!=c)Dr(c)||(c=[c]),g=Br(Cr(c,function(a){return f[a]}),function(a){return!!a});else if(null!=d){var h=Dr(d);g=Br(f,function(a){return h&&Er(d,a.id)>=0||!h&&a.id===d})}else if(null!=e){var i=Dr(e);g=Br(f,function(a){return i&&Er(e,a.name)>=0||!i&&a.name===e})}else g=f.slice();return $f(g,a)},findComponents:function(a){var b=a.query,c=a.mainType,d=function(a){var b=c+"Index",d=c+"Id",e=c+"Name";return!a||null==a[b]&&null==a[d]&&null==a[e]?null:{mainType:c,index:a[b],id:a[d],name:a[e]}}(b);return function(b){return a.filter?Br(b,a.filter):b}($f(d?this.queryComponents(d):this._componentsMap.get(c),a))},eachComponent:function(a,b,c){var d=this._componentsMap;if("function"==typeof a)c=b,b=a,d.each(function(a,d){Ar(a,function(a,e){b.call(c,d,a,e)})});else if(u(a))Ar(d.get(a),b,c);else if(Fr(a)){var e=this.findComponents(a);Ar(e,b,c)}},getSeriesByName:function(a){var b=this._componentsMap.get("series");return Br(b,function(b){return b.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){var b=this._componentsMap.get("series");return Br(b,function(b){return b.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(a,b){Ar(this._seriesIndices,function(c){var d=this._componentsMap.get("series")[c];a.call(b,d,c)},this)},eachRawSeries:function(a,b){Ar(this._componentsMap.get("series"),a,b)},eachSeriesByType:function(a,b,c){Ar(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];e.subType===a&&b.call(c,e,d)},this)},eachRawSeriesByType:function(a,b,c){return Ar(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){return i(this._seriesIndices,a.componentIndex)<0},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(a,b){var c=Br(this._componentsMap.get("series"),a,b);this._seriesIndices=Zf(c)},restoreData:function(){var a=this._componentsMap;this._seriesIndices=Zf(a.get("series"));var b=[];a.each(function(a,c){b.push(c)}),wr.topologicalTravel(b,wr.getAllClassMainTypes(),function(b,c){Ar(a.get(b),function(a){a.restoreData()})})}});k(Hr,zr);var Ir=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],Jr={};ag.prototype={constructor:ag,create:function(a,b){var c=[];m(Jr,function(d,e){var f=d.create(a,b);c=c.concat(f||[])}),this._coordinateSystems=c},update:function(a,b){m(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},ag.register=function(a,b){Jr[a]=b},ag.get=function(a){return Jr[a]};var Kr=m,Lr=c,Mr=n,Nr=d,Or=/^(min|max)?(.+)$/;bg.prototype={constructor:bg,setOption:function(a,b){a=Lr(a,!0);var c=this._optionBackup,d=cg.call(this,a,b,!c);this._newBaseOption=d.baseOption,c?(gg(c.baseOption,d.baseOption),d.timelineOptions.length&&(c.timelineOptions=d.timelineOptions),d.mediaList.length&&(c.mediaList=d.mediaList),d.mediaDefault&&(c.mediaDefault=d.mediaDefault)):this._optionBackup=d},mountOption:function(a){var b=this._optionBackup;return this._timelineOptions=Mr(b.timelineOptions,Lr),this._mediaList=Mr(b.mediaList,Lr),this._mediaDefault=Lr(b.mediaDefault),this._currentMediaIndices=[],Lr(a?b.baseOption:this._newBaseOption)},getTimelineOption:function(a){var b,c=this._timelineOptions;if(c.length){var d=a.getComponent("timeline");d&&(b=Lr(c[d.getCurrentIndex()],!0))}return b},getMediaOption:function(a){var b=this._api.getWidth(),c=this._api.getHeight(),d=this._mediaList,e=this._mediaDefault,f=[],g=[];if(!d.length&&!e)return g;for(var h=0,i=d.length;h<i;h++)dg(d[h].query,b,c)&&f.push(h);return!f.length&&e&&(f=[-1]),f.length&&!fg(f,this._currentMediaIndices)&&(g=Mr(f,function(a){return Lr(-1===a?e.option:d[a].option)})),this._currentMediaIndices=f,g}};var Pr=m,Qr=v,Rr=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],Sr=function(a,b){Pr(lg(a.series),function(a){Qr(a)&&kg(a)});var c=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];b&&c.push("valueAxis","categoryAxis","logAxis","timeAxis"),Pr(c,function(b){Pr(lg(a[b]),function(a){a&&(ig(a,"axisLabel"),ig(a.axisPointer,"label"))})}),Pr(lg(a.parallel),function(a){var b=a&&a.parallelAxisDefault;ig(b,"axisLabel"),ig(b&&b.axisPointer,"label")}),Pr(lg(a.calendar),function(a){ig(a,"dayLabel"),ig(a,"monthLabel"),ig(a,"yearLabel")}),Pr(lg(a.radar),function(a){ig(a,"name")}),Pr(lg(a.geo),function(a){Qr(a)&&(jg(a.label),Pr(lg(a.regions),function(a){jg(a.label)}))}),jg(mg(a.timeline).label),ig(mg(a.axisPointer),"label"),ig(mg(a.tooltip).axisPointer,"label")},Tr=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Ur=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Vr=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],Wr=function(a,b){Sr(a,b),a.series=Af(a.series),m(a.series,function(a){if(v(a)){var b=a.type;if("pie"!==b&&"gauge"!==b||null!=a.clockWise&&(a.clockwise=a.clockWise),"gauge"===b){var c=ng(a,"pointer.color");null!=c&&og(a,"itemStyle.normal.color",c)}for(var d=0;d<Vr.length;d++)if(Vr[d]===a.type){pg(a);break}}}),a.dataRange&&(a.visualMap=a.dataRange),m(Ur,function(b){var c=a[b];c&&(s(c)||(c=[c]),m(c,function(a){pg(a)}))})},Xr=wr.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(a,b,c,d){this.seriesIndex=this.componentIndex,this.mergeDefaultAndTheme(a,c),Od(this,"dataBeforeProcessed",this.getInitialData(a,c)),this.restoreData()},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,e=c?Tf(a):{},f=this.subType;wr.hasClass(f)&&(f+="Series"),d(a,b.getTheme().get(this.subType)),d(a,this.getDefaultOption()),Bf(a.label,["show"]),this.fillDataTextStyle(a.data),c&&Sf(a,e,c)},mergeOption:function(a,b){a=d(this.option,a,!0),this.fillDataTextStyle(a.data);var c=this.layoutMode;c&&Sf(this.option,a,c);var e=this.getInitialData(a,b);e&&(Od(this,"data",e),Od(this,"dataBeforeProcessed",e.cloneShallow()))},fillDataTextStyle:function(a){if(a)for(var b=["show"],c=0;c<a.length;c++)a[c]&&a[c].label&&Bf(a[c].label,b)},getInitialData:function(){},getData:function(a){var b=Pd(this,"data");return null==a?b:b.getLinkedData(a)},setData:function(a){Od(this,"data",a)},getRawData:function(){return Pd(this,"dataBeforeProcessed")},coordDimToDataDim:function(a){return Lf(this.getData(),a)},dataDimToCoordDim:function(a){return Kf(this.getData(),a)},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(a,b,c){var d=Pd(this,"data"),e=this.getRawValue(a),f=s(e)?function(c){function e(a,c){var e=d.getDimensionInfo(c);if(e&&!1!==e.otherDims.tooltip){var h=e.type,i=(f?"- "+(e.tooltipName||e.name)+": ":"")+("ordinal"===h?a+"":"time"===h?b?"":Md("yyyy/MM/dd hh:mm:ss",a):Hd(a));i&&g.push(Jd(i))}}var f=o(c,function(a,b,c){var e=d.getDimensionInfo(c);return a|=e&&!1!==e.tooltip&&null!=e.tooltipName},0),g=[],h=Mf(d,"tooltip");return h.length?m(h,function(b){e(d.get(b,a),b)}):m(c,e),(f?"<br/>":"")+g.join(f?"<br/>":", ")}(e):Jd(Hd(e)),g=d.getName(a),h=d.getItemVisual(a,"color");v(h)&&h.colorStops&&(h=(h.colorStops[0]||{}).color);var i=Ld(h=h||"transparent"),j=this.name;return"\0-"===j&&(j=""),j=j?Jd(j)+(b?": ":"<br/>"):"",b?i+j+f:j+i+(g?Jd(g)+": "+f:f)},isAnimationEnabled:function(){if(xn.node)return!1;var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),a},restoreData:function(){Od(this,"data",Pd(this,"dataBeforeProcessed").cloneShallow())},getColorFromPalette:function(a,b){var c=this.ecModel,d=zr.getColorFromPalette.call(this,a,b);return d||(d=c.getColorFromPalette(a,b)),d},getAxisTooltipData:null,getTooltipPosition:null});k(Xr,mr),k(Xr,zr);var Yr=function(){this.group=new Ao,this.uid=Of("viewComponent")};Yr.prototype={constructor:Yr,init:function(a,b){},render:function(a,b,c,d){},dispose:function(){}};var Zr=Yr.prototype;Zr.updateView=Zr.updateLayout=Zr.updateVisual=function(a,b,c,d){},Td(Yr),Wd(Yr,{registerWhenExtend:!0}),qg.prototype={type:"chart",init:function(a,b){},render:function(a,b,c,d){},highlight:function(a,b,c,d){sg(a.getData(),d,"emphasis")},downplay:function(a,b,c,d){sg(a.getData(),d,"normal")},remove:function(a,b){this.group.removeAll()},dispose:function(){}};var $r=qg.prototype;$r.updateView=$r.updateLayout=$r.updateVisual=function(a,b,c,d){this.render(a,b,c,d)},Td(qg),Wd(qg,{registerWhenExtend:!0});var _r="\0__throttleOriginMethod",as="\0__throttleRate",bs="\0__throttleType",cs=Math.PI,ds=m,es=wr.parseClassType,fs={zrender:"3.7.3"},gs=1e3,hs=1e3,is=3e3,js={PROCESSOR:{FILTER:gs,STATISTIC:5e3},VISUAL:{LAYOUT:hs,GLOBAL:2e3,CHART:is,COMPONENT:4e3,BRUSH:5e3}},ks="__flagInMainProcess",ls="__optionUpdated",ms=/^[a-zA-Z0-9_]+$/;xg.prototype.on=wg("on"),xg.prototype.off=wg("off"),xg.prototype.one=wg("one"),k(xg,Tn);var ns=yg.prototype;ns._onframe=function(){if(this[ls]){var a=this[ls].silent;this[ks]=!0,os.prepareAndUpdate.call(this),this[ks]=!1,this[ls]=!1,Cg.call(this,a),Dg.call(this,a)}},ns.getDom=function(){return this._dom},ns.getZr=function(){return this._zr},ns.setOption=function(a,b,c){var d;if(v(b)&&(c=b.lazyUpdate,d=b.silent,b=b.notMerge),this[ks]=!0,!this._model||b){var e=new bg(this._api),f=this._theme;(this._model=new Hr(null,null,f,e)).init(null,null,f,e)}this._model.setOption(a,ts),c?(this[ls]={silent:d},this[ks]=!1):(os.prepareAndUpdate.call(this),this._zr.flush(),this[ls]=!1,this[ks]=!1,Cg.call(this,d),Dg.call(this,d))},ns.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},ns.getModel=function(){return this._model},ns.getOption=function(){return this._model&&this._model.getOption()},ns.getWidth=function(){return this._zr.getWidth()},ns.getHeight=function(){return this._zr.getHeight()},ns.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},ns.getRenderedCanvas=function(a){if(xn.canvasSupported){(a=a||{}).pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor");var b=this._zr;return m(b.storage.getDisplayList(),function(a){a.stopAnimation(!0)}),b.painter.getRenderedCanvas(a)}},ns.getSvgDataUrl=function(){if(xn.svgSupported){var a=this._zr;return m(a.storage.getDisplayList(),function(a){a.stopAnimation(!0)}),a.painter.pathToSvg()}},ns.getDataURL=function(a){var b=(a=a||{}).excludeComponents,c=this._model,d=[],e=this;ds(b,function(a){c.eachComponent({mainType:a},function(a){var b=e._componentsMap[a.__viewId];b.group.ignore||(d.push(b),b.group.ignore=!0)})});var f="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return ds(d,function(a){a.group.ignore=!1}),f},ns.getConnectedDataURL=function(a){if(xn.canvasSupported){var b=this.group,d=Math.min,e=Math.max;if(zs[b]){var f=1/0,g=1/0,h=-1/0,i=-1/0,j=[],k=a&&a.pixelRatio||1;m(ys,function(k,l){if(k.group===b){var m=k.getRenderedCanvas(c(a)),n=k.getDom().getBoundingClientRect();f=d(n.left,f),g=d(n.top,g),h=e(n.right,h),i=e(n.bottom,i),j.push({dom:m,left:n.left,top:n.top})}});var l=(h*=k)-(f*=k),n=(i*=k)-(g*=k),o=In();o.width=l,o.height=n;var p=pd(o);return ds(j,function(a){var b=new Tc({style:{x:a.left*k-f,y:a.top*k-g,image:a.dom}});p.add(b)}),p.refreshImmediately(),o.toDataURL("image/"+(a&&a.type||"png"))}return this.getDataURL(a)}},ns.convertToPixel=r(zg,"convertToPixel"),ns.convertFromPixel=r(zg,"convertFromPixel"),ns.containPixel=function(a,b){var c;return a=Jf(this._model,a),m(a,function(a,d){d.indexOf("Models")>=0&&m(a,function(a){var e=a.coordinateSystem;if(e&&e.containPoint)c|=!!e.containPoint(b);else if("seriesModels"===d){var f=this._chartsMap[a.__viewId];f&&f.containPoint&&(c|=f.containPoint(b,a))}},this)},this),!!c},ns.getVisual=function(a,b){var c=(a=Jf(this._model,a,{defaultMainType:"series"})).seriesModel.getData(),d=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?c.indexOfRawIndex(a.dataIndex):null;return null!=d?c.getItemVisual(d,b):c.getVisual(b)},ns.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]},ns.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};var os={update:function(a){var b=this._model,c=this._api,d=this._coordSysMgr,e=this._zr;if(b){b.restoreData(),d.create(this._model,this._api),Gg.call(this,b,c),Hg.call(this,b),d.update(b,c),Jg.call(this,b,a),Kg.call(this,b,a);var f=b.get("backgroundColor")||"transparent",g=e.painter;if(g.isSingleCanvas&&g.isSingleCanvas())e.configLayer(0,{clearColor:f});else{if(!xn.canvasSupported){var h=wb(f);f=Eb(h,"rgb"),0===h[3]&&(f="transparent")}f.colorStops||f.image?(e.configLayer(0,{clearColor:f}),this.__hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this.__hasGradientOrPatternBg&&e.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=f)}ds(us,function(a){a(b,c)})}},updateView:function(a){var b=this._model;b&&(b.eachSeries(function(a){a.getData().clearAllVisual()}),Jg.call(this,b,a),Eg.call(this,"updateView",b,a))},updateVisual:function(a){var b=this._model;b&&(b.eachSeries(function(a){a.getData().clearAllVisual()}),Jg.call(this,b,a,!0),Eg.call(this,"updateVisual",b,a))},updateLayout:function(a){var b=this._model;b&&(Ig.call(this,b,a),Eg.call(this,"updateLayout",b,a))},prepareAndUpdate:function(a){var b=this._model;Fg.call(this,"component",b),Fg.call(this,"chart",b),os.update.call(this,a)}};ns.resize=function(a){this[ks]=!0,this._zr.resize(a);var b=this._model&&this._model.resetOption("media");os[b?"prepareAndUpdate":"update"].call(this),this._loadingFX&&this._loadingFX.resize(),this[ks]=!1;var c=a&&a.silent;Cg.call(this,c),Dg.call(this,c)},ns.showLoading=function(a,b){if(v(a)&&(b=a,a=""),a=a||"default",this.hideLoading(),xs[a]){var c=xs[a](this._api,b),d=this._zr;this._loadingFX=c,d.add(c)}},ns.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},ns.makeActionFromEvent=function(a){var b=f({},a);return b.type=rs[a.type],b},ns.dispatchAction=function(a,b){v(b)||(b={silent:!!b}),qs[a.type]&&this._model&&(this[ks]?this._pendingActions.push(a):(Bg.call(this,a,b.silent),b.flush?this._zr.flush(!0):!1!==b.flush&&xn.browser.weChat&&this._throttledZrFlush(),Cg.call(this,b.silent),Dg.call(this,b.silent)))},ns.on=wg("on"),ns.off=wg("off"),ns.one=wg("one");var ps=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];ns._initEvents=function(){ds(ps,function(a){this._zr.on(a,function(b){var c,d=this.getModel(),e=b.target;if("globalout"===a)c={};else if(e&&null!=e.dataIndex){var g=e.dataModel||d.getSeriesByIndex(e.seriesIndex);c=g&&g.getDataParams(e.dataIndex,e.dataType)||{}}else e&&e.eventData&&(c=f({},e.eventData));c&&(c.event=b,c.type=a,this.trigger(a,c))},this)},this),ds(rs,function(a,b){this._messageCenter.on(b,function(a){this.trigger(b,a)},this)},this)},ns.isDisposed=function(){return this._disposed},ns.clear=function(){this.setOption({series:[]},!0)},ns.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._api,b=this._model;ds(this._componentsViews,function(c){c.dispose(b,a)}),ds(this._chartsViews,function(c){c.dispose(b,a)}),this._zr.dispose(),delete ys[this.id]}},k(yg,Tn);var qs={},rs={},ss=[],ts=[],us=[],vs=[],ws={},xs={},ys={},zs={},As=new Date-0,Bs=new Date-0,Cs="_echarts_instance_",Ds={},Es=Qg;Wg(2e3,function(a){a.eachRawSeries(function(b){var c=(b.visualColorAccessPath||"itemStyle.normal.color").split("."),d=b.getData(),e=b.get(c)||b.getColorFromPalette(b.get("name"));d.setVisual("color",e),a.isSeriesFiltered(b)||("function"!=typeof e||e instanceof Yq||d.each(function(a){d.setItemVisual(a,"color",e(b.getDataParams(a)))}),d.each(function(a){var b=d.getItemModel(a).get(c,!0);null!=b&&d.setItemVisual(a,"color",b)}))})}),Sg(Wr),Xg("default",function(a,b){g(b=b||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var c=new Sq({style:{fill:b.maskColor},zlevel:b.zlevel,z:1e4}),d=new Wq({shape:{startAngle:-cs/2,endAngle:-cs/2+.1,r:10},style:{stroke:b.color,lineCap:"round",lineWidth:5},zlevel:b.zlevel,z:10001}),e=new Sq({style:{fill:"none",text:b.text,textPosition:"right",textDistance:10,textFill:b.textColor},zlevel:b.zlevel,z:10001});d.animateShape(!0).when(1e3,{endAngle:3*cs/2}).start("circularInOut"),d.animateShape(!0).when(1e3,{startAngle:3*cs/2}).delay(300).start("circularInOut");var f=new Ao;return f.add(d),f.add(e),f.add(c),f.resize=function(){var b=a.getWidth()/2,f=a.getHeight()/2;d.setShape({cx:b,cy:f});var g=d.shape.r;e.setShape({x:b-g,y:f-g,width:2*g,height:2*g}),c.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},f.resize(),f}),Ug({type:"highlight",event:"highlight",update:"highlight"},J),Ug({type:"downplay",event:"downplay",update:"downplay"},J);var Fs={};bh.prototype={constructor:bh,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var a=this._old,b=this._new,c={},d=[],e=[];for(ch(a,{},d,"_oldKeyGetter",this),ch(b,c,e,"_newKeyGetter",this),f=0;f<a.length;f++)null!=(h=c[g=d[f]])?((j=h.length)?(1===j&&(c[g]=null),h=h.unshift()):c[g]=null,this._update&&this._update(h,f)):this._remove&&this._remove(f);for(var f=0;f<e.length;f++){var g=e[f];if(c.hasOwnProperty(g)){var h=c[g];if(null==h)continue;if(h.length)for(var i=0,j=h.length;i<j;i++)this._add&&this._add(h[i]);else this._add&&this._add(h)}}}};var Gs=v,Hs="undefined"==typeof window?global:window,Is={"float":void 0===Hs.Float64Array?Array:Hs.Float64Array,"int":void 0===Hs.Int32Array?Array:Hs.Int32Array,ordinal:Array,number:Array,time:Array},Js=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];eh.prototype.pure=!1,eh.prototype.count=function(){return this._array.length},eh.prototype.getItem=function(a){return this._array[a]};var Ks=function(a,b){a=a||["x","y"];for(var c={},d=[],e=0;e<a.length;e++){var f,g={};"string"==typeof a[e]?g={name:f=a[e],coordDim:f,coordDimIndex:0,stackable:!1,type:"number"}:(f=(g=a[e]).name,g.type=g.type||"number",g.coordDim||(g.coordDim=f,g.coordDimIndex=0)),g.otherDims=g.otherDims||{},d.push(f),c[f]=g}this.dimensions=d,this._dimensionInfos=c,this.hostModel=b,this.dataType,this.indices=[],this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this.stackedOn=null,this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawData,this._extent},Ls=Ks.prototype;Ls.type="list",Ls.hasItemOption=!0,Ls.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a},Ls.getDimensionInfo=function(a){return c(this._dimensionInfos[this.getDimension(a)])},Ls.initData=function(a,b,c){s(a=a||[])&&(a=new eh(a)),this._rawData=a;var d,e=this._storage={},f=this.indices=[],g=this.dimensions,h=this._dimensionInfos,i=a.count(),j=[],k={};b=b||[];for(r=0;r<g.length;r++){var l=h[g[r]];0===l.otherDims.itemName&&(d=r);var m=Is[l.type];e[g[r]]=new m(i)}var n=this;c||(n.hasItemOption=!1),c=c||function(a,b,c,d){var e=Cf(a);return Df(a)&&(n.hasItemOption=!0),Ef(e instanceof Array?e[d]:e,h[b])};for(r=0;r<i;r++){for(var o=a.getItem(r),p=0;p<g.length;p++){var q=g[p];e[q][r]=c(o,q,r,p)}f.push(r)}for(var r=0;r<i;r++){o=a.getItem(r),!b[r]&&o&&(null!=o.name?b[r]=o.name:null!=d&&(b[r]=e[g[d]][r]));var t=b[r]||"",u=o&&o.id;!u&&t&&(k[t]=k[t]||0,u=t,k[t]>0&&(u+="__ec__"+k[t]),k[t]++),u&&(j[r]=u)}this._nameList=b,this._idList=j},Ls.count=function(){return this.indices.length},Ls.get=function(a,b,c){var d=this._storage,e=this.indices[b];if(null==e||!d[a])return NaN;var f=d[a][e];if(c){var g=this._dimensionInfos[a];if(g&&g.stackable)for(var h=this.stackedOn;h;){var i=h.get(a,b);(f>=0&&i>0||f<=0&&i<0)&&(f+=i),h=h.stackedOn}}return f},Ls.getValues=function(a,b,c){var d=[];s(a)||(c=b,b=a,a=this.dimensions);for(var e=0,f=a.length;e<f;e++)d.push(this.get(a[e],b,c));return d},Ls.hasValue=function(a){for(var b=this.dimensions,c=this._dimensionInfos,d=0,e=b.length;d<e;d++)if("ordinal"!==c[b[d]].type&&isNaN(this.get(b[d],a)))return!1;return!0},Ls.getDataExtent=function(a,b,c){a=this.getDimension(a);var d=this._storage[a],e=this.getDimensionInfo(a);b=e&&e.stackable&&b;var f,g=(this._extent||(this._extent={}))[a+!!b];if(g)return g;if(d){for(var h=1/0,i=-1/0,j=0,k=this.count();j<k;j++)f=this.get(a,j,b),c&&!c(f,a,j)||(f<h&&(h=f),f>i&&(i=f));return this._extent[a+!!b]=[h,i]}return[1/0,-1/0]},Ls.getSum=function(a,b){var c=0;if(this._storage[a])for(var d=0,e=this.count();d<e;d++){var f=this.get(a,d,b);isNaN(f)||(c+=f)}return c},Ls.indexOf=function(a,b){var c=this._storage[a],d=this.indices;if(c)for(var e=0,f=d.length;e<f;e++)if(c[d[e]]===b)return e;return-1},Ls.indexOfName=function(a){for(var b=this.indices,c=this._nameList,d=0,e=b.length;d<e;d++)if(c[b[d]]===a)return d;return-1},Ls.indexOfRawIndex=function(a){var b=this.indices,c=b[a];if(null!=c&&c===a)return a;for(var d=0,e=b.length-1;d<=e;){var f=(d+e)/2|0;if(b[f]<a)d=f+1;else{if(!(b[f]>a))return f;e=f-1}}return-1},Ls.indicesOfNearest=function(a,b,c,d){var e=[];if(!this._storage[a])return e;null==d&&(d=1/0);for(var f=Number.MAX_VALUE,g=-1,h=0,i=this.count();h<i;h++){var j=b-this.get(a,h,c),k=Math.abs(j);j<=d&&k<=f&&((k<f||j>=0&&g<0)&&(f=k,g=j,e.length=0),e.push(h))}return e},Ls.getRawIndex=function(a){var b=this.indices[a];return null==b?-1:b},Ls.getRawDataItem=function(a){return this._rawData.getItem(this.getRawIndex(a))},Ls.getName=function(a){return this._nameList[this.indices[a]]||""},Ls.getId=function(a){return this._idList[this.indices[a]]||this.getRawIndex(a)+""},Ls.each=function(a,b,c,d){"function"==typeof a&&(d=c,c=b,b=a,a=[]);var e=[],f=(a=n(fh(a),this.getDimension,this)).length,g=this.indices;d=d||this;for(var h=0;h<g.length;h++)switch(f){case 0:b.call(d,h);break;case 1:b.call(d,this.get(a[0],h,c),h);break;case 2:b.call(d,this.get(a[0],h,c),this.get(a[1],h,c),h);break;default:for(var i=0;i<f;i++)e[i]=this.get(a[i],h,c);e[i]=h,b.apply(d,e)}},Ls.filterSelf=function(a,b,c,d){"function"==typeof a&&(d=c,c=b,b=a,a=[]);var e=[],f=[],g=(a=n(fh(a),this.getDimension,this)).length,h=this.indices;d=d||this;for(var i=0;i<h.length;i++){var j;if(g)if(1===g)j=b.call(d,this.get(a[0],i,c),i);else{for(var k=0;k<g;k++)f[k]=this.get(a[k],i,c);f[k]=i,j=b.apply(d,f)}else j=b.call(d,i);j&&e.push(h[i])}return this.indices=e,this._extent={},this},Ls.mapArray=function(a,b,c,d){"function"==typeof a&&(d=c,c=b,b=a,a=[]);var e=[];return this.each(a,function(){e.push(b&&b.apply(this,arguments))},c,d),e},Ls.map=function(a,b,c,d){var e=gh(this,a=n(fh(a),this.getDimension,this)),f=e.indices=this.indices,g=e._storage,h=[];return this.each(a,function(){var c=arguments[arguments.length-1],d=b&&b.apply(this,arguments);if(null!=d){"number"==typeof d&&(h[0]=d,d=h);for(var e=0;e<d.length;e++){var i=a[e],j=g[i],k=f[c];j&&(j[k]=d[e])}}},c,d),e},Ls.downSample=function(a,b,c,d){for(var e=gh(this,[a]),f=this._storage,g=e._storage,h=this.indices,i=e.indices=[],j=[],k=[],l=Math.floor(1/b),m=g[a],n=this.count(),o=0;o<f[a].length;o++)g[a][o]=f[a][o];for(o=0;o<n;o+=l){l>n-o&&(l=n-o,j.length=l);for(var p=0;p<l;p++){var q=h[o+p];j[p]=m[q],k[p]=q}var r=c(j);m[q=k[d(j,r)||0]]=r,i.push(q)}return e},Ls.getItemModel=function(a){var b=this.hostModel;return a=this.indices[a],new xf(this._rawData.getItem(a),b,b&&b.ecModel)},Ls.diff=function(a){var b,c=this._idList,d=a&&a._idList;return new bh(a?a.indices:[],this.indices,function(a){return null!=(b=d[a])?b:"e\0\0"+a},function(a){return null!=(b=c[a])?b:"e\0\0"+a})},Ls.getVisual=function(a){var b=this._visual;return b&&b[a]},Ls.setVisual=function(a,b){if(Gs(a))for(var c in a)a.hasOwnProperty(c)&&this.setVisual(c,a[c]);else this._visual=this._visual||{},this._visual[a]=b},Ls.setLayout=function(a,b){if(Gs(a))for(var c in a)a.hasOwnProperty(c)&&this.setLayout(c,a[c]);else this._layout[a]=b},Ls.getLayout=function(a){return this._layout[a]},Ls.getItemLayout=function(a){return this._itemLayouts[a]},Ls.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?f(this._itemLayouts[a]||{},b):b},Ls.clearItemLayouts=function(){this._itemLayouts.length=0},Ls.getItemVisual=function(a,b,c){var d=this._itemVisuals[a],e=d&&d[b];return null!=e||c?e:this.getVisual(b)},Ls.setItemVisual=function(a,b,c){var d=this._itemVisuals[a]||{};if(this._itemVisuals[a]=d,Gs(b))for(var e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);else d[b]=c},Ls.clearAllVisual=function(){this._visual={},this._itemVisuals=[]};var Ms=function(a){a.seriesIndex=this.seriesIndex,a.dataIndex=this.dataIndex,a.dataType=this.dataType};Ls.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.dataType=this.dataType,b.seriesIndex=c&&c.seriesIndex,"group"===b.type&&b.traverse(Ms,b)),this._graphicEls[a]=b},Ls.getItemGraphicEl=function(a){return this._graphicEls[a]},Ls.eachItemGraphicEl=function(a,b){m(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})},Ls.cloneShallow=function(){var a=n(this.dimensions,this.getDimensionInfo,this),b=new Ks(a,this.hostModel);return b._storage=this._storage,dh(b,this),b.indices=this.indices.slice(),this._extent&&(b._extent=f({},this._extent)),b},Ls.wrapMethod=function(a,b){var c=this[a];"function"==typeof c&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var a=c.apply(this,arguments);return b.apply(this,[a].concat(C(arguments)))})},Ls.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Ls.CHANGABLE_METHODS=["filterSelf"];var Ns=m,Os=u,Ps=g,Qs={tooltip:1,label:1,itemName:1},Rs=hh.guessOrdinal=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=ih(a[c]);if(!s(e))return!1;if(null!=(e=e[b])&&isFinite(e)&&""!==e)return!1;if(Os(e)&&"-"!==e)return!0}return!1},Ss={cartesian2d:function(a,b,c,d){var e=n(["xAxis","yAxis"],function(a){return c.queryComponents({mainType:a,index:b.get(a+"Index"),id:b.get(a+"Id")})[0]}),f=e[0],g=e[1],h=f.get("type"),i=g.get("type"),j=[{name:"x",type:nh(h),stackable:mh(h)},{name:"y",type:nh(i),stackable:mh(i)}],k="category"===h,l="category"===i;j=hh(j,a,d);var m={};return k&&(m.x=f),l&&(m.y=g),{dimensions:j,categoryIndex:k?0:l?1:-1,categoryAxesModels:m}},singleAxis:function(a,b,c,d){var e=c.queryComponents({mainType:"singleAxis",index:b.get("singleAxisIndex"),id:b.get("singleAxisId")})[0],f=e.get("type"),g="category"===f,h=[{name:"single",type:nh(f),stackable:mh(f)}];h=hh(h,a,d);var i={};return g&&(i.single=e),{dimensions:h,categoryIndex:g?0:-1,categoryAxesModels:i}},polar:function(a,b,c,d){var e=c.queryComponents({mainType:"polar",index:b.get("polarIndex"),id:b.get("polarId")})[0],f=e.findAxisModel("angleAxis"),g=e.findAxisModel("radiusAxis"),h=g.get("type"),i=f.get("type"),j=[{name:"radius",type:nh(h),stackable:mh(h)},{name:"angle",type:nh(i),stackable:mh(i)}],k="category"===i,l="category"===h;j=hh(j,a,d);var m={};return l&&(m.radius=g),k&&(m.angle=f),{dimensions:j,categoryIndex:k?1:l?0:-1,categoryAxesModels:m}},geo:function(a,b,c,d){return{dimensions:hh([{name:"lng"},{name:"lat"}],a,d)}}};ph.prototype.parse=function(a){return a},ph.prototype.getSetting=function(a){return this._setting[a]},ph.prototype.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]},ph.prototype.normalize=function(a){var b=this._extent;return b[1]===b[0]?.5:(a-b[0])/(b[1]-b[0])},ph.prototype.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]},ph.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1])},ph.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getDataExtent(b,!0))},ph.prototype.getExtent=function(){return this._extent.slice()},ph.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a),isNaN(b)||(c[1]=b)},ph.prototype.getTicksLabels=function(){for(var a=[],b=this.getTicks(),c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a},ph.prototype.isBlank=function(){return this._isBlank},ph.prototype.setBlank=function(a){this._isBlank=a},Td(ph),Wd(ph,{registerWhenExtend:!0});var Ts=ph.prototype,Us=ph.extend({type:"ordinal",init:function(a,b){this._data=a,this._extent=b||[0,a.length-1]},parse:function(a){return"string"==typeof a?i(this._data,a):Math.round(a)},contain:function(a){return a=this.parse(a),Ts.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return Ts.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(Ts.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push(c),c++;return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!1))},niceTicks:J,niceExtent:J});Us.create=function(){return new Us};var Vs=vd,Ws=vd,Xs=ph.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a)),isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]),a[1]>b[1]&&(b[1]=a[1]),Xs.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a,this._niceExtent=this._extent.slice(),this._intervalPrecision=rh(a)},getTicks:function(){return uh(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getTicksLabels:function(){for(var a=[],b=this.getTicks(),c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a},getLabel:function(a,b){if(null==a)return"";var c=b&&b.precision;return null==c?c=yd(a)||0:"auto"===c&&(c=this._intervalPrecision),a=Ws(a,c,!0),Hd(a)},niceTicks:function(a,b,c){a=a||5;var d=this._extent,e=d[1]-d[0];if(isFinite(e)){e<0&&(e=-e,d.reverse());var f=qh(d,a,b,c);this._intervalPrecision=f.intervalPrecision,this._interval=f.interval,this._niceExtent=f.niceTickExtent}},niceExtent:function(a){var b=this._extent;if(b[0]===b[1])if(0!==b[0]){var c=b[0];a.fixMax?b[0]-=c/2:(b[1]+=c/2,b[0]-=c/2)}else b[1]=1;var d=b[1]-b[0];isFinite(d)||(b[0]=0,b[1]=1),this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);var e=this._interval;a.fixMin||(b[0]=Ws(Math.floor(b[0]/e)*e)),a.fixMax||(b[1]=Ws(Math.ceil(b[1]/e)*e))}});Xs.create=function(){return new Xs};var Ys=Xs.prototype,Zs=Math.ceil,$s=Math.floor,_s=function(a,b,c,d){for(;c<d;){var e=c+d>>>1;a[e][1]<b?c=e+1:d=e}return c},at=Xs.extend({type:"time",getLabel:function(a){var b=this._stepLvl,c=new Date(a);return Md(b[0],c,this.getSetting("useUTC"))},niceExtent:function(a){var b=this._extent;if(b[0]===b[1]&&(b[0]-=864e5,b[1]+=864e5),b[1]===-1/0&&b[0]===1/0){var c=new Date;b[1]=+(new Date(c.getFullYear(),c.getMonth(),c.getDate())),b[0]=b[1]-864e5}this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);var d=this._interval;a.fixMin||(b[0]=vd($s(b[0]/d)*d)),a.fixMax||(b[1]=vd(Zs(b[1]/d)*d))},niceTicks:function(a,b,c){a=a||10;var d=this._extent,e=d[1]-d[0],f=e/a;null!=b&&f<b&&(f=b),null!=c&&f>c&&(f=c);var g=bt.length,h=_s(bt,f,0,g),i=bt[Math.min(h,g-1)],j=i[1];"year"===i[0]&&(j*=Gd(e/j/a,!0));var k=this.getSetting("useUTC")?0:60*(new Date(+d[0]||+d[1])).getTimezoneOffset()*1e3,l=[Math.round(Zs((d[0]-k)/j)*j+k),Math.round($s((d[1]-k)/j)*j+k)];th(l,d),this._stepLvl=i,this._interval=j,this._niceExtent=l},parse:function(a){return+Dd(a)}});m(["contain","normalize"],function(a){at.prototype[a]=function(b){return Ys[a].call(this,this.parse(b))}});var bt=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];at.create=function(a){return new at({useUTC:a.ecModel.get("useUTC")})};var ct=ph.prototype,dt=Xs.prototype,et=yd,ft=vd,gt=Math.floor,ht=Math.ceil,it=Math.pow,jt=Math.log,kt=ph.extend({type:"log",base:10,$constructor:function(){ph.apply(this,arguments),this._originalScale=new Xs},getTicks:function(){var a=this._originalScale,b=this._extent,c=a.getExtent();return n(dt.getTicks.call(this),function(d){var e=vd(it(this.base,d));return e=d===b[0]&&a.__fixMin?vh(e,c[0]):e,e=d===b[1]&&a.__fixMax?vh(e,c[1]):e},this)},getLabel:dt.getLabel,scale:function(a){return a=ct.scale.call(this,a),it(this.base,a)},setExtent:function(a,b){var c=this.base;a=jt(a)/jt(c),b=jt(b)/jt(c),dt.setExtent.call(this,a,b)},getExtent:function(){var a=this.base,b=ct.getExtent.call(this);b[0]=it(a,b[0]),b[1]=it(a,b[1]);var c=this._originalScale,d=c.getExtent();return c.__fixMin&&(b[0]=vh(b[0],d[0])),c.__fixMax&&(b[1]=vh(b[1],d[1])),b},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=jt(a[0])/jt(b),a[1]=jt(a[1])/jt(b),ct.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!0,function(a){return a>0}))},niceTicks:function(a){a=a||10;var b=this._extent,c=b[1]-b[0];if(!(c===1/0||c<=0)){var d=Ed(c);for(a/c*d<=.5&&(d*=10);!isNaN(d)&&Math.abs(d)<1&&Math.abs(d)>0;)d*=10;var e=[vd(ht(b[0]/d)*d),vd(gt(b[1]/d)*d)];this._interval=d,this._niceExtent=e}},niceExtent:function(a){dt.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin,b.__fixMax=a.fixMax}});m(["contain","normalize"],function(a){kt.prototype[a]=function(b){return b=jt(b)/jt(this.base),ct[a].call(this,b)}}),kt.create=function(){return new kt};var lt={getFormattedLabels:function(){return Ah(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&n(this.get("data"),Ch)},getMin:function(a){var b=this.option,c=a||null==b.rangeStart?b.min:b.rangeStart;return this.axis&&null!=c&&"dataMin"!==c&&"function"!=typeof c&&!y(c)&&(c=this.axis.scale.parse(c)),c},getMax:function(a){var b=this.option,c=a||null==b.rangeEnd?b.max:b.rangeEnd;return this.axis&&null!=c&&"dataMax"!==c&&"function"!=typeof c&&!y(c)&&(c=this.axis.scale.parse(c)),c},getNeedCrossZero:function(){var a=this.option;return null==a.rangeStart&&null==a.rangeEnd&&!a.scale},getCoordSysModel:J,setRange:function(a,b){this.option.rangeStart=a,this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},mt=Le({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d+f),a.lineTo(c-e,d+f),a.closePath()}}),nt=Le({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f),a.lineTo(c+e,d),a.lineTo(c,d+f),a.lineTo(c-e,d),a.closePath()}}),ot=Le({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width/5*3,f=Math.max(e,b.height),g=e/2,h=g*g/(f-g),i=d-f+g+h,j=Math.asin(h/g),k=Math.cos(j)*g,l=Math.sin(j),m=Math.cos(j),n=.6*g,o=.7*g;a.moveTo(c-k,i+h),a.arc(c,i,g,Math.PI-j,2*Math.PI+j),a.bezierCurveTo(c+k-l*n,i+h+m*n,c,d-o,c,d),a.bezierCurveTo(c,d-o,c-k+l*n,i+h+m*n,c-k,i+h),a.closePath()}}),pt=Le({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.width,e=b.x,f=b.y,g=d/3*2;a.moveTo(e,f),a.lineTo(e+g,f+c),a.lineTo(e,f+c/4*3),a.lineTo(e-g,f+c),a.lineTo(e,f),a.closePath()}}),qt={line:function(a,b,c,d,e){e.x1=a,e.y1=b+d/2,e.x2=a+c,e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d},roundRect:function(a,b,c,d,e){e.x=a,e.y=b,e.width=c,e.height=d,e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){var f=Math.min(c,d);e.x=a,e.y=b,e.width=f,e.height=f},circle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},arrow:function(a,b,c,d,e){e.x=a+c/2,e.y=b+d/2,e.width=c,e.height=d},triangle:function(a,b,c,d,e){e.cx=a+c/2,e.cy=b+d/2,e.width=c,e.height=d}},rt={};m({line:Tq,rect:Sq,roundRect:Sq,square:Sq,circle:Jq,diamond:nt,pin:ot,arrow:pt,triangle:mt},function(a,b){rt[b]=new a});var st=Le({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style;"pin"===this.shape.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(a,b,c){var d=b.symbolType,e=rt[d];"none"!==b.symbolType&&(e||(e=rt[d="rect"]),qt[d](b.x,b.y,b.width,b.height,e.shape),e.buildPath(a,e.shape,c))}}),tt=(Object.freeze||Object)({createList:function(a){return lh(a.get("data"),a,a.ecModel)},createScale:function(a,b){var c=b;b instanceof xf||k(c=new xf(b),lt);var d=yh(c);return d.setExtent(a[0],a[1]),xh(d,c),d},mixinAxisModelCommonMethods:function(a){k(a,lt)},completeDimensions:hh,createSymbol:Eh}),ut=td,vt=[0,1],wt=function(a,b,c){this.dim=a,this.scale=b,this._extent=c||[0,0],this.inverse=!1,this.onBand=!1,this._labelInterval};wt.prototype={constructor:wt,contain:function(a){var b=this._extent,c=Math.min(b[0],b[1]),d=Math.max(b[0],b[1]);return a>=c&&a<=d},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return zd(a||this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a,c[1]=b},dataToCoord:function(a,b){var c=this._extent,d=this.scale;return a=d.normalize(a),this.onBand&&"ordinal"===d.type&&Fh(c=c.slice(),d.count()),ut(a,vt,c,b)},coordToData:function(a,b){var c=this._extent,d=this.scale;this.onBand&&"ordinal"===d.type&&Fh(c=c.slice(),d.count());var e=ut(a,c,vt,b);return this.scale.scale(e)},pointToData:function(a,b){},getTicksCoords:function(a){if(this.onBand&&!a){for(var b=this.getBands(),c=[],d=0;d<b.length;d++)c.push(b[d][0]);return b[d-1]&&c.push(b[d-1][1]),c}return n(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return n(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var a=this.getExtent(),b=[],c=this.scale.count(),d=a[0],e=a[1]-d,f=0;f<c;f++)b.push([e*f/c+d,e*(f+1)/c+d]);return b},getBandWidth:function(){var a=this._extent,b=this.scale.getExtent(),c=b[1]-b[0]+(this.onBand?1:0);0===c&&(c=1);var d=Math.abs(a[1]-a[0]);return Math.abs(d)/c},isHorizontal:null,getRotate:null,getLabelInterval:function(){var a=this._labelInterval;if(!a){var b=this.model,c=b.getModel("axisLabel");a=c.get("interval"),"category"!==this.type||null!=a&&"auto"!==a||(a=zh(n(this.scale.getTicks(),this.dataToCoord,this),b.getFormattedLabels(),c.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,c.get("rotate"))),this._labelInterval=a}return a}};var xt=1e-8;Ih.prototype={constructor:Ih,properties:null,getBoundingRect:function(){var a=this._rect;if(a)return a;for(var b=Number.MAX_VALUE,c=[b,b],d=[-b,-b],e=[],f=[],g=this.geometries,h=0;h<g.length;h++)"polygon"===g[h].type&&(je(g[h].exterior,e,f),X(c,c,e),Y(d,d,f));return 0===h&&(c[0]=c[1]=d[0]=d[1]=0),this._rect=new Sb(c[0],c[1],d[0]-c[0],d[1]-c[1])},contain:function(a){var b=this.getBoundingRect(),c=this.geometries;if(!b.contain(a[0],a[1]))return!1;a:for(var d=0,e=c.length;d<e;d++)if("polygon"===c[d].type){var f=c[d].exterior,g=c[d].interiors;if(Hh(f,a[0],a[1])){for(var h=0;h<(g?g.length:0);h++)if(Hh(g[h]))continue a;return!0}}return!1},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),f=e.width/e.height;c?d||(d=c/f):c=f*d;for(var g=new Sb(a,b,c,d),h=e.calculateTransform(g),i=this.geometries,j=0;j<i.length;j++)if("polygon"===i[j].type){for(var k=i[j].exterior,l=i[j].interiors,m=0;m<k.length;m++)W(k[m],k[m],h);for(var n=0;n<(l?l.length:0);n++)for(m=0;m<l[n].length;m++)W(l[n][m],l[n][m],h)}(e=this._rect).copy(g),this.center=[e.x+e.width/2,e.y+e.height/2]}};var yt={};m(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(a){yt[a]=Ln[a]}),Xr.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,b){return lh(a.data,this,b)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var zt=Oh.prototype;zt._createSymbol=function(a,b,c,d){this.removeAll();var e=Eh(a,-1,-1,2,2,b.getItemVisual(c,"color"));e.attr({z2:100,culling:!0,scale:Nh(d)}),e.drift=Ph,this._symbolType=a,this.add(e)},zt.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)},zt.getSymbolPath=function(){return this.childAt(0)},zt.getScale=function(){return this.childAt(0).scale},zt.highlight=function(){this.childAt(0).trigger("emphasis")},zt.downplay=function(){this.childAt(0).trigger("normal")},zt.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a,c.z=b},zt.setDraggable=function(a){var b=this.childAt(0);b.draggable=a,b.cursor=a?"move":"pointer"},zt.updateData=function(a,b,c){this.silent=!1;var d=a.getItemVisual(b,"symbol")||"circle",e=a.hostModel,f=Mh(a,b),g=d!==this._symbolType;if(g?this._createSymbol(d,a,b,f):((h=this.childAt(0)).silent=!1,pf(h,{scale:Nh(f)},e,b)),this._updateCommon(a,b,f,c),g){var h=this.childAt(0),i=c&&c.fadeIn,j={scale:h.scale.slice()};i&&(j.style={opacity:h.style.opacity}),h.scale=[0,0],i&&(h.style.opacity=0),qf(h,j,e,b)}this._seriesModel=e};var At=["itemStyle","normal"],Bt=["itemStyle","emphasis"],Ct=["label","normal"],Dt=["label","emphasis"];zt._updateCommon=function(a,b,c,d){var e=this.childAt(0),g=a.hostModel,h=a.getItemVisual(b,"color");"image"!==e.type&&e.useStyle({strokeNoScale:!0});var i=d&&d.itemStyle,j=d&&d.hoverItemStyle,k=d&&d.symbolRotate,l=d&&d.symbolOffset,m=d&&d.labelModel,n=d&&d.hoverLabelModel,o=d&&d.hoverAnimation,p=d&&d.cursorStyle;if(!d||a.hasItemOption){var q=d&&d.itemModel?d.itemModel:a.getItemModel(b);i=q.getModel(At).getItemStyle(["color"]),j=q.getModel(Bt).getItemStyle(),k=q.getShallow("symbolRotate"),l=q.getShallow("symbolOffset"),m=q.getModel(Ct),n=q.getModel(Dt),o=q.getShallow("hoverAnimation"),p=q.getShallow("cursor")}else j=f({},j);var r=e.style;e.attr("rotation",(k||0)*Math.PI/180||0),l&&e.attr("position",[ud(l[0],c[0]),ud(l[1],c[1])]),p&&e.attr("cursor",p),e.setColor(h,d&&d.symbolInnerColor),e.setStyle(i);var s=a.getItemVisual(b,"opacity");null!=s&&(r.opacity=s);var t=d&&d.useNameLabel,u=!t&&Lh(a);(t||null!=u)&&ef(r,j,m,n,{labelFetcher:g,labelDataIndex:b,defaultText:t?a.getName(b):a.get(u,b),isRectText:!0,autoColor:h}),e.off("mouseover").off("mouseout").off("emphasis").off("normal"),e.hoverStyle=j,df(e);var v=Nh(c);if(o&&g.isAnimationEnabled()){var w=function(){var a=v[1]/v[0];this.animateTo({scale:[Math.max(1.1*v[0],v[0]+3),Math.max(1.1*v[1],v[1]+3*a)]},400,"elasticOut")},x=function(){this.animateTo({scale:v},400,"elasticOut")};e.on("mouseover",w).on("mouseout",x).on("emphasis",w).on("normal",x)}},zt.fadeOut=function(a,b){var c=this.childAt(0);this.silent=c.silent=!0,(!b||!b.keepLabel)&&(c.style.text=null),pf(c,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,a)},j(Oh,Ao);var Et=Qh.prototype;Et.updateData=function(a,b){var c=this.group,d=a.hostModel,e=this._data,f=this._symbolCtor,g={itemStyle:d.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:d.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:d.get("symbolRotate"),symbolOffset:d.get("symbolOffset"),hoverAnimation:d.get("hoverAnimation"),labelModel:d.getModel("label.normal"),hoverLabelModel:d.getModel("label.emphasis"),cursorStyle:d.get("cursor")};a.diff(e).add(function(d){var e=a.getItemLayout(d);if(Rh(a,d,b)){var h=new f(a,d,g);h.attr("position",e),a.setItemGraphicEl(d,h),c.add(h)}}).update(function(h,i){var j=e.getItemGraphicEl(i),k=a.getItemLayout(h);Rh(a,h,b)?(j?(j.updateData(a,h,g),pf(j,{position:k},d)):(j=new f(a,h)).attr("position",k),c.add(j),a.setItemGraphicEl(h,j)):c.remove(j)}).remove(function(a){var b=e.getItemGraphicEl(a);b&&b.fadeOut(function(){c.remove(b)})}).execute(),this._data=a},Et.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){var d=a.getItemLayout(c);b.attr("position",d)})},Et.remove=function(a){var b=this.group,c=this._data;c&&(a?c.eachItemGraphicEl(function(a){a.fadeOut(function(){b.remove(a)})}):b.removeAll())};var Ft=function(a,b,c,d,e,f){for(var g=Uh(a,b),h=[],i=[],j=[],k=[],l=[],m=[],n=[],o=f.dimensions,p=0;p<g.length;p++){var q=g[p],r=!0;switch(q.cmd){case"=":var s=a.getItemLayout(q.idx),t=b.getItemLayout(q.idx1);(isNaN(s[0])||isNaN(s[1]))&&(s=t.slice()),h.push(s),i.push(t),j.push(c[q.idx]),k.push(d[q.idx1]),n.push(b.getRawIndex(q.idx1));break;case"+":u=q.idx,h.push(e.dataToPoint([b.get(o[0],u,!0),b.get(o[1],u,!0)])),i.push(b.getItemLayout(u).slice()),j.push(Th(e,b,u)),k.push(d[u]),n.push(b.getRawIndex(u));break;case"-":var u=q.idx,v=a.getRawIndex(u);v!==u?(h.push(a.getItemLayout(u)),i.push(f.dataToPoint([a.get(o[0],u,!0),a.get(o[1],u,!0)])),j.push(c[u]),k.push(Th(f,a,u)),n.push(v)):r=!1}r&&(l.push(q),m.push(m.length))}m.sort(function(a,b){return n[a]-n[b]});for(var w=[],x=[],y=[],z=[],A=[],p=0;p<m.length;p++)u=m[p],w[p]=h[u],x[p]=i[u],y[p]=j[u],z[p]=k[u],A[p]=l[u];return{current:w,next:x,stackedOnCurrent:y,stackedOnNext:z,status:A}},Gt=X,Ht=Y,It=O,Jt=L,Kt=[],Lt=[],Mt=[],Nt=Ce.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:Lq(Ce.prototype.brush),buildPath:function(a,b){var c=b.points,d=0,e=c.length,f=Xh(c,b.smoothConstraint);if(b.connectNulls){for(;e>0&&Vh(c[e-1]);e--);for(;d<e&&Vh(c[d]);d++);}for(;d<e;)d+=Wh(a,c,d,e,e,1,f.min,f.max,b.smooth,b.smoothMonotone,b.connectNulls)+1}}),Ot=Ce.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:Lq(Ce.prototype.brush),buildPath:function(a,b){var c=b.points,d=b.stackedOnPoints,e=0,f=c.length,g=b.smoothMonotone,h=Xh(c,b.smoothConstraint),i=Xh(d,b.smoothConstraint);if(b.connectNulls){for(;f>0&&Vh(c[f-1]);f--);for(;e<f&&Vh(c[e]);e++);}for(;e<f;){var j=Wh(a,c,e,f,f,1,h.min,h.max,b.smooth,g,b.connectNulls);Wh(a,d,e+j-1,j,f,-1,i.min,i.max,b.stackedOnSmooth,g,b.connectNulls),e+=j+1,a.closePath()}}});qg.extend({type:"line",init:function(){var a=new Ao,b=new Qh;this.group.add(b.group),this._symbolDraw=b,this._lineGroup=a},render:function(a,b,c){var d=a.coordinateSystem,e=this.group,f=a.getData(),h=a.getModel("lineStyle.normal"),i=a.getModel("areaStyle.normal"),j=f.mapArray(f.getItemLayout,!0),k="polar"===d.type,l=this._coordSys,m=this._symbolDraw,n=this._polyline,o=this._polygon,p=this._lineGroup,q=a.get("animation"),r=!i.isEmpty(),s=ai(d,f),t=a.get("showSymbol"),u=t&&!k&&!a.get("showAllSymbol")&&this._getSymbolIgnoreFunc(f,d),v=this._data;v&&v.eachItemGraphicEl(function(a,b){a.__temp&&(e.remove(a),v.setItemGraphicEl(b,null))}),t||m.remove(),e.add(p);var w=!k&&a.get("step");n&&l.type===d.type&&w===this._step?(r&&!o?o=this._newPolygon(j,s,d,q):o&&!r&&(p.remove(o),o=this._polygon=null),p.setClipPath(di(d,!1,a)),t&&m.updateData(f,u),f.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),Yh(this._stackedOnPoints,s)&&Yh(this._points,j)||(q?this._updateAnimation(f,s,d,c,w):(w&&(j=ei(j,d,w),s=ei(s,d,w)),n.setShape({points:j}),o&&o.setShape({points:j,stackedOnPoints:s})))):(t&&m.updateData(f,u),w&&(j=ei(j,d,w),s=ei(s,d,w)),n=this._newPolyline(j,d,q),r&&(o=this._newPolygon(j,s,d,q)),p.setClipPath(di(d,!0,a)));var x=fi(f,d)||f.getVisual("color");n.useStyle(g(h.getLineStyle(),{fill:"none",stroke:x,lineJoin:"bevel"}));var y=a.get("smooth");if(y=Zh(a.get("smooth")),n.setShape({smooth:y,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")}),o){var z=f.stackedOn,A=0;o.useStyle(g(i.getAreaStyle(),{fill:x,opacity:.7,lineJoin:"bevel"})),z&&(A=Zh(z.hostModel.get("smooth"))),o.setShape({smooth:y,stackedOnSmooth:A,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")})}this._data=f,this._coordSys=d,this._stackedOnPoints=s,this._points=j,this._step=w},dispose:function(){},highlight:function(a,b,c,d){var e=a.getData(),f=If(e,d);if(!(f instanceof Array)&&null!=f&&f>=0){var g=e.getItemGraphicEl(f);if(!g){var h=e.getItemLayout(f);if(!h)return;(g=new Oh(e,f)).position=h,g.setZ(a.get("zlevel"),a.get("z")),g.ignore=isNaN(h[0])||isNaN(h[1]),g.__temp=!0,e.setItemGraphicEl(f,g),g.stopSymbolAnimation(!0),this.group.add(g)}g.highlight()}else qg.prototype.highlight.call(this,a,b,c,d)},downplay:function(a,b,c,d){var e=a.getData(),f=If(e,d);if(null!=f&&f>=0){var g=e.getItemGraphicEl(f);g&&(g.__temp?(e.setItemGraphicEl(f,null),this.group.remove(g)):g.downplay())}else qg.prototype.downplay.call(this,a,b,c,d)},_newPolyline:function(a){var b=this._polyline;return b&&this._lineGroup.remove(b),b=new Nt({shape:{points:a},silent:!0,z2:10}),this._lineGroup.add(b),this._polyline=b,b},_newPolygon:function(a,b){var c=this._polygon;return c&&this._lineGroup.remove(c),c=new Ot({shape:{points:a,stackedOnPoints:b},silent:!0}),this._lineGroup.add(c),this._polygon=c,c},_getSymbolIgnoreFunc:function(a,b){var c=b.getAxesByScale("ordinal")[0];if(c&&c.isLabelIgnored)return q(c.isLabelIgnored,c)},_updateAnimation:function(a,b,c,d,e){var f=this._polyline,g=this._polygon,h=a.hostModel,i=Ft(this._data,a,this._stackedOnPoints,b,this._coordSys,c),j=i.current,k=i.stackedOnCurrent,l=i.next,m=i.stackedOnNext;e&&(j=ei(i.current,c,e),k=ei(i.stackedOnCurrent,c,e),l=ei(i.next,c,e),m=ei(i.stackedOnNext,c,e)),f.shape.__points=i.current,f.shape.points=j,pf(f,{shape:{points:l}},h),g&&(g.setShape({points:j,stackedOnPoints:k}),pf(g,{shape:{points:l,stackedOnPoints:m}},h));for(var n=[],o=i.status,p=0;p<o.length;p++)if("="===o[p].cmd){var q=a.getItemGraphicEl(o[p].idx1);q&&n.push({el:q,ptIdx:p})}f.animators&&f.animators.length&&f.animators[0].during(function(){for(var a=0;a<n.length;a++)n[a].el.attr("position",f.shape.__points[n[a].ptIdx])})},remove:function(a){var b=this.group,c=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),c&&c.eachItemGraphicEl(function(a,d){a.__temp&&(b.remove(a),c.setItemGraphicEl(d,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Pt=function(a,b,c,d,e){d.eachRawSeriesByType(a,function(a){var e=a.getData(),f=a.get("symbol")||b,g=a.get("symbolSize");e.setVisual({legendSymbol:c||f,symbol:f,symbolSize:g}),d.isSeriesFiltered(a)||("function"==typeof g&&e.each(function(b){var c=a.getRawValue(b),d=a.getDataParams(b);e.setItemVisual(b,"symbolSize",g(c,d))}),e.each(function(a){var b=e.getItemModel(a),c=b.getShallow("symbol",!0),d=b.getShallow("symbolSize",!0);null!=c&&e.setItemVisual(a,"symbol",c),null!=d&&e.setItemVisual(a,"symbolSize",d)}))})},Qt=function(a,b){b.eachSeriesByType(a,function(a){var b=a.getData(),c=a.coordinateSystem;if(c){for(var d=[],e=c.dimensions,f=0;f<e.length;f++)d.push(a.coordDimToDataDim(c.dimensions[f])[0]);1===d.length?b.each(d[0],function(a,d){b.setItemLayout(d,isNaN(a)?[NaN,NaN]:c.dataToPoint(a))}):2===d.length&&b.each(d,function(a,d,e){b.setItemLayout(e,isNaN(a)||isNaN(d)?[NaN,NaN]:c.dataToPoint([a,d]))},!0)}})},Rt={average:function(a){for(var b=0,c=0,d=0;d<a.length;d++)isNaN(a[d])||(b+=a[d],c++);return 0===c?NaN:b/c},sum:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c]||0;return b},max:function(a){for(var b=-1/0,c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return b},min:function(a){for(var b=1/0,c=0;c<a.length;c++)a[c]<b&&(b=a[c]);return b},nearest:function(a){return a[0]}},St=function(a,b){return Math.round(a.length/2)},Tt=function(a){this._axes={},this._dimList=[],this.name=a||""};Tt.prototype={constructor:Tt,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return n(this._dimList,gi,this)},getAxesByScale:function(a){return a=a.toLowerCase(),p(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a,this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,b){for(var c=this._dimList,d=a instanceof Array?[]:{},e=0;e<c.length;e++){var f=c[e],g=this._axes[f];d[f]=g[b](a[f])}return d}},hi.prototype={constructor:hi,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoint:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.toGlobalCoord(c.dataToCoord(a[0],b)),d.toGlobalCoord(d.dataToCoord(a[1],b))]},pointToData:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.coordToData(c.toLocalCoord(a[0]),b),d.coordToData(d.toLocalCoord(a[1]),b)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}},j(hi,Tt);var Ut=function(a,b,c,d,e){wt.call(this,a,b,c),this.type=d||"value",this.position=e||"bottom"};Ut.prototype={constructor:Ut,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var b=this.getExtent();return b[0]=this.toGlobalCoord(b[0]),b[1]=this.toGlobalCoord(b[1]),a&&b[0]>b[1]&&b.reverse(),b},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}},pointToData:function(a,b){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),b)},toLocalCoord:null,toGlobalCoord:null},j(Ut,wt);var Vt={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Wt={};Wt.categoryAxis=d({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Vt),Wt.valueAxis=d({boundaryGap:[0,0],splitNumber:5},Vt),Wt.timeAxis=g({scale:!0,min:"dataMin",max:"dataMax"},Wt.valueAxis),Wt.logAxis=g({scale:!0,logBase:10},Wt.valueAxis);var Xt=["value","category","time","log"],Yt=function(a,b,c,f){m(Xt,function(g){b.extend({type:a+"Axis."+g,mergeDefaultAndTheme:function(b,e){var f=this.layoutMode,h=f?Tf(b):{};d(b,e.getTheme().get(g+"Axis")),d(b,this.getDefaultOption()),b.type=c(a,b),f&&Sf(b,h,f)},defaultOption:e([{},Wt[g+"Axis"],f],!0)})}),wr.registerSubTypeDefaulter(a+"Axis",r(c,a))},Zt=wr.extend({type:"cartesian2dAxis",axis:null,init:function(){Zt.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Zt.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Zt.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});d(Zt.prototype,lt);var $t={offset:0};Yt("x",Zt,ii,$t),Yt("y",Zt,ii,$t),wr.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var _t=m,au=function(a){var b=a.scale.getExtent(),c=b[0],d=b[1];return!(c>0&&d>0||c<0&&d<0)},bu=xh,cu=mi.prototype;cu.type="grid",cu.axisPointerEnabled=!0,cu.getRect=function(){return this._rect},cu.update=function(a,b){var c=this._axesMap;this._updateScale(a,this.model),_t(c.x,function(a){bu(a.scale,a.model)}),_t(c.y,function(a){bu(a.scale,a.model)}),_t(c.x,function(a){ni(c,"y",a)}),_t(c.y,function(a){ni(c,"x",a)}),this.resize(this.model,b)},cu.resize=function(a,b,c){function d(){_t(f,function(a){var b=a.isHorizontal(),c=b?[0,e.width]:[0,e.height],d=a.inverse?1:0;a.setExtent(c[d],c[1-d]),pi(a,b?e.x:e.y)})}var e=Qf(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._rect=e;var f=this._axesList;d(),!c&&a.get("containLabel")&&(_t(f,function(a){if(!a.model.get("axisLabel.inside")){var b=li(a);if(b){var c=a.isHorizontal()?"height":"width",d=a.model.get("axisLabel.margin");e[c]-=b[c]+d,"top"===a.position?e.y+=b.height+d:"left"===a.position&&(e.x+=b.width+d)}}}),d())},cu.getAxis=function(a,b){var c=this._axesMap[a];if(null!=c){if(null==b)for(var d in c)if(c.hasOwnProperty(d))return c[d];return c[b]}},cu.getAxes=function(){return this._axesList.slice()},cu.getCartesian=function(a,b){if(null!=a&&null!=b){var c="x"+a+"y"+b;return this._coordsMap[c]}v(a)&&(b=a.yAxisIndex,a=a.xAxisIndex);for(var d=0,e=this._coordsList;d<e.length;d++)if(e[d].getAxis("x").index===a||e[d].getAxis("y").index===b)return e[d]},cu.getCartesians=function(){return this._coordsList.slice()},cu.convertToPixel=function(a,b,c){var d=this._findConvertTarget(a,b);return d.cartesian?d.cartesian.dataToPoint(c):d.axis?d.axis.toGlobalCoord(d.axis.dataToCoord(c)):null},cu.convertFromPixel=function(a,b,c){var d=this._findConvertTarget(a,b);return d.cartesian?d.cartesian.pointToData(c):d.axis?d.axis.coordToData(d.axis.toLocalCoord(c)):null},cu._findConvertTarget=function(a,b){var c,d,e=b.seriesModel,f=b.xAxisModel||e&&e.getReferringComponents("xAxis")[0],g=b.yAxisModel||e&&e.getReferringComponents("yAxis")[0],h=b.gridModel,j=this._coordsList;return e?i(j,c=e.coordinateSystem)<0&&(c=null):f&&g?c=this.getCartesian(f.componentIndex,g.componentIndex):f?d=this.getAxis("x",f.componentIndex):g?d=this.getAxis("y",g.componentIndex):h&&h.coordinateSystem===this&&(c=this._coordsList[0]),{cartesian:c,axis:d}},cu.containPoint=function(a){var b=this._coordsList[0];if(b)return b.containPoint(a)},cu._initCartesian=function(a,b,c){function d(c){return function(d,h){if(ji(d,a,b)){var i=d.get("position");"x"===c?"top"!==i&&"bottom"!==i&&e[i="bottom"]&&(i="top"===i?"bottom":"top"):"left"!==i&&"right"!==i&&e[i="left"]&&(i="left"===i?"right":"left"),e[i]=!0;var j=new Ut(c,yh(d),[0,0],d.get("type"),i),k="category"===j.type;j.onBand=k&&d.get("boundaryGap"),j.inverse=d.get("inverse"),j.onZero=d.get("axisLine.onZero"),j.onZeroAxisIndex=d.get("axisLine.onZeroAxisIndex"),d.axis=j,j.model=d,j.grid=this,j.index=h,this._axesList.push(j),f[c][h]=j,g[c]++}}}var e={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},g={x:0,y:0};if(b.eachComponent("xAxis",d("x"),this),b.eachComponent("yAxis",d("y"),this),!g.x||!g.y)return this._axesMap={},void (this._axesList=[]);this._axesMap=f,_t(f.x,function(b,c){_t(f.y,function(d,e){var f="x"+c+"y"+e,g=new hi(f);g.grid=this,g.model=a,this._coordsMap[f]=g,this._coordsList.push(g),g.addAxis(b),g.addAxis(d)},this)},this)},cu._updateScale=function(a,b){function c(a,b,c){_t(c.coordDimToDataDim(b.dim),function(c){b.scale.unionExtentFromData(a,c)})}m(this._axesList,function(a){a.scale.setExtent(1/0,-1/0)}),a.eachSeries(function(d){if(ri(d)){var e=qi(d),f=e[0],g=e[1];if(!ji(f,b,a)||!ji(g,b,a))return;var h=this.getCartesian(f.componentIndex,g.componentIndex),i=d.getData(),j=h.getAxis("x"),k=h.getAxis("y");"list"===i.type&&(c(i,j,d),c(i,k,d))}},this)},cu.getTooltipAxes=function(a){var b=[],c=[];return _t(this.getCartesians(),function(d){var e=null!=a&&"auto"!==a?d.getAxis(a):d.getBaseAxis(),f=d.getOtherAxis(e);i(b,e)<0&&b.push(e),i(c,f)<0&&c.push(f)}),{baseAxes:b,otherAxes:c}};var du=["xAxis","yAxis"];mi.create=function(a,b){var c=[];return a.eachComponent("grid",function(d,e){var f=new mi(d,a,b);f.name="grid_"+e,f.resize(d,b,!0),d.coordinateSystem=f,c.push(f)}),a.eachSeries(function(a){if(ri(a)){var b=qi(a),c=b[0],d=b[1],e=c.getCoordSysModel().coordinateSystem;a.coordinateSystem=e.getCartesian(c.componentIndex,d.componentIndex)}}),c},mi.dimensions=mi.prototype.dimensions=hi.prototype.dimensions,ag.register("cartesian2d",mi);var eu=Math.PI,fu=function(a,b){this.opt=b,this.axisModel=a,g(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Ao;var c=new Ao({position:b.position.slice(),rotation:b.rotation});c.updateTransform(),this._transform=c.transform,this._dumbGroup=c};fu.prototype={constructor:fu,hasBuilder:function(a){return!!gu[a]},add:function(a){gu[a].call(this)},getGroup:function(){return this.group}};var gu={axisLine:function(){var a=this.opt,b=this.axisModel;if(b.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),d=this._transform,e=[c[0],0],g=[c[1],0];d&&(W(e,e,d),W(g,g,d));var h=f({lineCap:"round"},b.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Tq(Qe({anid:"line",shape:{x1:e[0],y1:e[1],x2:g[0],y2:g[1]},style:h,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1})));var i=b.get("axisLine.symbol"),j=b.get("axisLine.symbolSize");if(null!=i){"string"==typeof i&&(i=[i,i]),"string"!=typeof j&&"number"!=typeof j||(j=[j,j]);var k=j[0],l=j[1];m([[a.rotation+Math.PI/2,e],[a.rotation-Math.PI/2,g]],function(a,b){if("none"!==i[b]&&null!=i[b]){var c=Eh(i[b],-k/2,-l/2,k,l,h.stroke,!0);c.attr({rotation:a[0],position:a[1],silent:!0}),this.group.add(c)}},this)}}},axisTickLabel:function(){var a=this.axisModel,b=this.opt,c=zi(this,a,b);vi(a,Ai(this,a,b),c)},axisName:function(){var a=this.opt,b=this.axisModel,c=z(a.axisName,b.get("name"));if(c){var d,e=b.get("nameLocation"),g=a.nameDirection,h=b.getModel("nameTextStyle"),i=b.get("nameGap")||0,j=this.axisModel.axis.getExtent(),k=j[0]>j[1]?-1:1,l=["start"===e?j[0]-k*i:"end"===e?j[1]+k*i:(j[0]+j[1])/2,yi(e)?a.labelOffset+g*i:0],m=b.get("nameRotate");null!=m&&(m=m*eu/180);var n;yi(e)?d=hu(a.rotation,null!=m?m:a.rotation,g):(d=ti(a,e,m||0,j),null!=(n=a.axisNameAvailableWidth)&&(n=Math.abs(n/Math.sin(d.rotation)),!isFinite(n)&&(n=null)));var o=h.getFont(),p=b.get("nameTruncate",!0)||{},q=p.ellipsis,r=z(a.nameTruncateMaxWidth,p.maxWidth,n),s=null!=q&&null!=r?wp(c,r,o,q,{minChar:2,placeholder:p.placeholder}):c,t=b.get("tooltip",!0),u=b.mainType,v={componentType:u,name:c,$vars:["name"]};v[u+"Index"]=b.componentIndex;var w=new Iq({anid:"name",__fullText:c,__truncatedText:s,position:l,rotation:d.rotation,silent:ui(b),z2:1,tooltip:t&&t.show?f({content:c,formatter:function(){return c},formatterParams:v},t):null});ff(w.style,h,{text:s,textFont:o,textFill:h.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:d.textAlign,textVerticalAlign:d.textVerticalAlign}),b.get("triggerEvent")&&(w.eventData=si(b),w.eventData.targetType="axisName",w.eventData.name=c),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},hu=fu.innerTextLayout=function(a,b,c){var d,e,f=Bd(b-a);return Cd(f)?(e=c>0?"top":"bottom",d="center"):Cd(f-eu)?(e=c>0?"bottom":"top",d="center"):(e="middle",d=f>0&&f<eu?c>0?"right":"left":c>0?"left":"right"),{rotation:f,textAlign:d,textVerticalAlign:e}},iu=fu.ifIgnoreOnTick=function(a,b,c,d,e,f){if(0===b&&e||b===d-1&&f)return!1;var g,h=a.scale;return"ordinal"===h.type&&("function"==typeof c?(g=h.getTicks()[b],!c(g,h.getLabel(g))):b%(c+1))},ju=fu.getInterval=function(a,b){var c=a.get("interval");return null!=c&&"auto"!=c||(c=b),c},ku=m,lu=r,mu=Zg({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(a,b,c,d){this.axisPointerClass&&Hi(a),mu.superApply(this,"render",arguments),Mi(this,a,0,c,0,!0)},updateAxisPointer:function(a,b,c,d,e){Mi(this,a,0,c,0,!1)},remove:function(a,b){var c=this._axisPointer;c&&c.remove(b),mu.superApply(this,"remove",arguments)},dispose:function(a,b){Ni(this,b),mu.superApply(this,"dispose",arguments)}}),nu=[];mu.registerAxisPointerClass=function(a,b){nu[a]=b},mu.getAxisPointerClass=function(a){return a&&nu[a]};var ou=fu.ifIgnoreOnTick,pu=fu.getInterval,qu=["axisLine","axisTickLabel","axisName"],ru=["splitArea","splitLine"],su=mu.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(a,b,c,d){this.group.removeAll();var e=this._axisGroup;if(this._axisGroup=new Ao,this.group.add(this._axisGroup),a.get("show")){var f=a.getCoordSysModel(),g=Oi(f,a),h=new fu(a,g);m(qu,h.add,h),this._axisGroup.add(h.getGroup()),m(ru,function(b){a.get(b+".show")&&this["_"+b](a,f,g.labelInterval)},this),uf(e,this._axisGroup,a),su.superCall(this,"render",a,b,c,d)}},_splitLine:function(a,b,c){var d=a.axis;if(!d.scale.isBlank()){var e=a.getModel("splitLine"),f=e.getModel("lineStyle"),h=f.get("color"),i=pu(e,c);h=s(h)?h:[h];for(var j=b.coordinateSystem.getRect(),k=d.isHorizontal(),l=0,m=d.getTicksCoords(),n=d.scale.getTicks(),o=a.get("axisLabel.showMinLabel"),p=a.get("axisLabel.showMaxLabel"),q=[],r=[],t=f.getLineStyle(),u=0;u<m.length;u++)if(!ou(d,u,i,m.length,o,p)){var v=d.toGlobalCoord(m[u]);k?(q[0]=v,q[1]=j.y,r[0]=v,r[1]=j.y+j.height):(q[0]=j.x,q[1]=v,r[0]=j.x+j.width,r[1]=v);var w=l++%h.length;this._axisGroup.add(new Tq(Qe({anid:"line_"+n[u],shape:{x1:q[0],y1:q[1],x2:r[0],y2:r[1]},style:g({stroke:h[w]},t),silent:!0})))}}},_splitArea:function(a,b,c){var d=a.axis;if(!d.scale.isBlank()){var e=a.getModel("splitArea"),f=e.getModel("areaStyle"),h=f.get("color"),i=b.coordinateSystem.getRect(),j=d.getTicksCoords(),k=d.scale.getTicks(),l=d.toGlobalCoord(j[0]),m=d.toGlobalCoord(j[0]),n=0,o=pu(e,c),p=f.getAreaStyle();h=s(h)?h:[h];for(var q=a.get("axisLabel.showMinLabel"),r=a.get("axisLabel.showMaxLabel"),t=1;t<j.length;t++)if(!ou(d,t,o,j.length,q,r)){var u,v,w,x,y=d.toGlobalCoord(j[t]);d.isHorizontal()?(u=l,v=i.y,w=y-u,x=i.height):(u=i.x,v=m,w=i.width,x=y-v);var z=n++%h.length;this._axisGroup.add(new Sq({anid:"area_"+k[t],shape:{x:u,y:v,width:w,height:x},style:g({fill:h[z]},p),silent:!0})),l=u+w,m=v+x}}}});su.extend({type:"xAxis"}),su.extend({type:"yAxis"}),Zg({type:"grid",render:function(a,b){this.group.removeAll(),a.get("show")&&this.group.add(new Sq({shape:a.coordinateSystem.getRect(),style:g({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),Sg(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),Wg(r(Pt,"line","circle","line")),Vg(r(Qt,"line")),Tg(js.PROCESSOR.STATISTIC,r(function(a,b,c){b.eachSeriesByType(a,function(a){var b=a.getData(),c=a.get("sampling"),d=a.coordinateSystem;if("cartesian2d"===d.type&&c){var e=d.getBaseAxis(),f=d.getOtherAxis(e),g=e.getExtent(),h=g[1]-g[0],i=Math.round(b.count()/h);if(i>1){var j;"string"==typeof c?j=Rt[c]:"function"==typeof c&&(j=c),j&&(b=b.downSample(f.dim,1/i,j,St),a.setData(b))}}},this)},"line"));var tu="__ec_stack_";Ti.getLayoutOnAxis=function(a,b){var c=[],d=a.axis;if("category"===d.type){for(var e=d.getBandWidth(),f=0;f<a.count;f++)c.push(g({bandWidth:e,axisKey:"axis0",stackId:tu+f},a));for(var h=Si(c),i=[],f=0;f<a.count;f++){var j=h.axis0[tu+f];j.offsetCenter=j.offset+j.width/2,i.push(j)}return i}},Xr.extend({type:"series.__base_bar__",getInitialData:function(a,b){return lh(a.data,this,b)},getMarkerPosition:function(a){var b=this.coordinateSystem;if(b){var c=b.dataToPoint(a,!0),d=this.getData(),e=d.getLayout("offset"),f=d.getLayout("size");return c[b.getBaseAxis().isHorizontal()?0:1]+=e+f/2,c}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{}}}).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});var uu=Cp([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),vu={getBarItemStyle:function(a){var b=uu(this,a);if(this.getBorderLineDash){var c=this.getBorderLineDash();c&&(b.lineDash=c)}return b}},wu=["itemStyle","normal","barBorderWidth"];f(xf.prototype,vu),_g({type:"bar",render:function(a,b,c){var d=a.get("coordinateSystem");return"cartesian2d"!==d&&"polar"!==d||this._render(a,b,c),this.group},dispose:J,_render:function(a,b,c){var d,e=this.group,f=a.getData(),g=this._data,h=a.coordinateSystem,i=h.getBaseAxis();"cartesian2d"===h.type?d=i.isHorizontal():"polar"===h.type&&(d="angle"===i.dim);var j=a.isAnimationEnabled()?a:null;f.diff(g).add(function(b){if(f.hasValue(b)){var c=f.getItemModel(b),g=yu[h.type](f,b,c),i=xu[h.type](f,b,c,g,d,j);f.setItemGraphicEl(b,i),e.add(i),Yi(i,f,b,c,g,a,d,"polar"===h.type)}}).update(function(b,c){var i=g.getItemGraphicEl(c);if(f.hasValue(b)){var k=f.getItemModel(b),l=yu[h.type](f,b,k);i?pf(i,{shape:l},j,b):i=xu[h.type](f,b,k,l,d,j,!0),f.setItemGraphicEl(b,i),e.add(i),Yi(i,f,b,k,l,a,d,"polar"===h.type)}else e.remove(i)}).remove(function(a){var b=g.getItemGraphicEl(a);"cartesian2d"===h.type?b&&Wi(a,j,b):b&&Xi(a,j,b)}).execute(),this._data=f},remove:function(a,b){var c=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(b){"sector"===b.type?Xi(b.dataIndex,a,b):Wi(b.dataIndex,a,b)}):c.removeAll()}});var xu={cartesian2d:function(a,b,c,d,e,g,h){var i=new Sq({shape:f({},d)});if(g){var j=i.shape,k=e?"height":"width",l={};j[k]=0,l[k]=d[k],dr[h?"updateProps":"initProps"](i,{shape:l},g,b)}return i},polar:function(a,b,c,d,e,g,h){var i=new Mq({shape:f({},d)});if(g){var j=i.shape,k=e?"r":"endAngle",l={};j[k]=e?0:d.startAngle,l[k]=d[k],dr[h?"updateProps":"initProps"](i,{shape:l},g,b)}return i}},yu={cartesian2d:function(a,b,c){var d=a.getItemLayout(b),e=Zi(c,d),f=d.width>0?1:-1,g=d.height>0?1:-1;return{x:d.x+f*e/2,y:d.y+g*e/2,width:d.width-f*e,height:d.height-g*e}},polar:function(a,b,c){var d=a.getItemLayout(b);return{cx:d.cx,cy:d.cy,r0:d.r0,r:d.r,startAngle:d.startAngle,endAngle:d.endAngle}}};Vg(r(Ti,"bar")),Wg(function(a){a.eachSeriesByType("bar",function(a){a.getData().setVisual("legendSymbol","roundRect")})});var zu={updateSelectedMap:function(a){this._targetList=a.slice(),this._selectTargetMap=o(a||[],function(a,b){return a.set(b.name,b),a},I())},select:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(a){a.selected=!1}),c&&(c.selected=!0)},unSelect:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);c&&(c.selected=!1)},toggleSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);if(null!=c)return this[c.selected?"unSelect":"select"](a,b),c.selected},isSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);return c&&c.selected}},Au=$g({type:"series.pie",init:function(a){Au.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(a.data),this._defaultLabelLine(a)},mergeOption:function(a){Au.superCall(this,"mergeOption",a),this.updateSelectedMap(this.option.data)},getInitialData:function(a,b){var c=hh(["value"],a.data),d=new Ks(c,this);return d.initData(a.data),d},getDataParams:function(a){var b=this.getData(),c=Au.superCall(this,"getDataParams",a),d=[];return b.each("value",function(a){d.push(a)}),c.percent=Ad(d,a,b.hostModel.get("percentPrecision")),c.$vars.push("percent"),c},_defaultLabelLine:function(a){Bf(a.labelLine,["show"]);var b=a.labelLine.normal,c=a.labelLine.emphasis;b.show=b.show&&a.label.normal.show,c.show=c.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});k(Au,zu);var Bu=aj.prototype;Bu.updateData=function(a,b,c){function d(){h.stopAnimation(!0),h.animateTo({shape:{r:k.r+i.get("hoverOffset")}},300,"elasticOut")}function e(){h.stopAnimation(!0),h.animateTo({shape:{r:k.r}},300,"elasticOut")}var h=this.childAt(0),i=a.hostModel,j=a.getItemModel(b),k=a.getItemLayout(b),l=f({},k);l.label=null,c?(h.setShape(l),"scale"===i.getShallow("animationType")?(h.shape.r=k.r0,qf(h,{shape:{r:k.r}},i,b)):(h.shape.endAngle=k.startAngle,pf(h,{shape:{endAngle:k.endAngle}},i,b))):pf(h,{shape:l},i,b);var m=j.getModel("itemStyle"),n=a.getItemVisual(b,"color");h.useStyle(g({lineJoin:"bevel",fill:n},m.getModel("normal").getItemStyle())),h.hoverStyle=m.getModel("emphasis").getItemStyle();var o=j.getShallow("cursor");o&&h.attr("cursor",o),_i(this,a.getItemLayout(b),j.get("selected"),i.get("selectedOffset"),i.get("animation")),h.off("mouseover").off("mouseout").off("emphasis").off("normal"),j.get("hoverAnimation")&&i.isAnimationEnabled()&&h.on("mouseover",d).on("mouseout",e).on("emphasis",d).on("normal",e),this._updateLabel(a,b),df(this)},Bu._updateLabel=function(a,b){var c=this.childAt(1),d=this.childAt(2),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b).label,h=a.getItemVisual(b,"color");pf(c,{shape:{points:g.linePoints||[[g.x,g.y],[g.x,g.y],[g.x,g.y]]}},e,b),pf(d,{style:{x:g.x,y:g.y}},e,b),d.attr({rotation:g.rotation,origin:[g.x,g.y],z2:10});var i=f.getModel("label.normal"),j=f.getModel("label.emphasis"),k=f.getModel("labelLine.normal"),l=f.getModel("labelLine.emphasis"),h=a.getItemVisual(b,"color");ef(d.style,d.hoverStyle={},i,j,{labelFetcher:a.hostModel,labelDataIndex:b,defaultText:a.getName(b),autoColor:h,useInsideStyle:!!g.inside},{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign,opacity:a.getItemVisual(b,"opacity")}),d.ignore=d.normalIgnore=!i.get("show"),d.hoverIgnore=!j.get("show"),c.ignore=c.normalIgnore=!k.get("show"),c.hoverIgnore=!l.get("show"),c.setStyle({stroke:h,opacity:a.getItemVisual(b,"opacity")}),c.setStyle(k.getModel("lineStyle").getLineStyle()),c.hoverStyle=l.getModel("lineStyle").getLineStyle();var m=k.get("smooth");m&&!0===m&&(m=.4),c.setShape({smooth:m})},j(aj,Ao),qg.extend({type:"pie",init:function(){var a=new Ao;this._sectorGroup=a},render:function(a,b,c,d){if(!d||d.from!==this.uid){var e=a.getData(),f=this._data,g=this.group,h=b.get("animation"),i=!f,j=a.get("animationType"),k=r($i,this.uid,a,h,c),l=a.get("selectedMode");if(e.diff(f).add(function(a){var b=new aj(e,a);i&&"scale"!==j&&b.eachChild(function(a){a.stopAnimation(!0)}),l&&b.on("click",k),e.setItemGraphicEl(a,b),g.add(b)}).update(function(a,b){var c=f.getItemGraphicEl(b);c.updateData(e,a),c.off("click"),l&&c.on("click",k),g.add(c),e.setItemGraphicEl(a,c)}).remove(function(a){var b=f.getItemGraphicEl(a);g.remove(b)}).execute(),h&&i&&e.count()>0&&"scale"!==j){var m=e.getItemLayout(0),n=Math.max(c.getWidth(),c.getHeight())/2,o=q(g.removeClipPath,g);g.setClipPath(this._createClipPath(m.cx,m.cy,n,m.startAngle,m.clockwise,o,a))}this._data=e}},dispose:function(){},_createClipPath:function(a,b,c,d,e,f,g){var h=new Mq({shape:{cx:a,cy:b,r0:0,r:c,startAngle:d,endAngle:d,clockwise:e}});return qf(h,{shape:{endAngle:d+(e?1:-1)*Math.PI*2}},g,f),h},containPoint:function(a,b){var c=b.getData().getItemLayout(0);if(c){var d=a[0]-c.cx,e=a[1]-c.cy,f=Math.sqrt(d*d+e*e);return f<=c.r&&f>=c.r0}}});var Cu=function(a,b,c,d){var e,f,g=a.getData(),h=[],i=!1;g.each(function(c){var d,j,k,l,m=g.getItemLayout(c),n=g.getItemModel(c),o=n.getModel("label.normal"),p=o.get("position")||n.get("label.emphasis.position"),q=n.getModel("labelLine.normal"),r=q.get("length"),s=q.get("length2"),t=(m.startAngle+m.endAngle)/2,u=Math.cos(t),v=Math.sin(t);e=m.cx,f=m.cy;var w="inside"===p||"inner"===p;if("center"===p)d=m.cx,j=m.cy,l="center";else{var x=(w?(m.r+m.r0)/2*u:m.r*u)+e,y=(w?(m.r+m.r0)/2*v:m.r*v)+f;if(d=x+3*u,j=y+3*v,!w){var z=x+u*(r+b-m.r),A=y+v*(r+b-m.r),B=z+(u<0?-1:1)*s,C=A;d=B+(u<0?-5:5),j=C,k=[[x,y],[z,A],[B,C]]}l=w?"center":u>0?"left":"right"}var D=o.getFont(),E=o.get("rotate")?u<0?-t+Math.PI:-t:0,F=jc(a.getFormattedLabel(c,"normal")||g.getName(c),D,l,"top");i=!!E,m.label={x:d,y:j,position:p,height:F.height,len:r,len2:s,linePoints:k,textAlign:l,verticalAlign:"middle",rotation:E,inside:w},w||h.push(m.label)}),!i&&a.get("avoidLabelOverlap")&&cj(h,e,f,b,c,d)},Du=2*Math.PI,Eu=Math.PI/180;!function(a,b){m(b,function(b){b.update="updateView",Ug(b,function(c,d){var e={};return d.eachComponent({mainType:"series",subType:a,query:c},function(a){a[b.method]&&a[b.method](c.name,c.dataIndex);var d=a.getData();d.each(function(b){var c=d.getName(b);e[c]=a.isSelected(c)||!1})}),{name:c.name,selected:e}})})}("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),Wg(r(function(a,b){var c={};b.eachRawSeriesByType(a,function(a){var d=a.getRawData(),e={};if(!b.isSeriesFiltered(a)){var f=a.getData();f.each(function(a){var b=f.getRawIndex(a);e[b]=a}),d.each(function(b){var g=e[b],h=null!=g&&f.getItemVisual(g,"color",!0);if(h)d.setItemVisual(b,"color",h);else{var i=d.getItemModel(b).get("itemStyle.normal.color")||a.getColorFromPalette(d.getName(b),c);d.setItemVisual(b,"color",i),null!=g&&f.setItemVisual(g,"color",i)}})}})},"pie")),Vg(r(function(a,b,c,d){b.eachSeriesByType(a,function(a){var b=a.get("center"),d=a.get("radius");s(d)||(d=[0,d]),s(b)||(b=[b,b]);var e=c.getWidth(),f=c.getHeight(),g=Math.min(e,f),h=ud(b[0],e),i=ud(b[1],f),j=ud(d[0],g/2),k=ud(d[1],g/2),l=a.getData(),m=-a.get("startAngle")*Eu,n=a.get("minAngle")*Eu,o=0;l.each("value",function(a){!isNaN(a)&&o++});var p=l.getSum("value"),q=Math.PI/(p||o)*2,r=a.get("clockwise"),t=a.get("roseType"),u=a.get("stillShowZeroSum"),v=l.getDataExtent("value");v[0]=0;var w=Du,x=0,y=m,z=r?1:-1;if(l.each("value",function(a,b){var c;if(isNaN(a))l.setItemLayout(b,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:r,cx:h,cy:i,r0:j,r:t?NaN:k});else{(c="area"!==t?0===p&&u?q:a*q:Du/o)<n?(c=n,w-=n):x+=a;var d=y+z*c;l.setItemLayout(b,{angle:c,startAngle:y,endAngle:d,clockwise:r,cx:h,cy:i,r0:j,r:t?td(a,v,[j,k]):k}),y=d}},!0),w<Du&&o)if(w<=.001){var A=Du/o;l.each("value",function(a,b){if(!isNaN(a)){var c=l.getItemLayout(b);c.angle=A,c.startAngle=m+z*b*A,c.endAngle=m+z*(b+1)*A}})}else q=w/x,y=m,l.each("value",function(a,b){if(!isNaN(a)){var c=l.getItemLayout(b),d=c.angle===n?n:a*q;c.startAngle=y,c.endAngle=y+z*d,y+=z*d}});Cu(a,k,e,f)})},"pie")),Tg(r(function(a,b){var c=b.findComponents({mainType:"legend"});c&&c.length&&b.eachSeriesByType(a,function(a){var b=a.getData();b.filterSelf(function(a){for(var d=b.getName(a),e=0;e<c.length;e++)if(!c[e].isSelected(d))return!1;return!0},this)},this)},"pie")),Xr.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,b){return lh(a.data,this,b)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}});var Fu=Le({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(a,b){for(var c=b.points,d=b.sizes,e=this.symbolProxy,f=e.shape,g=0;g<c.length;g++){var h=c[g];if(!isNaN(h[0])&&!isNaN(h[1])){var i=d[g];i[0]<4?a.rect(h[0]-i[0]/2,h[1]-i[1]/2,i[0],i[1]):(f.x=h[0]-i[0]/2,f.y=h[1]-i[1]/2,f.width=i[0],f.height=i[1],e.buildPath(a,f,!0))}}},findDataIndex:function(a,b){for(var c=this.shape,d=c.points,e=c.sizes,f=d.length-1;f>=0;f--){var g=d[f],h=e[f],i=g[0]-h[0]/2,j=g[1]-h[1]/2;if(a>=i&&b>=j&&a<=i+h[0]&&b<=j+h[1])return f}return-1}}),Gu=dj.prototype;Gu.updateData=function(a){this.group.removeAll();var b=this._symbolEl,c=a.hostModel;b.setShape({points:a.mapArray(a.getItemLayout),sizes:a.mapArray(function(b){var c=a.getItemVisual(b,"symbolSize");return c instanceof Array||(c=[c,c]),c})}),b.symbolProxy=Eh(a.getVisual("symbol"),0,0,0,0),b.setColor=b.symbolProxy.setColor,b.useStyle(c.getModel("itemStyle.normal").getItemStyle(["color"]));var d=a.getVisual("color");d&&b.setColor(d),b.seriesIndex=c.seriesIndex,b.on("mousemove",function(a){b.dataIndex=null;var c=b.findDataIndex(a.offsetX,a.offsetY);c>=0&&(b.dataIndex=c)}),this.group.add(b)},Gu.updateLayout=function(a){var b=a.getData();this._symbolEl.setShape({points:b.mapArray(b.getItemLayout)})},Gu.remove=function(){this.group.removeAll()},_g({type:"scatter",init:function(){this._normalSymbolDraw=new Qh,this._largeSymbolDraw=new dj},render:function(a,b,c){var d=a.getData(),e=this._largeSymbolDraw,f=this._normalSymbolDraw,g=this.group,h=a.get("large")&&d.count()>a.get("largeThreshold")?e:f;this._symbolDraw=h,h.updateData(d),g.add(h.group),g.remove(h===e?f.group:e.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b,!0)},dispose:function(){}}),Wg(r(Pt,"scatter","circle",null)),Vg(r(Qt,"scatter")),Sg(function(a){var b=a.graphic;s(b)?b[0]&&b[0].elements?a.graphic=[a.graphic[0]]:a.graphic=[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])});var Hu=Yg({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(a){var b=this.option.elements;this.option.elements=null,Hu.superApply(this,"mergeOption",arguments),this.option.elements=b},optionUpdated:function(a,b){var c=this.option,d=(b?c:a).elements,e=c.elements=b?[]:c.elements,f=[];this._flatten(d,f);var g=Ff(e,f);Gf(g);var h=this._elOptionsToUpdate=[];m(g,function(a,b){var c=a.option;c&&(h.push(c),ij(a,c),jj(e,b,c),kj(e[b],c))},this);for(var i=e.length-1;i>=0;i--)null==e[i]?e.splice(i,1):delete e[i].$action},_flatten:function(a,b,c){m(a,function(a){if(a){c&&(a.parentOption=c),b.push(a);var d=a.children;"group"===a.type&&d&&this._flatten(d,b,a),delete a.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a}});Zg({type:"graphic",init:function(a,b){this._elMap=I(),this._lastGraphicModel},render:function(a,b,c){a!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=a,this._updateElements(a,c),this._relocate(a,c)},_updateElements:function(a,b){var c=a.useElOptionsToUpdate();if(c){var d=this._elMap,e=this.group;m(c,function(a){var b=a.$action,c=a.id,f=d.get(c),g=a.parentId,h=null!=g?d.get(g):e;if("text"===a.type){var i=a.style;a.hv&&a.hv[1]&&(i.textVerticalAlign=i.textBaseline=null),!i.hasOwnProperty("textFill")&&i.fill&&(i.textFill=i.fill),!i.hasOwnProperty("textStroke")&&i.stroke&&(i.textStroke=i.stroke)}var j=gj(a);b&&"merge"!==b?"replace"===b?(fj(f,d),ej(c,h,j,d)):"remove"===b&&fj(f,d):f?f.attr(j):ej(c,h,j,d);var k=d.get(c);k&&(k.__ecGraphicWidth=a.width,k.__ecGraphicHeight=a.height)})}},_relocate:function(a,b){for(var c=a.option.elements,d=this.group,e=this._elMap,f=c.length-1;f>=0;f--){var g=c[f],h=e.get(g.id);if(h){var i=h.parent;Rf(h,g,i===d?{width:b.getWidth(),height:b.getHeight()}:{width:i.__ecGraphicWidth||0,height:i.__ecGraphicHeight||0},null,{hv:g.hv,boundingMode:g.bounding})}}},_clear:function(){var a=this._elMap;a.each(function(b){fj(b,a)}),this._elMap=I()},dispose:function(){this._clear()}});var Iu=function(a,b){var c,d=[],e=a.seriesIndex;if(null==e||!(c=b.getSeriesByIndex(e)))return{point:[]};var f=c.getData(),g=If(f,a);if(null==g||s(g))return{point:[]};var h=f.getItemGraphicEl(g),i=c.coordinateSystem;if(c.getTooltipPosition)d=c.getTooltipPosition(g)||[];else if(i&&i.dataToPoint)d=i.dataToPoint(f.getValues(n(i.dimensions,function(a){return c.coordDimToDataDim(a)[0]}),g,!0))||[];else if(h){var j=h.getBoundingRect().clone();j.applyTransform(h.transform),d=[j.x+j.width/2,j.y+j.height/2]}return{point:d,el:h}},Ju=m,Ku=r,Lu=nr(),Mu=(Yg({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),nr()),Nu=m,Ou=Zg({type:"axisPointer",render:function(a,b,c){var d=b.getComponent("tooltip"),e=a.get("triggerOn")||d&&d.get("triggerOn")||"mousemove|click";vj("axisPointer",c,function(a,b,c){"none"!==e&&("leave"===a||e.indexOf(a)>=0)&&c({type:"updateAxisPointer",currTrigger:a,x:b&&b.offsetX,y:b&&b.offsetY})})},remove:function(a,b){Bj(b.getZr(),"axisPointer"),Ou.superApply(this._model,"remove",arguments)},dispose:function(a,b){Bj("axisPointer",b),Ou.superApply(this._model,"dispose",arguments)}}),Pu=nr(),Qu=c,Ru=q;(Cj.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(a,b,c,d){var e=b.get("value"),f=b.get("status");if(this._axisModel=a,this._axisPointerModel=b,this._api=c,d||this._lastValue!==e||this._lastStatus!==f){this._lastValue=e,this._lastStatus=f;var g=this._group,h=this._handle;if(!f||"hide"===f)return g&&g.hide(),void (h&&h.hide());g&&g.show(),h&&h.show();var i={};this.makeElOption(i,e,a,b,c);var j=i.graphicKey;j!==this._lastGraphicKey&&this.clear(c),this._lastGraphicKey=j;var k=this._moveAnimation=this.determineAnimation(a,b);if(g){var l=r(Dj,b,k);this.updatePointerEl(g,i,l,b),this.updateLabelEl(g,i,l,b)}else g=this._group=new Ao,this.createPointerEl(g,i,a,b),this.createLabelEl(g,i,a,b),c.getZr().add(g);Hj(g,b,!0),this._renderHandle(e)}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(a,b){var c=b.get("animation"),d=a.axis,e="category"===d.type,f=b.get("snap");if(!f&&!e)return!1;if("auto"===c||null==c){var g=this.animationThreshold;if(e&&d.getBandWidth()>g)return!0;if(f){var h=Ii(a).seriesDataCount,i=d.getExtent();return Math.abs(i[0]-i[1])/h>g}return!1}return!0===c},makeElOption:function(a,b,c,d,e){},createPointerEl:function(a,b,c,d){var e=b.pointer;if(e){var f=Pu(a).pointerEl=new dr[e.type](Qu(b.pointer));a.add(f)}},createLabelEl:function(a,b,c,d){if(b.label){var e=Pu(a).labelEl=new Sq(Qu(b.label));a.add(e),Fj(e,d)}},updatePointerEl:function(a,b,c){var d=Pu(a).pointerEl;d&&(d.setStyle(b.pointer.style),c(d,{shape:b.pointer.shape}))},updateLabelEl:function(a,b,c,d){var e=Pu(a).labelEl;e&&(e.setStyle(b.label.style),c(e,{shape:b.label.shape,position:b.label.position}),Fj(e,d))},_renderHandle:function(a){if(!this._dragging&&this.updateHandleTransform){var b=this._axisPointerModel,c=this._api.getZr(),d=this._handle,e=b.getModel("handle"),f=b.get("status");if(!e.get("show")||!f||"hide"===f)return d&&c.remove(d),void (this._handle=null);var g;this._handle||(g=!0,d=this._handle=wf(e.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){ap(a.event)},onmousedown:Ru(this._onHandleDragMove,this,0,0),drift:Ru(this._onHandleDragMove,this),ondragend:Ru(this._onHandleDragEnd,this)}),c.add(d)),Hj(d,b,!1);var h=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];d.setStyle(e.getItemStyle(null,h));var i=e.get("size");s(i)||(i=[i,i]),d.attr("scale",[i[0]/2,i[1]/2]),ug(this,"_doDispatchAxisPointer",e.get("throttle")||0,"fixRate"),this._moveHandleToValue(a,g)}},_moveHandleToValue:function(a,b){Dj(this._axisPointerModel,!b&&this._moveAnimation,this._handle,Gj(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(a,b){var c=this._handle;if(c){this._dragging=!0;var d=this.updateHandleTransform(Gj(c),[a,b],this._axisModel,this._axisPointerModel);this._payloadInfo=d,c.stopAnimation(),c.attr(Gj(d)),Pu(c).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(a){if(this._dragging=!1,this._handle){var b=this._axisPointerModel.get("value");this._moveHandleToValue(b),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(a){this._lastValue=null,this._lastStatus=null;var b=a.getZr(),c=this._group,d=this._handle;b&&c&&(this._lastGraphicKey=null,c&&b.remove(c),d&&b.remove(d),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(a,b,c){return c=c||0,{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}}).constructor=Cj,Td(Cj);var Su=Cj.extend({makeElOption:function(a,b,c,d,e){var f=c.axis,g=f.grid,h=d.get("type"),i=Qj(g,f).getOtherAxis(f).getGlobalExtent(),j=f.toGlobalCoord(f.dataToCoord(b,!0));if(h&&"none"!==h){var k=Ij(d),l=Tu[h](f,j,i,k);l.style=k,a.graphicKey=l.type,a.pointer=l}Nj(b,a,Oi(g.model,c),c,d,e)},getHandleTransform:function(a,b,c){var d=Oi(b.axis.grid.model,b,{labelInside:!1});return d.labelMargin=c.get("handle.margin"),{position:Mj(b.axis,a,d),rotation:d.rotation+(d.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(a,b,c,d){var e=c.axis,f=e.grid,g=e.getGlobalExtent(!0),h=Qj(f,e).getOtherAxis(e).getGlobalExtent(),i="x"===e.dim?0:1,j=a.position;j[i]+=b[i],j[i]=Math.min(g[1],j[i]),j[i]=Math.max(g[0],j[i]);var k=(h[1]+h[0])/2,l=[k,k];l[i]=j[i];var m=[{verticalAlign:"middle"},{align:"center"}];return{position:j,rotation:a.rotation,cursorPoint:l,tooltipOption:m[i]}}}),Tu={line:function(a,b,c,d){var e=Oj([b,c[0]],[b,c[1]],Rj(a));return Qe({shape:e,style:d}),{type:"Line",shape:e}},shadow:function(a,b,c,d){var e=a.getBandWidth(),f=c[1]-c[0];return{type:"Rect",shape:Pj([b-e/2,c[0]],[e,f],Rj(a))}}};mu.registerAxisPointerClass("CartesianAxisPointer",Su),Sg(function(a){if(a){(!a.axisPointer||0===a.axisPointer.length)&&(a.axisPointer={});var b=a.axisPointer.link;b&&!s(b)&&(a.axisPointer.link=[b])}}),Tg(js.PROCESSOR.STATISTIC,function(a,b){a.getComponent("axisPointer").coordSysAxesInfo=Bi(a,b)}),Ug({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(a,b,c){var d=a.currTrigger,e=[a.x,a.y],f=a,g=a.dispatchAction||q(c.dispatchAction,c),h=b.getComponent("axisPointer").coordSysAxesInfo;if(h){uj(e)&&(e=Iu({seriesIndex:f.seriesIndex,dataIndex:f.dataIndex},b).point);var i=uj(e),j=f.axesInfo,k=h.axesInfo,l="leave"===d||uj(e),m={},n={},o={list:[],map:{}},p={showPointer:Ku(nj,n),showTooltip:Ku(oj,o)};Ju(h.coordSysMap,function(a,b){var c=i||a.containPoint(e);Ju(h.coordSysAxesInfo[b],function(a,b){var d=a.axis,f=sj(j,a);if(!l&&c&&(!j||f)){var g=f&&f.value;null!=g||i||(g=d.pointToData(e)),null!=g&&lj(a,g,p,!1,m)}})});var r={};return Ju(k,function(a,b){var c=a.linkGroup;c&&!n[b]&&Ju(c.axesInfo,function(b,d){var e=n[d];if(b!==a&&e){var f=e.value;c.mapper&&(f=a.axis.scale.parse(c.mapper(f,tj(b),tj(a)))),r[a.key]=f}})}),Ju(r,function(a,b){lj(k[b],a,p,!0,m)}),pj(n,k,m),qj(o,e,a,g),rj(k,0,c),m}}),Yg({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var Uu=m,Vu=Id,Wu=["","-webkit-","-moz-","-o-"];Vj.prototype={constructor:Vj,_enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),c=a.style;"absolute"!==c.position&&"absolute"!==b.position&&(c.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var b=this.el;b.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+Uj(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||""),b.style.display=b.innerHTML?"block":"none",this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(a,b){var c,d=this._zr;d&&d.painter&&(c=d.painter.getViewportRootOffset())&&(a+=c.offsetLeft,b+=c.offsetTop);var e=this.el.style;e.left=a+"px",e.top=b+"px",this._x=a,this._y=b},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(q(this.hide,this),a)):this.hide())},isShow:function(){return this._show}};var Xu=q,Yu=m,Zu=ud,$u=new Sq({shape:{x:-1,y:-1,width:2,height:2}});Zg({type:"tooltip",init:function(a,b){if(!xn.node){var c=new Vj(b.getDom(),b);this._tooltipContent=c}},render:function(a,b,c){if(!xn.node){this.group.removeAll(),this._tooltipModel=a,this._ecModel=b,this._api=c,this._lastDataByCoordSys=null,this._alwaysShowContent=a.get("alwaysShowContent");var d=this._tooltipContent;d.update(),d.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var a=this._tooltipModel.get("triggerOn");vj("itemTooltip",this._api,Xu(function(b,c,d){"none"!==a&&(a.indexOf(b)>=0?this._tryShow(c,d):"leave"===b&&this._hide(d))},this))},_keepShow:function(){var a=this._tooltipModel,b=this._ecModel,c=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==a.get("triggerOn")){var d=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){d.manuallyShowTip(a,b,c,{x:d._lastX,y:d._lastY})})}},manuallyShowTip:function(a,b,c,d){if(d.from!==this.uid&&!xn.node){var e=Xj(d,c);this._ticket="";var f=d.dataByCoordSys;if(d.tooltip&&null!=d.x&&null!=d.y){var g=$u;g.position=[d.x,d.y],g.update(),g.tooltip=d.tooltip,this._tryShow({offsetX:d.x,offsetY:d.y,target:g},e)}else if(f)this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,event:{},dataByCoordSys:d.dataByCoordSys,tooltipOption:d.tooltipOption},e);else if(null!=d.seriesIndex){if(this._manuallyAxisShowTip(a,b,c,d))return;var h=Iu(d,b),i=h.point[0],j=h.point[1];null!=i&&null!=j&&this._tryShow({offsetX:i,offsetY:j,position:d.position,target:h.el,event:{}},e)}else null!=d.x&&null!=d.y&&(c.dispatchAction({type:"updateAxisPointer",x:d.x,y:d.y}),this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,target:c.getZr().findHover(d.x,d.y).target,event:{}},e))}},manuallyHideTip:function(a,b,c,d){var e=this._tooltipContent;this._alwaysShowContent||e.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,d.from!==this.uid&&this._hide(Xj(d,c))},_manuallyAxisShowTip:function(a,b,c,d){var e=d.seriesIndex,f=d.dataIndex,g=b.getComponent("axisPointer").coordSysAxesInfo;if(null!=e&&null!=f&&null!=g){var h=b.getSeriesByIndex(e);if(h&&"axis"===(a=Wj([h.getData().getItemModel(f),h,(h.coordinateSystem||{}).model,a])).get("trigger"))return c.dispatchAction({type:"updateAxisPointer",seriesIndex:e,dataIndex:f,position:d.position}),!0}},_tryShow:function(a,b){var c=a.target;if(this._tooltipModel){this._lastX=a.offsetX,this._lastY=a.offsetY;var d=a.dataByCoordSys;d&&d.length?this._showAxisTooltip(d,a):c&&null!=c.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(a,c,b)):c&&c.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(a,c,b)):(this._lastDataByCoordSys=null,this._hide(b))}},_showOrMove:function(a,b){var c=a.get("showDelay");b=q(b,this),clearTimeout(this._showTimout),c>0?this._showTimout=setTimeout(b,c):b()},_showAxisTooltip:function(a,b){var c=this._ecModel,d=this._tooltipModel,e=[b.offsetX,b.offsetY],f=[],g=[],h=Wj([b.tooltipOption,d]);Yu(a,function(a){Yu(a.dataByAxis,function(a){var b=c.getComponent(a.axisDim+"Axis",a.axisIndex),d=a.value,e=[];if(b&&null!=d){var h=Lj(d,b.axis,c,a.seriesDataIndices,a.valueLabelOpt);m(a.seriesDataIndices,function(f){var i=c.getSeriesByIndex(f.seriesIndex),j=f.dataIndexInside,k=i&&i.getDataParams(j);k.axisDim=a.axisDim,k.axisIndex=a.axisIndex,k.axisType=a.axisType,k.axisId=a.axisId,k.axisValue=Bh(b.axis,d),k.axisValueLabel=h,k&&(g.push(k),e.push(i.formatTooltip(j,!0)))});var i=h;f.push((i?Jd(i)+"<br />":"")+e.join("<br />"))}})},this),f.reverse(),f=f.join("<br /><br />");var i=b.position;this._showOrMove(h,function(){this._updateContentNotChangedOnAxis(a)?this._updatePosition(h,i,e[0],e[1],this._tooltipContent,g):this._showTooltipContent(h,f,g,Math.random(),e[0],e[1],i)})},_showSeriesItemTooltip:function(a,b,c){var d=this._ecModel,e=b.seriesIndex,f=d.getSeriesByIndex(e),g=b.dataModel||f,h=b.dataIndex,i=b.dataType,j=g.getData(),k=Wj([j.getItemModel(h),g,f&&(f.coordinateSystem||{}).model,this._tooltipModel]),l=k.get("trigger");if(null==l||"item"===l){var m=g.getDataParams(h,i),n=g.formatTooltip(h,!1,i),o="item_"+g.name+"_"+h;this._showOrMove(k,function(){this._showTooltipContent(k,n,m,o,a.offsetX,a.offsetY,a.position,a.target)}),c({type:"showTip",dataIndexInside:h,dataIndex:j.getRawIndex(h),seriesIndex:e,from:this.uid})}},_showComponentItemTooltip:function(a,b,c){var d=b.tooltip;if("string"==typeof d){var e=d;d={content:e,formatter:e}}var f=new xf(d,this._tooltipModel,this._ecModel),g=f.get("content"),h=Math.random();this._showOrMove(f,function(){this._showTooltipContent(f,g,f.get("formatterParams")||{},h,a.offsetX,a.offsetY,a.position,b)}),c({type:"showTip",from:this.uid})},_showTooltipContent:function(a,b,c,d,e,f,g,h){if(this._ticket="",a.get("showContent")&&a.get("show")){var i=this._tooltipContent,j=a.get("formatter");g=g||a.get("position");var k=b;if(j&&"string"==typeof j)k=Kd(j,c,!0);else if("function"==typeof j){var l=Xu(function(b,d){b===this._ticket&&(i.setContent(d),this._updatePosition(a,g,e,f,i,c,h))},this);this._ticket=d,k=j(c,d,l)}i.setContent(k),i.show(a),this._updatePosition(a,g,e,f,i,c,h)}},_updatePosition:function(a,b,c,d,e,f,g){var h=this._api.getWidth(),i=this._api.getHeight();b=b||a.get("position");var j=e.getSize(),k=a.get("align"),l=a.get("verticalAlign"),m=g&&g.getBoundingRect().clone();if(g&&m.applyTransform(g.transform),"function"==typeof b&&(b=b([c,d],f,e.el,m,{viewSize:[h,i],contentSize:j.slice()})),s(b))c=Zu(b[0],h),d=Zu(b[1],i);else if(v(b)){b.width=j[0],b.height=j[1];var n=Qf(b,{width:h,height:i});c=n.x,d=n.y,k=null,l=null}else"string"==typeof b&&g?(c=(o=_j(b,m,j))[0],d=o[1]):(c=(o=Yj(c,d,e.el,h,i,k?null:20,l?null:20))[0],d=o[1]);if(k&&(c-=ak(k)?j[0]/2:"right"===k?j[0]:0),l&&(d-=ak(l)?j[1]/2:"bottom"===l?j[1]:0),a.get("confine")){var o=Zj(c,d,e.el,h,i);c=o[0],d=o[1]}e.moveTo(c,d)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,c=!!b&&b.length===a.length;return c&&Yu(b,function(b,d){var e=b.dataByAxis||{},f=(a[d]||{}).dataByAxis||[];(c&=e.length===f.length)&&Yu(e,function(a,b){var d=f[b]||{},e=a.seriesDataIndices||[],g=d.seriesDataIndices||[];(c&=a.value===d.value&&a.axisType===d.axisType&&a.axisId===d.axisId&&e.length===g.length)&&Yu(e,function(a,b){var d=g[b];c&=a.seriesIndex===d.seriesIndex&&a.dataIndex===d.dataIndex})})}),this._lastDataByCoordSys=a,!!c},_hide:function(a){this._lastDataByCoordSys=null,a({type:"hideTip",from:this.uid})},dispose:function(a,b){xn.node||(this._tooltipContent.hide(),Bj("itemTooltip",b))}}),Ug({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),Ug({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var _u=Yg({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,b,c){this.mergeDefaultAndTheme(a,c),a.selected=a.selected||{}},mergeOption:function(a){_u.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var b=!1,c=0;c<a.length;c++){var d=a[c].get("name");if(this.isSelected(d)){this.select(d),b=!0;break}}!b&&this.select(a[0].get("name"))}},_updateData:function(a){var b=n(this.get("data")||[],function(a){return"string"!=typeof a&&"number"!=typeof a||(a={name:a}),new xf(a,this,this.ecModel)},this);this._data=b;var c=n(a.getSeries(),function(a){return a.name});a.eachSeries(function(a){if(a.legendDataProvider){var b=a.legendDataProvider();c=c.concat(b.mapArray(b.getName))}}),this._availableNames=c},getData:function(){return this._data},select:function(a){var b=this.option.selected;"single"===this.get("selectedMode")&&m(this._data,function(a){b[a.get("name")]=!1}),b[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0),this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var b=this.option.selected;return(!b.hasOwnProperty(a)||!!b[a])&&i(this._availableNames,a)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});Ug("legendToggleSelect","legendselectchanged",r(bk,"toggleSelected")),Ug("legendSelect","legendselected",r(bk,"select")),Ug("legendUnSelect","legendunselected",r(bk,"unSelect"));var av=r,bv=m,cv=Ao,dv=Zg({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new cv),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(a,b,c){if(this.resetInner(),a.get("show",!0)){var d=a.get("align");d&&"auto"!==d||(d="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left"),this.renderInner(d,a,b,c);var e=a.getBoxLayoutParams(),f={width:c.getWidth(),height:c.getHeight()},h=a.get("padding"),i=Qf(e,f,h),j=this.layoutInner(a,d,i),k=Qf(g({width:j.width,height:j.height},e),f,h);this.group.attr("position",[k.x-j.x,k.y-j.y]),this.group.add(this._backgroundEl=dk(j,a))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(a,b,c,d){var e=this.getContentGroup(),f=I(),g=b.get("selectedMode");bv(b.getData(),function(h,i){var j=h.get("name");if(this.newlineDisabled||""!==j&&"\n"!==j){var k=c.getSeriesByName(j)[0];if(!f.get(j))if(k){var l=k.getData(),m=l.getVisual("color");"function"==typeof m&&(m=m(k.getDataParams(0)));var n=l.getVisual("legendSymbol")||"roundRect",o=l.getVisual("symbol");this._createItem(j,i,h,b,n,o,a,m,g).on("click",av(ek,j,d)).on("mouseover",av(fk,k,null,d)).on("mouseout",av(gk,k,null,d)),f.set(j,!0)}else c.eachRawSeries(function(c){if(!f.get(j)&&c.legendDataProvider){var e=c.legendDataProvider(),k=e.indexOfName(j);if(k<0)return;var l=e.getItemVisual(k,"color");this._createItem(j,i,h,b,"roundRect",null,a,l,g).on("click",av(ek,j,d)).on("mouseover",av(fk,c,j,d)).on("mouseout",av(gk,c,j,d)),f.set(j,!0)}},this)}else e.add(new cv({newline:!0}))},this)},_createItem:function(a,b,c,d,e,g,h,i,j){var k=d.get("itemWidth"),l=d.get("itemHeight"),m=d.get("inactiveColor"),n=d.isSelected(a),o=new cv,p=c.getModel("textStyle"),q=c.get("icon"),r=c.getModel("tooltip"),s=r.parentModel;if(e=q||e,o.add(Eh(e,0,0,k,l,n?i:m,!0)),!q&&g&&(g!==e||"none"==g)){var t=.8*l;"none"===g&&(g="circle"),o.add(Eh(g,(k-t)/2,(l-t)/2,t,t,n?i:m))}var u="left"===h?k+5:-5,v=h,w=d.get("formatter"),x=a;"string"==typeof w&&w?x=w.replace("{name}",null!=a?a:""):"function"==typeof w&&(x=w(a)),o.add(new Iq({style:ff({},p,{text:x,x:u,y:l/2,textFill:n?p.getTextColor():m,textAlign:v,textVerticalAlign:"middle"})}));var y=new Sq({shape:o.getBoundingRect(),invisible:!0,tooltip:r.get("show")?f({content:a,formatter:s.get("formatter",!0)||function(){return a},formatterParams:{componentType:"legend",legendIndex:d.componentIndex,name:a,$vars:["name"]}},r.option):null});return o.add(y),o.eachChild(function(a){a.silent=!0}),y.silent=!j,this.getContentGroup().add(o),df(o),o.__legendDataIndex=b,o},layoutInner:function(a,b,c){var d=this.getContentGroup();tr(a.get("orient"),d,a.get("itemGap"),c.width,c.height);var e=d.getBoundingRect();return d.attr("position",[-e.x,-e.y]),this.group.getBoundingRect()}});Tg(function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(a){for(var c=0;c<b.length;c++)if(!b[c].isSelected(a.name))return!1;return!0})}),wr.registerSubTypeDefaulter("legend",function(){return"plain"});var ev=_u.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(a,b,c,d){var e=Tf(a);ev.superCall(this,"init",a,b,c,d),hk(this,a,e)},mergeOption:function(a,b){ev.superCall(this,"mergeOption",a,b),hk(this,this.option,a)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),fv=Ao,gv=["width","height"],hv=["x","y"],iv=dv.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){iv.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new fv),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new fv),this._showController},resetInner:function(){iv.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(a,b,c,d){function e(a,c){var e=a+"DataIndex",i=wf(b.get("pageIcons",!0)[b.getOrient().name][c],{onclick:q(f._pageGo,f,e,b,d)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});i.name=a,g.add(i)}var f=this;iv.superCall(this,"renderInner",a,b,c,d);var g=this._controllerGroup,h=b.get("pageIconSize",!0);s(h)||(h=[h,h]),e("pagePrev",0);var i=b.getModel("pageTextStyle");g.add(new Iq({name:"pageText",style:{textFill:i.getTextColor(),font:i.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),e("pageNext",1)},layoutInner:function(a,b,c){var d=this.getContentGroup(),e=this._containerGroup,f=this._controllerGroup,g=a.getOrient().index,h=gv[g],i=gv[1-g],j=hv[1-g];tr(a.get("orient"),d,a.get("itemGap"),g?c.width:null,g?null:c.height),tr("horizontal",f,a.get("pageButtonItemGap",!0));var k=d.getBoundingRect(),l=f.getBoundingRect(),m=this._showController=k[h]>c[h],n=[-k.x,-k.y];n[g]=d.position[g];var o=[0,0],p=[-l.x,-l.y],q=A(a.get("pageButtonGap",!0),a.get("itemGap",!0));m&&("end"===a.get("pageButtonPosition",!0)?p[g]+=c[h]-l[h]:o[g]+=l[h]+q),p[1-g]+=k[i]/2-l[i]/2,d.attr("position",n),e.attr("position",o),f.attr("position",p);var r=this.group.getBoundingRect();if((r={x:0,y:0})[h]=m?c[h]:k[h],r[i]=Math.max(k[i],l[i]),r[j]=Math.min(0,l[j]+p[1-g]),e.__rectSize=c[h],m){var s={x:0,y:0};s[h]=Math.max(c[h]-l[h]-q,0),s[i]=r[i],e.setClipPath(new Sq({shape:s})),e.__rectSize=s[h]}else f.eachChild(function(a){a.attr({invisible:!0,silent:!0})});var t=this._getPageInfo(a);return null!=t.pageIndex&&pf(d,{position:t.contentPosition},!!m&&a),this._updatePageInfoView(a,t),r},_pageGo:function(a,b,c){var d=this._getPageInfo(b)[a];null!=d&&c.dispatchAction({type:"legendScroll",scrollDataIndex:d,legendId:b.id})},_updatePageInfoView:function(a,b){var c=this._controllerGroup;m(["pagePrev","pageNext"],function(d){var e=null!=b[d+"DataIndex"],f=c.childOfName(d);f&&(f.setStyle("fill",e?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),f.cursor=e?"pointer":"default")});var d=c.childOfName("pageText"),e=a.get("pageFormatter"),f=b.pageIndex,g=null!=f?f+1:0,h=b.pageCount;d&&e&&d.setStyle("text",u(e)?e.replace("{current}",g).replace("{total}",h):e({current:g,total:h}))},_getPageInfo:function(a){function b(a){var b=a.getBoundingRect().clone();return b[n]+=a.position[k],b}var c,d,e,f,g=a.get("scrollDataIndex",!0),h=this.getContentGroup(),i=h.getBoundingRect(),j=this._containerGroup.__rectSize,k=a.getOrient().index,l=gv[k],m=gv[1-k],n=hv[k],o=h.position.slice();this._showController?h.eachChild(function(a){a.__legendDataIndex===g&&(f=a)}):f=h.childAt(0);var p=j?Math.ceil(i[l]/j):0;if(f){var q=f.getBoundingRect(),r=f.position[k]+q[n];o[k]=-r-i[n],c=Math.floor(p*(r+q[n]+j/2)/i[l]),c=i[l]&&p?Math.max(0,Math.min(p-1,c)):-1;var s={x:0,y:0};s[l]=j,s[m]=i[m],s[n]=-o[k]-i[n];var t,u=h.children();if(h.eachChild(function(a,c){var d=b(a);d.intersect(s)&&(null==t&&(t=c),e=a.__legendDataIndex),c===u.length-1&&d[n]+d[l]<=s[n]+s[l]&&(e=null)}),null!=t){var v=b(u[t]);if(s[n]=v[n]+v[l]-s[l],t<=0&&v[n]>=s[n])d=null;else{for(;t>0&&b(u[t-1]).intersect(s);)t--;d=u[t].__legendDataIndex}}}return{contentPosition:o,pageIndex:c,pageCount:p,pagePrevDataIndex:d,pageNextDataIndex:e}}});Ug("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;null!=c&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(a){a.setScrollDataIndex(c)})}),Yg({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),Zg({type:"title",render:function(a,b,c){if(this.group.removeAll(),a.get("show")){var d=this.group,e=a.getModel("textStyle"),f=a.getModel("subtextStyle"),g=a.get("textAlign"),h=a.get("textBaseline"),i=new Iq({style:ff({},e,{text:a.get("text"),textFill:e.getTextColor()},{disableBox:!0}),z2:10}),j=i.getBoundingRect(),k=a.get("subtext"),l=new Iq({style:ff({},f,{text:k,textFill:f.getTextColor(),y:j.height+a.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),m=a.get("link"),n=a.get("sublink");i.silent=!m,l.silent=!n,m&&i.on("click",function(){window.open(m,"_"+a.get("target"))}),n&&l.on("click",function(){window.open(n,"_"+a.get("subtarget"))}),d.add(i),k&&d.add(l);var o=d.getBoundingRect(),p=a.getBoxLayoutParams();p.width=o.width,p.height=o.height;var q=Qf(p,{width:c.getWidth(),height:c.getHeight()},a.get("padding"));g||("middle"===(g=a.get("left")||a.get("right"))&&(g="center"),"right"===g?q.x+=q.width:"center"===g&&(q.x+=q.width/2)),h||("center"===(h=a.get("top")||a.get("bottom"))&&(h="middle"),"bottom"===h?q.y+=q.height:"middle"===h&&(q.y+=q.height/2),h=h||"top"),d.attr("position",[q.x,q.y]);var r={textAlign:g,textVerticalAlign:h};i.setStyle(r),l.setStyle(r),o=d.getBoundingRect();var s=q.margin,t=a.getItemStyle(["color","opacity"]);t.fill=a.get("backgroundColor");var u=new Sq({shape:{x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],r:a.get("borderRadius")},style:t,silent:!0});Re(u),d.add(u)}}});var jv=Hd,kv=Jd,lv=Yg({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c),this.mergeOption(a,c,d.createdBySelf,!0)},isAnimationEnabled:function(){if(xn.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(a,b,c,d){var e=this.constructor,g=this.mainType+"Model";c||b.eachSeries(function(a){var c=a.get(this.mainType),h=a[g];c&&c.data?(h?h.mergeOption(c,b,!0):(d&&ik(c),m(c.data,function(a){a instanceof Array?(ik(a[0]),ik(a[1])):ik(a)}),f(h=new e(c,this,b),{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),h.__hostSeries=a),a[g]=h):a[g]=null},this)},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),d=s(c)?n(c,jv).join(", "):jv(c),e=b.getName(a),f=kv(this.name);return(null!=c||e)&&(f+="<br />"),e&&(f+=kv(e),null!=c&&(f+=" : ")),null!=c&&(f+=kv(d)),f},getData:function(){return this._data},setData:function(a){this._data=a}});k(lv,mr),lv.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}});var mv=i,nv=r,ov={min:nv(mk,"min"),max:nv(mk,"max"),average:nv(mk,"average")},pv=Zg({type:"marker",init:function(){this.markerGroupMap=I()},render:function(a,b,c){var d=this.markerGroupMap;d.each(function(a){a.__keep=!1});var e=this.type+"Model";b.eachSeries(function(a){var d=a[e];d&&this.renderSeries(a,d,b,c)},this),d.each(function(a){!a.__keep&&this.group.remove(a.group)},this)},renderSeries:function(){}});pv.extend({type:"markPoint",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markPointModel;b&&(sk(b.getData(),a,c),this.markerGroupMap.get(a.id).updateLayout(b))},this)},renderSeries:function(a,b,c,d){var e=a.coordinateSystem,f=a.id,g=a.getData(),h=this.markerGroupMap,i=h.get(f)||h.set(f,new Qh),j=tk(e,a,b);b.setData(j),sk(b.getData(),a,d),j.each(function(a){var c=j.getItemModel(a),d=c.getShallow("symbolSize");"function"==typeof d&&(d=d(b.getRawValue(a),b.getDataParams(a))),j.setItemVisual(a,{symbolSize:d,color:c.get("itemStyle.normal.color")||g.getVisual("color"),symbol:c.getShallow("symbol")})}),i.updateData(j),this.group.add(i.group),j.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=b})}),i.__keep=!0,i.group.silent=b.get("silent")||a.get("silent")}}),Sg(function(a){a.markPoint=a.markPoint||{}}),lv.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});var qv=Tq.prototype,rv=Vq.prototype,sv=Le({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){(uk(b)?qv:rv).buildPath(a,b)},pointAt:function(a){return uk(this.shape)?qv.pointAt.call(this,a):rv.pointAt.call(this,a)},tangentAt:function(a){var b=this.shape,c=uk(b)?[b.x2-b.x1,b.y2-b.y1]:rv.tangentAt.call(this,a);return T(c,c)}}),tv=["fromSymbol","toSymbol"],uv=zk.prototype;uv.beforeUpdate=function(){var a=this,b=a.childOfName("fromSymbol"),c=a.childOfName("toSymbol"),d=a.childOfName("label");if(b||c||!d.ignore){for(var e=1,f=this.parent;f;)f.scale&&(e/=f.scale[0]),f=f.parent;var g=a.childOfName("line");if(this.__dirty||g.__dirty){var h=g.shape.percent,i=g.pointAt(0),j=g.pointAt(h),k=P([],j,i);if(T(k,k),b&&(b.attr("position",i),l=g.tangentAt(0),b.attr("rotation",Math.PI/2-Math.atan2(l[1],l[0])),b.attr("scale",[e*h,e*h])),c){c.attr("position",j);var l=g.tangentAt(1);c.attr("rotation",-Math.PI/2-Math.atan2(l[1],l[0])),c.attr("scale",[e*h,e*h])}if(!d.ignore){d.attr("position",j);var m,n,o,p=5*e;if("end"===d.__position)m=[k[0]*p+j[0],k[1]*p+j[1]],n=k[0]>.8?"left":k[0]<-0.8?"right":"center",o=k[1]>.8?"top":k[1]<-0.8?"bottom":"middle";else if("middle"===d.__position){var q=h/2,r=[(l=g.tangentAt(q))[1],-l[0]],s=g.pointAt(q);r[1]>0&&(r[0]=-r[0],r[1]=-r[1]),m=[s[0]+r[0]*p,s[1]+r[1]*p],n="center",o="bottom";var t=-Math.atan2(l[1],l[0]);j[0]<i[0]&&(t=Math.PI+t),d.attr("rotation",t)}else m=[-k[0]*p+i[0],-k[1]*p+i[1]],n=k[0]>.8?"right":k[0]<-0.8?"left":"center",o=k[1]>.8?"bottom":k[1]<-0.8?"top":"middle";d.attr({style:{textVerticalAlign:d.__verticalAlign||o,textAlign:d.__textAlign||n},position:m,scale:[e,e]})}}}},uv._createLine=function(a,b,c){var d=a.hostModel,e=xk(a.getItemLayout(b));e.shape.percent=0,qf(e,{shape:{percent:1}},d,b),this.add(e);var f=new Iq({name:"label"});this.add(f),m(tv,function(c){var d=wk(c,a,b);this.add(d),this[vk(c)]=a.getItemVisual(b,c)},this),this._updateCommonStl(a,b,c)},uv.updateData=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=a.getItemLayout(b),g={shape:{}};yk(g.shape,f),pf(e,g,d,b),m(tv,function(c){var d=a.getItemVisual(b,c),e=vk(c);if(this[e]!==d){this.remove(this.childOfName(c));var f=wk(c,a,b);this.add(f)}this[e]=d},this),this._updateCommonStl(a,b,c)},uv._updateCommonStl=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=c&&c.lineStyle,h=c&&c.hoverLineStyle,i=c&&c.labelModel,j=c&&c.hoverLabelModel;if(!c||a.hasItemOption){var k=a.getItemModel(b);f=k.getModel("lineStyle.normal").getLineStyle(),h=k.getModel("lineStyle.emphasis").getLineStyle(),i=k.getModel("label.normal"),j=k.getModel("label.emphasis")}var l=a.getItemVisual(b,"color"),n=B(a.getItemVisual(b,"opacity"),f.opacity,1);e.useStyle(g({strokeNoScale:!0,fill:"none",stroke:l,opacity:n},f)),e.hoverStyle=h,m(tv,function(a){var b=this.childOfName(a);b&&(b.setColor(l),b.setStyle({opacity:n}))},this);var o,p,q,r,s=i.getShallow("show"),t=j.getShallow("show"),u=this.childOfName("label");if(s||t){var v=d.getRawValue(b);p=null==v?p=a.getName(b):isFinite(v)?vd(v):v,o=l||"#000",q=A(d.getFormattedLabel(b,"normal",a.dataType),p),r=A(d.getFormattedLabel(b,"emphasis",a.dataType),q)}if(s){var w=ff(u.style,i,{text:q},{autoColor:o});u.__textAlign=w.textAlign,u.__verticalAlign=w.textVerticalAlign,u.__position=i.get("position")||"middle"}else u.setStyle("text",null);u.hoverStyle=t?{text:r,textFill:j.getTextColor(!0),fontStyle:j.getShallow("fontStyle"),fontWeight:j.getShallow("fontWeight"),fontSize:j.getShallow("fontSize"),fontFamily:j.getShallow("fontFamily")}:{text:null},u.ignore=!s&&!t,df(this)},uv.highlight=function(){this.trigger("emphasis")},uv.downplay=function(){this.trigger("normal")},uv.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))},uv.setLinePoints=function(a){var b=this.childOfName("line");yk(b.shape,a),b.dirty()},j(zk,Ao);var vv=Ck.prototype;vv.updateData=function(a){var b=this._lineData,c=this.group,d=this._ctor,e=a.hostModel,f={lineStyle:e.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:e.getModel("lineStyle.emphasis").getLineStyle(),labelModel:e.getModel("label.normal"),hoverLabelModel:e.getModel("label.emphasis")};a.diff(b).add(function(b){if(Bk(a.getItemLayout(b))){var e=new d(a,b,f);a.setItemGraphicEl(b,e),c.add(e)}}).update(function(e,g){var h=b.getItemGraphicEl(g);Bk(a.getItemLayout(e))?(h?h.updateData(a,e,f):h=new d(a,e,f),a.setItemGraphicEl(e,h),c.add(h)):c.remove(h)}).remove(function(a){c.remove(b.getItemGraphicEl(a))}).execute(),this._lineData=a},vv.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)},vv.remove=function(){this.group.removeAll()};var wv=function(a,b,e,g){var h=a.getData(),i=g.type;if(!s(g)&&("min"===i||"max"===i||"average"===i||null!=g.xAxis||null!=g.yAxis)){var j,k;if(null!=g.yAxis||null!=g.xAxis)j=null!=g.yAxis?"y":"x",b.getAxis(j),k=z(g.yAxis,g.xAxis);else{var l=ok(g,h,b,a);j=l.valueDataDim,l.valueAxis,k=rk(h,j,i)}var m="x"===j?0:1,n=1-m,o=c(g),p={};o.type=null,o.coord=[],p.coord=[],o.coord[n]=-1/0,p.coord[n]=1/0;var q=e.get("precision");q>=0&&"number"==typeof k&&(k=+k.toFixed(Math.min(q,20))),o.coord[m]=p.coord[m]=k,g=[o,p,{type:i,valueIndex:g.valueIndex,value:k}]}return g=[nk(a,g[0]),nk(a,g[1]),f({},g[2])],g[2].type=g[2].type||"",d(g[2],g[0]),d(g[2],g[1]),g};pv.extend({type:"markLine",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markLineModel;if(b){var d=b.getData(),e=b.__from,f=b.__to;e.each(function(b){Gk(e,b,!0,a,c),Gk(f,b,!1,a,c)}),d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),f.getItemLayout(a)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},renderSeries:function(a,b,c,d){function e(b,c,e){var f=b.getItemModel(c);Gk(b,c,e,a,d),b.setItemVisual(c,{symbolSize:f.get("symbolSize")||p[e?0:1],symbol:f.get("symbol",!0)||o[e?0:1],color:f.get("itemStyle.normal.color")||h.getVisual("color")})}var f=a.coordinateSystem,g=a.id,h=a.getData(),i=this.markerGroupMap,j=i.get(g)||i.set(g,new Ck);this.group.add(j.group);var k=Hk(f,a,b),l=k.from,m=k.to,n=k.line;b.__from=l,b.__to=m,b.setData(n);var o=b.get("symbol"),p=b.get("symbolSize");s(o)||(o=[o,o]),"number"==typeof p&&(p=[p,p]),k.from.each(function(a){e(l,a,!0),e(m,a,!1)}),n.each(function(a){var b=n.getItemModel(a).get("lineStyle.normal.color");n.setItemVisual(a,{color:b||l.getItemVisual(a,"color")}),n.setItemLayout(a,[l.getItemLayout(a),m.getItemLayout(a)]),n.setItemVisual(a,{fromSymbolSize:l.getItemVisual(a,"symbolSize"),fromSymbol:l.getItemVisual(a,"symbol"),toSymbolSize:m.getItemVisual(a,"symbolSize"),toSymbol:m.getItemVisual(a,"symbol")})}),j.updateData(n),k.line.eachItemGraphicEl(function(a,c){a.traverse(function(a){a.dataModel=b})}),j.__keep=!0,j.group.silent=b.get("silent")||a.get("silent")}}),Sg(function(a){a.markLine=a.markLine||{}}),lv.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}});var xv=function(a,b,c,d){var f=nk(a,d[0]),g=nk(a,d[1]),h=z,i=f.coord,j=g.coord;i[0]=h(i[0],-1/0),i[1]=h(i[1],-1/0),j[0]=h(j[0],1/0),j[1]=h(j[1],1/0);var k=e([{},f,g]);return k.coord=[f.coord,g.coord],k.x0=f.x,k.y0=f.y,k.x1=g.x,k.y1=g.y,k},yv=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];pv.extend({type:"markArea",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markAreaModel;if(b){var d=b.getData();d.each(function(b){var e=n(yv,function(e){return Lk(d,b,e,a,c)});d.setItemLayout(b,e),d.getItemGraphicEl(b).setShape("points",e)})}},this)},renderSeries:function(a,b,c,d){var e=a.coordinateSystem,f=a.name,h=a.getData(),i=this.markerGroupMap,j=i.get(f)||i.set(f,{group:new Ao});this.group.add(j.group),j.__keep=!0;var k=Mk(e,a,b);b.setData(k),k.each(function(b){k.setItemLayout(b,n(yv,function(c){return Lk(k,b,c,a,d)})),k.setItemVisual(b,{color:h.getVisual("color")})}),k.diff(j.__data).add(function(a){var b=new Qq({shape:{points:k.getItemLayout(a)}});k.setItemGraphicEl(a,b),j.group.add(b)}).update(function(a,c){var d=j.__data.getItemGraphicEl(c);pf(d,{shape:{points:k.getItemLayout(a)}},b,a),j.group.add(d),k.setItemGraphicEl(a,d)}).remove(function(a){var b=j.__data.getItemGraphicEl(a);j.group.remove(b)}).execute(),k.eachItemGraphicEl(function(a,c){var d=k.getItemModel(c),e=d.getModel("label.normal"),f=d.getModel("label.emphasis"),h=k.getItemVisual(c,"color");a.useStyle(g(d.getModel("itemStyle.normal").getItemStyle(),{fill:Db(h,.4),stroke:h})),a.hoverStyle=d.getModel("itemStyle.emphasis").getItemStyle(),ef(a.style,a.hoverStyle,e,f,{labelFetcher:b,labelDataIndex:c,defaultText:k.getName(c)||"",isRectText:!0,autoColor:h}),df(a,{}),a.dataModel=b}),j.__data=k,j.group.silent=b.get("silent")||a.get("silent")}}),Sg(function(a){a.markArea=a.markArea||{}}),wr.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var zv=["cartesian2d","polar","singleAxis"],Av=function(a,b){var c=n(a=a.slice(),Nd),d=n(b=(b||[]).slice(),Nd);return function(e,f){m(a,function(a,g){for(var h={name:a,capital:c[g]},i=0;i<b.length;i++)h[b[i]]=a+d[i];e.call(f,h)})}}(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),Bv=m,Cv=wd,Dv=function(a,b,c,d){this._dimName=a,this._axisIndex=b,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=d,this._dataZoomModel=c};Dv.prototype={constructor:Dv,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;return b.eachSeries(function(c){if(Nk(c.get("coordinateSystem"))){var d=this._dimName,e=b.queryComponents({mainType:d+"Axis",index:c.get(d+"AxisIndex"),id:c.get(d+"AxisId")})[0];this._axisIndex===(e&&e.componentIndex)&&a.push(c)}},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a,b,c=this._dimName,d=this.ecModel,e=this.getAxisModel();"x"===c||"y"===c?(b="gridIndex",a="x"===c?"y":"x"):(b="polarIndex",a="angle"===c?"radius":"angle");var f;return d.eachComponent(a+"Axis",function(a){(a.get(b)||0)===(e.get(b)||0)&&(f=a)}),f},getMinMaxSpan:function(){return c(this._minMaxSpan)},calculateDataWindow:function(a){var b=this._dataExtent,c=this.getAxisModel().axis.scale,d=this._dataZoomModel.getRangePropMode(),e=[0,100],f=[a.start,a.end],g=[];return Bv(["startValue","endValue"],function(b){g.push(null!=a[b]?c.parse(a[b]):null)}),Bv([0,1],function(a){var h=g[a],i=f[a];"percent"===d[a]?(null==i&&(i=e[a]),h=c.parse(td(i,e,b,!0))):i=td(h,b,e,!0),g[a]=h,f[a]=i}),{valueWindow:Cv(g),percentWindow:Cv(f)}},reset:function(a){if(a===this._dataZoomModel){this._dataExtent=Pk(this,this._dimName,this.getTargetSeriesModels());var b=this.calculateDataWindow(a.option);this._valueWindow=b.valueWindow,this._percentWindow=b.percentWindow,Sk(this),Rk(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,Rk(this,!0))},filterData:function(a){function b(a){return a>=f[0]&&a<=f[1]}if(a===this._dataZoomModel){var c=this._dimName,d=this.getTargetSeriesModels(),e=a.get("filterMode"),f=this._valueWindow;if("none"!==e){var g=this.getOtherAxisModel();a.get("$fromToolbox")&&g&&"category"===g.get("type")&&(e="empty"),Bv(d,function(a){var d=a.getData(),g=a.coordDimToDataDim(c);"weakFilter"===e?d&&d.filterSelf(function(a){for(var b,c,e,h=0;h<g.length;h++){var i=d.get(g[h],a),j=!isNaN(i),k=i<f[0],l=i>f[1];if(j&&!k&&!l)return!0;j&&(e=!0),k&&(b=!0),l&&(c=!0)}return e&&b&&c}):d&&Bv(g,function(c){"empty"===e?a.setData(d.map(c,function(a){return b(a)?a:NaN})):d.filterSelf(c,b)})})}}}};var Ev=m,Fv=Av,Gv=Yg({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(a,b,c){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var d=Tk(a);this.mergeDefaultAndTheme(a,c),this.doInit(d)},mergeOption:function(a){var b=Tk(a);d(this.option,a,!0),this.doInit(b)},doInit:function(a){var b=this.option;xn.canvasSupported||(b.realtime=!1),this._setDefaultThrottle(a),Uk(this,a),Ev([["start","startValue"],["end","endValue"]],function(a,c){"value"===this._rangePropMode[c]&&(b[a[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,c,d,e){var f=this.dependentModels[b.axis][c],g=f.__dzAxisProxy||(f.__dzAxisProxy=new Dv(b.name,c,this,e));a[b.name+"_"+c]=g},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();Fv(function(b){var c=b.axisIndex;a[c]=Af(a[c])},this),"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;Fv(function(c){null!=a[c.axisIndex]&&(b=!0)},this);var c=a.orient;return null==c&&b?"orient":b?void 0:(null==c&&(a.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var a=!0,b=this.get("orient",!0),c=this.option,d=this.dependentModels;if(a){var e="vertical"===b?"y":"x";d[e+"Axis"].length?(c[e+"AxisIndex"]=[0],a=!1):Ev(d.singleAxis,function(d){a&&d.get("orient",!0)===b&&(c.singleAxisIndex=[d.componentIndex],a=!1)})}a&&Fv(function(b){if(a){var d=[],e=this.dependentModels[b.axis];if(e.length&&!d.length)for(var f=0,g=e.length;f<g;f++)"category"===e[f].get("type")&&d.push(f);c[b.axisIndex]=d,d.length&&(a=!1)}},this),a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&Fv(function(b){var d=c[b.axisIndex],e=a.get(b.axisIndex),f=a.get(b.axisId);i(d,e=a.ecModel.queryComponents({mainType:b.axis,index:e,id:f})[0].componentIndex)<0&&d.push(e)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this),this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;return Fv(function(d){var e=a.get(d.axisIndex),f=this.dependentModels[d.axis][e];f&&f.get("type")===b||(c=!1)},this),c},_setDefaultThrottle:function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var b=this.ecModel.option;this.option.throttle=b.animation&&b.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var a;return Fv(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this),a},eachTargetAxis:function(a,b){var c=this.ecModel;Fv(function(d){Ev(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){var c=this.getAxisProxy(a,b);return c&&c.getAxisModel()},setRawRange:function(a,b){var c=this.option;Ev([["start","startValue"],["end","endValue"]],function(b){null==a[b[0]]&&null==a[b[1]]||(c[b[0]]=a[b[0]],c[b[1]]=a[b[1]])},this),!b&&Uk(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},getValueRange:function(a,b){if(null!=a||null!=b)return this.getAxisProxy(a,b).getDataValueWindow();var c=this.findRepresentativeAxisProxy();return c?c.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(a){if(a)return a.__dzAxisProxy;var b=this._axisProxies;for(var c in b)if(b.hasOwnProperty(c)&&b[c].hostedBy(this))return b[c];for(var c in b)if(b.hasOwnProperty(c)&&!b[c].hostedBy(this))return b[c]},getRangePropMode:function(){return this._rangePropMode.slice()}}),Hv=Yr.extend({type:"dataZoom",render:function(a,b,c,d){this.dataZoomModel=a,this.ecModel=b,this.api=c},getTargetCoordInfo:function(){function a(a,b,c,d){for(var e,f=0;f<c.length;f++)if(c[f].model===a){e=c[f];break}e||c.push(e={model:a,axisModels:[],coordIndex:d}),e.axisModels.push(b)}var b=this.dataZoomModel,c=this.ecModel,d={};return b.eachTargetAxis(function(b,e){var f=c.getComponent(b.axis,e);if(f){var g=f.getCoordSysModel();g&&a(g,f,d[g.mainType]||(d[g.mainType]=[]),g.componentIndex)}},this),d}}),Iv=(Gv.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),function(a,b,c,d,e,f){b[0]=Wk(b[0],c),b[1]=Wk(b[1],c),a=a||0;var g=c[1]-c[0];null!=e&&(e=Wk(e,[0,g])),null!=f&&(f=Math.max(f,null!=e?e:0)),"all"===d&&(e=f=Math.abs(b[1]-b[0]),d=0);var h=Vk(b,d);b[d]+=a;var i=e||0,j=c.slice();h.sign<0?j[0]+=i:j[1]-=i,b[d]=Wk(b[d],j),k=Vk(b,d),null!=e&&(k.sign!==h.sign||k.span<e)&&(b[1-d]=b[d]+h.sign*e);var k=Vk(b,d);return null!=f&&k.span>f&&(b[1-d]=b[d]+k.sign*f),b}),Jv=Sq,Kv=td,Lv=wd,Mv=q,Nv=m,Ov="horizontal",Pv=5,Qv=["line","bar","candlestick","scatter"],Rv=Hv.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=b},render:function(a,b,c,d){Rv.superApply(this,"render",arguments),ug(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=a.get("orient"),!1!==this.dataZoomModel.get("show")?(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){Rv.superApply(this,"remove",arguments),vg(this,"_dispatchZoomAction")},dispose:function(){Rv.superApply(this,"dispose",arguments),vg(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll(),this._resetLocation(),this._resetInterval();var b=this._displayables.barGroup=new Ao;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),a.add(b),this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,c=this._findCoordRect(),d={width:b.getWidth(),height:b.getHeight()},e=this._orient===Ov?{right:d.width-c.x-c.width,top:d.height-30-7,width:c.width,height:30}:{right:7,top:c.y,width:30,height:c.height},f=Tf(a.option);m(["right","top","width","height"],function(a){"ph"===f[a]&&(f[a]=e[a])});var g=Qf(f,d,a.padding);this._location={x:g.x,y:g.y},this._size=[g.width,g.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),e=d&&d.get("inverse"),f=this._displayables.barGroup,g=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(c!==Ov||e?c===Ov&&e?{scale:g?[-1,1]:[-1,-1]}:"vertical"!==c||e?{scale:g?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:g?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:g?[1,1]:[1,-1]});var h=a.getBoundingRect([f]);a.attr("position",[b.x-h.x,b.y-h.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this.dataZoomModel,b=this._size,c=this._displayables.barGroup;c.add(new Jv({silent:!0,shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:a.get("backgroundColor")},z2:-40})),c.add(new Jv({shape:{x:0,y:0,width:b[0],height:b[1]},style:{fill:"transparent"},z2:0,onclick:q(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var b=this._size,c=a.series,d=c.getRawData(),e=c.getShadowDim?c.getShadowDim():a.otherDim;if(null!=e){var f=d.getDataExtent(e),h=.3*(f[1]-f[0]);f=[f[0]-h,f[1]+h];var i,j=[0,b[1]],k=[0,b[0]],l=[[b[0],0],[0,0]],m=[],n=k[1]/(d.count()-1),o=0,p=Math.round(d.count()/b[0]);d.each([e],function(a,b){if(p>0&&b%p)o+=n;else{var c=null==a||isNaN(a)||""===a,d=c?0:Kv(a,f,j,!0);c&&!i&&b?(l.push([l[l.length-1][0],0]),m.push([m[m.length-1][0],0])):!c&&i&&(l.push([o,0]),m.push([o,0])),l.push([o,d]),m.push([o,d]),o+=n,i=c}});var q=this.dataZoomModel;this._displayables.barGroup.add(new Qq({shape:{points:l},style:g({fill:q.get("dataBackgroundColor")},q.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new Rq({shape:{points:m},style:q.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");if(!1!==b){var c,d=this.ecModel;return a.eachTargetAxis(function(e,f){m(a.getAxisProxy(e.name,f).getTargetSeriesModels(),function(a){if(!(c||!0!==b&&i(Qv,a.get("type"))<0)){var g,h=d.getComponent(e.axis,f).axis,j=Xk(e.name),k=a.coordinateSystem;null!=j&&k.getOtherAxis&&(g=k.getOtherAxis(h).inverse),c={thisAxis:h,series:a,thisDim:e.name,otherDim:j,otherAxisInverse:g}}},this)},this),c}},_renderHandle:function(){var a=this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,e=this._size,f=this.dataZoomModel;d.add(a.filler=new Jv({draggable:!0,cursor:Yk(this._orient),drift:Mv(this._onDragMove,this,"all"),onmousemove:function(a){ap(a.event)},ondragstart:Mv(this._showDataInfo,this,!0),ondragend:Mv(this._onDragEnd,this),onmouseover:Mv(this._showDataInfo,this,!0),onmouseout:Mv(this._showDataInfo,this,!1),style:{fill:f.get("fillerColor"),textPosition:"inside"}})),d.add(new Jv(Re({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:f.get("dataBackgroundColor")||f.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),Nv([0,1],function(a){var e=wf(f.get("handleIcon"),{cursor:Yk(this._orient),draggable:!0,drift:Mv(this._onDragMove,this,a),onmousemove:function(a){ap(a.event)},ondragend:Mv(this._onDragEnd,this),onmouseover:Mv(this._showDataInfo,this,!0),onmouseout:Mv(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),g=e.getBoundingRect();this._handleHeight=ud(f.get("handleSize"),this._size[1]),this._handleWidth=g.width/g.height*this._handleHeight,e.setStyle(f.getModel("handleStyle").getItemStyle());var h=f.get("handleColor");null!=h&&(e.style.fill=h),d.add(b[a]=e);var i=f.textStyleModel;this.group.add(c[a]=new Iq({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:i.getTextColor(),textFont:i.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[Kv(a[0],[0,100],b,!0),Kv(a[1],[0,100],b,!0)]},_updateInterval:function(a,b){var c=this.dataZoomModel,d=this._handleEnds,e=this._getViewExtent(),f=c.findRepresentativeAxisProxy().getMinMaxSpan(),g=[0,100];Iv(b,d,e,c.get("zoomLock")?"all":a,null!=f.minSpan?Kv(f.minSpan,g,e,!0):null,null!=f.maxSpan?Kv(f.maxSpan,g,e,!0):null),this._range=Lv([Kv(d[0],e,g,!0),Kv(d[1],e,g,!0)])},_updateView:function(a){var b=this._displayables,c=this._handleEnds,d=Lv(c.slice()),e=this._size;Nv([0,1],function(a){var d=b.handles[a],f=this._handleHeight;d.attr({scale:[f/2,f/2],position:[c[a],e[1]/2-f/2]})},this),b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]}),this._updateDataInfo(a)},_updateDataInfo:function(a){function b(a){var b=rf(d.handles[a].parent,this.group),c=tf(0===a?"right":"left",b),h=this._handleWidth/2+Pv,i=sf([l[a]+(0===a?-h:h),this._size[1]/2],b);e[a].setStyle({x:i[0],y:i[1],textVerticalAlign:f===Ov?"middle":c,textAlign:f===Ov?c:"center",text:g[a]})}var c=this.dataZoomModel,d=this._displayables,e=d.handleLabels,f=this._orient,g=["",""];if(c.get("showDetail")){var h=c.findRepresentativeAxisProxy();if(h){var i=h.getAxisModel().axis,j=this._range,k=a?h.calculateDataWindow({start:j[0],end:j[1]}).valueWindow:h.getDataValueWindow();g=[this._formatLabel(k[0],i),this._formatLabel(k[1],i)]}}var l=Lv(this._handleEnds.slice());b.call(this,0),b.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter"),e=c.get("labelPrecision");null!=e&&"auto"!==e||(e=b.getPixelPrecision());var f=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(e,20));return t(d)?d(a,f):u(d)?d.replace("{value}",f):f},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a),b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;var d=sf([b,c],this._displayables.barGroup.getLocalTransform(),!0);this._updateInterval(a,d[0]);var e=this.dataZoomModel.get("realtime");this._updateView(!e),e&&e&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this._dispatchZoomAction()},_onClickPanelClick:function(a){var b=this._size,c=this._displayables.barGroup.transformCoordToLocal(a.offsetX,a.offsetY);if(!(c[0]<0||c[0]>b[0]||c[1]<0||c[1]>b[1])){var d=this._handleEnds,e=(d[0]+d[1])/2;this._updateInterval("all",c[0]-e),this._updateView(),this._dispatchZoomAction()}},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var a;if(Nv(this.getTargetCoordInfo(),function(b){if(!a&&b.length){var c=b[0].model.coordinateSystem;a=c.getRect&&c.getRect()}}),!a){var b=this.api.getWidth(),c=this.api.getHeight();a={x:.2*b,y:.2*c,width:.6*b,height:.6*c}}return a}});Gv.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var Sv="\0_ec_interaction_mutex";Ug({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),k(bl,Tn);var Tv=r,Uv="\0_ec_dataZoom_roams",Vv=q,Wv=Hv.extend({type:"dataZoom.inside",init:function(a,b){this._range},render:function(a,b,c,d){Wv.superApply(this,"render",arguments),ll(d,a.id)&&(this._range=a.getPercentRange()),m(this.getTargetCoordInfo(),function(b,d){var e=n(b,function(a){return ml(a.model)});m(b,function(b){var f=b.model,g=a.option;jl(c,{coordId:ml(f),allCoordIds:e,containsPoint:function(a,b,c){return f.coordinateSystem.containPoint([b,c])},dataZoomId:a.id,throttleRate:a.get("throttle",!0),panGetRange:Vv(this._onPan,this,b,d),zoomGetRange:Vv(this._onZoom,this,b,d),zoomLock:g.zoomLock,disabled:g.disabled,roamControllerOpt:{zoomOnMouseWheel:g.zoomOnMouseWheel,moveOnMouseMove:g.moveOnMouseMove,preventDefaultMouseMove:g.preventDefaultMouseMove}})},this)},this)},dispose:function(){kl(this.api,this.dataZoomModel.id),Wv.superApply(this,"dispose",arguments),this._range=null},_onPan:function(a,b,c,d,e,f,g,h,i){var j=this._range.slice(),k=a.axisModels[0];if(k){var l=Xv[b]([f,g],[h,i],k,c,a),m=l.signal*(j[1]-j[0])*l.pixel/l.pixelLength;return Iv(m,j,[0,100],"all"),this._range=j}},_onZoom:function(a,b,c,d,e,f){var g=this._range.slice(),h=a.axisModels[0];if(h){var i=Xv[b](null,[e,f],h,c,a),j=(i.signal>0?i.pixelStart+i.pixelLength-i.pixel:i.pixel-i.pixelStart)/i.pixelLength*(g[1]-g[0])+g[0];d=Math.max(1/d,0),g[0]=(g[0]-j)*d+j,g[1]=(g[1]-j)*d+j;var k=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Iv(0,g,[0,100],0,k.minSpan,k.maxSpan),this._range=g}}}),Xv={grid:function(a,b,c,d,e){var f=c.axis,g={},h=e.model.coordinateSystem.getRect();return a=a||[0,0],"x"===f.dim?(g.pixel=b[0]-a[0],g.pixelLength=h.width,g.pixelStart=h.x,g.signal=f.inverse?1:-1):(g.pixel=b[1]-a[1],g.pixelLength=h.height,g.pixelStart=h.y,g.signal=f.inverse?-1:1),g},polar:function(a,b,c,d,e){var f=c.axis,g={},h=e.model.coordinateSystem,i=h.getRadiusAxis().getExtent(),j=h.getAngleAxis().getExtent();return a=a?h.pointToCoord(a):[0,0],b=h.pointToCoord(b),"radiusAxis"===c.mainType?(g.pixel=b[0]-a[0],g.pixelLength=i[1]-i[0],g.pixelStart=i[0],g.signal=f.inverse?1:-1):(g.pixel=b[1]-a[1],g.pixelLength=j[1]-j[0],g.pixelStart=j[0],g.signal=f.inverse?-1:1),g},singleAxis:function(a,b,c,d,e){var f=c.axis,g=e.model.coordinateSystem.getRect(),h={};return a=a||[0,0],"horizontal"===f.orient?(h.pixel=b[0]-a[0],h.pixelLength=g.width,h.pixelStart=g.x,h.signal=f.inverse?1:-1):(h.pixel=b[1]-a[1],h.pixelLength=g.height,h.pixelStart=g.y,h.signal=f.inverse?-1:1),h}};Tg(function(a,b){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(vl),a.eachTargetAxis(wl)}),a.eachComponent("dataZoom",function(a){var b=a.findRepresentativeAxisProxy(),c=b.getDataPercentWindow(),d=b.getDataValueWindow();a.setRawRange({start:c[0],end:c[1],startValue:d[0],endValue:d[1]},!0)})}),Ug("dataZoom",function(a,b){var c=Ok(q(b.eachComponent,b,"dataZoom"),Av,function(a,b){return a.get(b.axisIndex)}),d=[];b.eachComponent({mainType:"dataZoom",query:a},function(a,b){d.push.apply(d,c(a).nodes)}),m(d,function(b,c){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})});var Yv={},Zv=Yg({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(a){Zv.superApply(this,"mergeDefaultAndTheme",arguments),m(this.option.feature,function(a,b){var c=yl(b);c&&d(a,c.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});Zg({type:"toolbox",render:function(a,b,c,d){function e(e,g){var h,l=k[e],m=k[g],n=new xf(i[l],a,a.ecModel);if(l&&!m){if(zl(l))h={model:n,onclick:n.option.onclick,featureName:l};else{var o=yl(l);if(!o)return;h=new o(n,b,c)}j[l]=h}else{if(!(h=j[m]))return;h.model=n,h.ecModel=b,h.api=c}l||!m?n.get("show")&&!h.unusable?(f(n,h,l),n.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{},c.iconStatus[a]=b,d[a]&&d[a].trigger(b)},h.render&&h.render(n,b,c,d)):h.remove&&h.remove(b,c):h.dispose&&h.dispose(b,c)}function f(d,e,f){var i=d.getModel("iconStyle"),j=e.getIcons?e.getIcons():d.get("icon"),k=d.get("title")||{};if("string"==typeof j){var l=j,n=k;k={},(j={})[f]=l,k[f]=n}var o=d.iconPaths={};m(j,function(f,j){var l=wf(f,{},{x:-h/2,y:-h/2,width:h,height:h});l.setStyle(i.getModel("normal").getItemStyle()),l.hoverStyle=i.getModel("emphasis").getItemStyle(),df(l),a.get("showTitle")&&(l.__title=k[j],l.on("mouseover",function(){var a=i.getModel("emphasis").getItemStyle();l.setStyle({text:k[j],textPosition:a.textPosition||"bottom",textFill:a.fill||a.stroke||"#000",textAlign:a.textAlign||"center"})}).on("mouseout",function(){l.setStyle({textFill:null})})),l.trigger(d.get("iconStatus."+j)||"normal"),g.add(l),l.on("click",q(e.onclick,e,b,c,j)),o[j]=l})}var g=this.group;if(g.removeAll(),a.get("show")){var h=+a.get("itemSize"),i=a.get("feature")||{},j=this._features||(this._features={}),k=[];m(i,function(a,b){k.push(b)}),(new bh(this._featureNames||[],k)).add(e).update(e).remove(r(e,null)).execute(),this._featureNames=k,ck(g,a,c),g.add(dk(g.getBoundingRect(),a)),g.eachChild(function(a){var b=a.__title,d=a.hoverStyle;if(d&&b){var e=jc(b,yc(d)),f=a.position[0]+g.position[0],i=!1;a.position[1]+g.position[1]+h+e.height>c.getHeight()&&(d.textPosition="top",i=!0);var j=i?-5-e.height:h+8;f+e.width/2>c.getWidth()?(d.textPosition=["100%",j],d.textAlign="right"):f-e.width/2<0&&(d.textPosition=[0,j],d.textAlign="left")}})}},updateView:function(a,b,c,d){m(this._features,function(a){a.updateView&&a.updateView(a.model,b,c,d)})},updateLayout:function(a,b,c,d){m(this._features,function(a){a.updateLayout&&a.updateLayout(a.model,b,c,d)})},remove:function(a,b){m(this._features,function(c){c.remove&&c.remove(a,b)}),this.group.removeAll()},dispose:function(a,b){m(this._features,function(c){c.dispose&&c.dispose(a,b)})}});var $v={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}}},_v=$v.toolbox.saveAsImage;Al.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:_v.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:_v.lang.slice()},Al.prototype.unusable=!xn.canvasSupported,Al.prototype.onclick=function(a,b){var c=this.model,d=c.get("name")||a.get("title.0.text")||"echarts",e=document.createElement("a"),f=c.get("type",!0)||"png";e.download=d+"."+f,e.target="_blank";var g=b.getConnectedDataURL({type:f,backgroundColor:c.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",excludeComponents:c.get("excludeComponents"),pixelRatio:c.get("pixelRatio")});if(e.href=g,"function"!=typeof MouseEvent||xn.browser.ie||xn.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var h=atob(g.split(",")[1]),i=h.length,j=new Uint8Array(i);i--;)j[i]=h.charCodeAt(i);var k=new Blob([j]);window.navigator.msSaveOrOpenBlob(k,d+"."+f)}else{var l=c.get("lang"),m='<body style="margin:0;"><img src="'+g+'" style="max-width:100%;" title="'+(l&&l[0]||"")+'" /></body>';window.open().document.write(m)}else{var n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});e.dispatchEvent(n)}},xl("saveAsImage",Al);var aw=$v.toolbox.magicType;Bl.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:c(aw.title),option:{},seriesIndex:{}};var bw=Bl.prototype;bw.getIcons=function(){var a=this.model,b=a.get("icon"),c={};return m(a.get("type"),function(a){b[a]&&(c[a]=b[a])}),c};var cw={line:function(a,b,c,e){if("bar"===a)return d({id:b,type:"line",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},e.get("option.line")||{},!0)},bar:function(a,b,c,e){if("line"===a)return d({id:b,type:"bar",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},e.get("option.bar")||{},!0)},stack:function(a,b,c,e){if("line"===a||"bar"===a)return d({id:b,stack:"__ec_magicType_stack__"},e.get("option.stack")||{},!0)},tiled:function(a,b,c,e){if("line"===a||"bar"===a)return d({id:b,stack:""},e.get("option.tiled")||{},!0)}},dw=[["line","bar"],["stack","tiled"]];bw.onclick=function(a,b,c){var d=this.model,e=d.get("seriesIndex."+c);if(cw[c]){var f={series:[]};m(dw,function(a){i(a,c)>=0&&m(a,function(a){d.setIconStatus(a,"normal")})}),d.setIconStatus(c,"emphasis"),a.eachComponent({mainType:"series",query:null==e?null:{seriesIndex:e}},function(b){var e=b.subType,h=b.id,i=cw[c](e,h,b,d);i&&(g(i,b.option),f.series.push(i));var j=b.coordinateSystem;if(j&&"cartesian2d"===j.type&&("line"===c||"bar"===c)){var k=j.getAxesByScale("ordinal")[0];if(k){var l=k.dim+"Axis",m=a.queryComponents({mainType:l,index:b.get(name+"Index"),id:b.get(name+"Id")})[0].componentIndex;f[l]=f[l]||[];for(var n=0;n<=m;n++)f[l][m]=f[l][m]||{};f[l][m].boundaryGap="bar"===c}}}),b.dispatchAction({type:"changeMagicType",currentType:c,newOption:f})}},Ug({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)}),xl("magicType",Bl);var ew=$v.toolbox.dataView,fw=(new Array(60)).join("-"),gw="	",hw=new RegExp("["+gw+"]+","g");Ll.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:c(ew.title),lang:c(ew.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},Ll.prototype.onclick=function(a,b){function c(){d.removeChild(f),t._dom=null}var d=b.getDom(),e=this.model;this._dom&&d.removeChild(this._dom);var f=document.createElement("div");f.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",f.style.backgroundColor=e.get("backgroundColor")||"#fff";var g=document.createElement("h4"),h=e.get("lang")||[];g.innerHTML=h[0]||e.get("title"),g.style.cssText="margin: 10px 20px;",g.style.color=e.get("textColor");var i=document.createElement("div"),j=document.createElement("textarea");i.style.cssText="display:block;width:100%;overflow:auto;";var k=e.get("optionToContent"),l=e.get("contentToOption"),m=Fl(a);if("function"==typeof k){var n=k(b.getOption());"string"==typeof n?i.innerHTML=n:x(n)&&i.appendChild(n)}else i.appendChild(j),j.readOnly=e.get("readOnly"),j.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",j.style.color=e.get("textColor"),j.style.borderColor=e.get("textareaBorderColor"),j.style.backgroundColor=e.get("textareaColor"),j.value=m.value;var o=m.meta,p=document.createElement("div");p.style.cssText="position:absolute;bottom:0;left:0;right:0;";var q="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",r=document.createElement("div"),s=document.createElement("div");q+=";background-color:"+e.get("buttonColor"),q+=";color:"+e.get("buttonTextColor");var t=this;ed(r,"click",c),ed(s,"click",function(){var a;try{a="function"==typeof l?l(i,b.getOption()):Kl(j.value,o)}catch(a){throw c(),new Error("Data view format error "+a)}a&&b.dispatchAction({type:"changeDataView",newOption:a}),c()}),r.innerHTML=h[1],s.innerHTML=h[2],s.style.cssText=q,r.style.cssText=q,!e.get("readOnly")&&p.appendChild(s),p.appendChild(r),ed(j,"keydown",function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+gw+b.substring(d),this.selectionStart=this.selectionEnd=c+1,ap(a)}}),f.appendChild(g),f.appendChild(i),f.appendChild(p),i.style.height=d.clientHeight-80+"px",d.appendChild(f),this._dom=f},Ll.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)},Ll.prototype.dispose=function(a,b){this.remove(a,b)},xl("dataView",Ll),Ug({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];m(a.newOption.series,function(a){var d=b.getSeriesByName(a.name)[0];if(d){var e=d.get("data");c.push({name:a.name,data:Ml(a.data,e)})}else c.push(f({type:"scatter"},a))}),b.mergeOption(g({series:c},a.newOption))});var iw=r,jw=m,kw=n,lw=Math.min,mw=Math.max,nw=Math.pow,ow=1e4,pw=6,qw=6,rw="globalPan",sw={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},tw={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},uw={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},vw=0;Nl.prototype={constructor:Nl,enableBrush:function(a){return this._brushType&&Pl(this),a.brushType&&Ol(this,a),this},setPanels:function(a){if(a&&a.length){var b=this._panels={};m(a,function(a){b[a.panelId]=c(a)})}else this._panels=null;return this},mount:function(a){a=a||{},this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]}),this._transform=b.getLocalTransform(),this},eachCover:function(a,b){jw(this._covers,a,b)},updateCovers:function(a){function b(a,b){return(null!=a.id?a.id:f+b)+"-"+a.brushType}function e(b,c){var d=a[b];if(null!=c&&g[c]===j)h[b]=g[c];else{var e=h[b]=null!=c?(g[c].__brushOption=d,g[c]):Rl(i,Ql(i,d));Ul(i,e)}}a=n(a,function(a){return d(c(uw),a,!0)});var f="\0-brush-index-",g=this._covers,h=this._covers=[],i=this,j=this._creatingCover;return(new bh(g,a,function(a,c){return b(a.__brushOption,c)},b)).add(e).update(e).remove(function(a){g[a]!==j&&i.group.remove(g[a])}).execute(),this},unmount:function(){return this.enableBrush(!1),Yl(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},k(Nl,Tn);var ww={mousedown:function(a){if(this._dragging)sm.call(this,a);else if(!a.target||!a.target.draggable){om(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null,(this._creatingPanel=Wl(this,a,b))&&(this._dragging=!0,this._track=[b.slice()])}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);if(nm(this,a,b),this._dragging){om(a);var c=qm(this,a,b,!1);c&&Zl(this,c)}},mouseup:sm},xw={lineX:tm(0),lineY:tm(1),rect:{createCover:function(a,b){return am(iw(im,function(a){return a},function(a){return a}),a,b,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(a){var b=_l(a);return fm(b[1][0],b[1][1],b[0][0],b[0][1])},updateCoverShape:function(a,b,c,d){bm(a,b,c,d)},updateCommon:cm,contain:pm},polygon:{createCover:function(a,b){var c=new Ao;return c.add(new Rq({name:"main",style:em(b),silent:!0})),c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0)),b.add(new Qq({name:"main",draggable:!0,drift:iw(jm,a,b),ondragend:iw(Zl,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:lm(a,b,c)})},updateCommon:cm,contain:pm}},yw={axisPointer:1,tooltip:1,brush:1},zw=m,Aw=i,Bw=r,Cw=["dataToPoint","pointToData"],Dw=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Ew=zm.prototype;Ew.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(a,b,c){if((a.coordRanges||(a.coordRanges=[])).push(b),!a.coordRange){a.coordRange=b;var d=Iw[a.brushType](0,c,b);a.__rangeOffset={offset:Jw[a.brushType](d.values,a.range,[1,1]),xyMinMax:d.xyMinMax}}})},Ew.matchOutputRanges=function(a,b,c){zw(a,function(a){var d=this.findTargetInfo(a,b);d&&!0!==d&&m(d.coordSyses,function(d){var e=Iw[a.brushType](1,d,a.range);c(a,e.values,d,b)})},this)},Ew.setInputRanges=function(a,b){zw(a,function(a){var c=this.findTargetInfo(a,b);if(a.range=a.range||[],c&&!0!==c){a.panelId=c.panelId;var d=Iw[a.brushType](0,c.coordSys,a.coordRange),e=a.__rangeOffset;a.range=e?Jw[a.brushType](d.values,e.offset,Em(d.xyMinMax,e.xyMinMax)):d.values}},this)},Ew.makePanelOpts=function(a,b){return n(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:b&&b(c),clipPath:vm(d),isTargetByCursor:xm(d,a,c.coordSysModel),getLinearBrushOtherExtent:wm(d)}})},Ew.controlSeries=function(a,b,c){var d=this.findTargetInfo(a,c);return!0===d||d&&Aw(d.coordSyses,b.coordinateSystem)>=0},Ew.findTargetInfo=function(a,b){for(var c=this._targetInfoList,d=Bm(b,a),e=0;e<c.length;e++){var f=c[e],g=a.panelId;if(g){if(f.panelId===g)return f}else for(e=0;e<Gw.length;e++)if(Gw[e](d,f))return f}return!0};var Fw={grid:function(a,b){var c=a.xAxisModels,d=a.yAxisModels,e=a.gridModels,f=I(),g={},h={};(c||d||e)&&(zw(c,function(a){var b=a.axis.grid.model;f.set(b.id,b),g[b.id]=!0}),zw(d,function(a){var b=a.axis.grid.model;f.set(b.id,b),h[b.id]=!0}),zw(e,function(a){f.set(a.id,a),g[a.id]=!0,h[a.id]=!0}),f.each(function(a){var e=a.coordinateSystem,f=[];zw(e.getCartesians(),function(a,b){(Aw(c,a.getAxis("x").model)>=0||Aw(d,a.getAxis("y").model)>=0)&&f.push(a)}),b.push({panelId:"grid--"+a.id,gridModel:a,coordSysModel:a,coordSys:f[0],coordSyses:f,getPanelRect:Hw.grid,xAxisDeclared:g[a.id],yAxisDeclared:h[a.id]})}))},geo:function(a,b){zw(a.geoModels,function(a){var c=a.coordinateSystem;b.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:c,coordSyses:[c],getPanelRect:Hw.geo})})}},Gw=[function(a,b){var c=a.xAxisModel,d=a.yAxisModel,e=a.gridModel;return!e&&c&&(e=c.axis.grid.model),!e&&d&&(e=d.axis.grid.model),e&&e===b.gridModel},function(a,b){var c=a.geoModel;return c&&c===b.geoModel}],Hw={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(rf(a)),b}},Iw={lineX:Bw(Cm,0),lineY:Bw(Cm,1),rect:function(a,b,c){var d=b[Cw[a]]([c[0][0],c[1][0]]),e=b[Cw[a]]([c[0][1],c[1][1]]),f=[Am([d[0],e[0]]),Am([d[1],e[1]])];return{values:f,xyMinMax:f}},polygon:function(a,b,c){var d=[[1/0,-1/0],[1/0,-1/0]];return{values:n(c,function(c){var e=b[Cw[a]](c);return d[0][0]=Math.min(d[0][0],e[0]),d[1][0]=Math.min(d[1][0],e[1]),d[0][1]=Math.max(d[0][1],e[0]),d[1][1]=Math.max(d[1][1],e[1]),e}),xyMinMax:d}}},Jw={lineX:Bw(Dm,0),lineY:Bw(Dm,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,b,c){return n(a,function(a,d){return[a[0]-c[0]*b[d][0],a[1]-c[1]*b[d][1]]})}},Kw=m,Lw="\0_ec_hist_store";Gv.extend({type:"dataZoom.select"}),Hv.extend({type:"dataZoom.select"});var Mw=$v.toolbox.dataZoom,Nw=m,Ow="\0_ec_\0toolbox-dataZoom_";Lm.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:c(Mw.title)};var Pw=Lm.prototype;Pw.render=function(a,b,c,d){this.model=a,this.ecModel=b,this.api=c,Om(a,b,this,d,c),Nm(a,b)},Pw.onclick=function(a,b,c){Qw[c].call(this)},Pw.remove=function(a,b){this._brushController.unmount()},Pw.dispose=function(a,b){this._brushController.dispose()};var Qw={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(Hm(this.ecModel))}};Pw._onBrush=function(a,b){function c(a,b,c){var g=b.getAxis(a),h=g.model,i=d(a,h,f),j=i.findRepresentativeAxisProxy(h).getMinMaxSpan();null==j.minValueSpan&&null==j.maxValueSpan||(c=Iv(0,c.slice(),g.scale.getExtent(),0,j.minValueSpan,j.maxValueSpan)),i&&(e[i.id]={dataZoomId:i.id,startValue:c[0],endValue:c[1]})}function d(a,b,c){var d;return c.eachComponent({mainType:"dataZoom",subType:"select"},function(c){c.getAxisModel(a,b.componentIndex)&&(d=c)}),d}if(b.isEnd&&a.length){var e={},f=this.ecModel;this._brushController.updateCovers([]),(new zm(Mm(this.model.option),f,{include:["grid"]})).matchOutputRanges(a,f,function(a,b,d){if("cartesian2d"===d.type){var e=a.brushType;"rect"===e?(c("x",d,b[0]),c("y",d,b[1])):c({lineX:"x",lineY:"y"}[e],d,b)}}),Gm(f,e),this._dispatchZoomAction(e)}},Pw._dispatchZoomAction=function(a){var b=[];Nw(a,function(a,d){b.push(c(a))}),b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})},xl("dataZoom",Lm),Sg(function(a){function b(a,b){if(b){var e=a+"Index",f=b[e];null==f||"all"==f||s(f)||(f=!1===f||"none"===f?[]:[f]),c(a,function(b,c){if(null==f||"all"==f||-1!==i(f,c)){var g={type:"select",$fromToolbox:!0,id:Ow+a+c};g[e]=c,d.push(g)}})}}function c(b,c){var d=a[b];s(d)||(d=d?[d]:[]),Nw(d,c)}if(a){var d=a.dataZoom||(a.dataZoom=[]);s(d)||(a.dataZoom=d=[d]);var e=a.toolbox;if(e&&(s(e)&&(e=e[0]),e&&e.feature)){var f=e.feature.dataZoom;b("xAxis",f),b("yAxis",f)}}});var Rw=$v.toolbox.restore;Pm.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Rw.title},Pm.prototype.onclick=function(a,b,c){Im(a),b.dispatchAction({type:"restore",from:this.uid})},xl("restore",Pm),Ug({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")});var Sw,Tw="urn:schemas-microsoft-com:vml",Uw="undefined"==typeof window?null:window,Vw=!1,Ww=Uw&&Uw.document;if(Ww&&!xn.canvasSupported)try{!Ww.namespaces.zrvml&&Ww.namespaces.add("zrvml",Tw),Sw=function(a){return Ww.createElement("<zrvml:"+a+' class="zrvml">')}}catch(a){Sw=function(a){return Ww.createElement("<"+a+' xmlns="'+Tw+'" class="zrvml">')}}var Xw=kq.CMD,Yw=Math.round,Zw=Math.sqrt,$w=Math.abs,_w=Math.cos,ax=Math.sin,bx=Math.max;if(!xn.canvasSupported){var cx=21600,dx=cx/2,ex=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",a.coordsize=cx+","+cx,a.coordorigin="0,0"},fx=function(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},gx=function(a,b,c){return"rgb("+[a,b,c].join(",")+")"},hx=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},ix=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},jx=function(a,b,c){return 1e5*(parseFloat(a)||0)+1e3*(parseFloat(b)||0)+c},kx=function(a,b){return"string"==typeof a?a.lastIndexOf("%")>=0?parseFloat(a)/100*b:parseFloat(a):a},lx=function(a,b,c){var d=wb(b);c=+c,isNaN(c)&&(c=1),d&&(a.color=gx(d[0],d[1],d[2]),a.opacity=c*d[3])},mx=function(a){var b=wb(a);return[gx(b[0],b[1],b[2]),b[3]]},nx=function(a,b,c){var d=b.fill;if(null!=d)if(d instanceof Yq){var e,f=0,g=[0,0],h=0,i=1,j=c.getBoundingRect(),k=j.width,l=j.height;if("linear"===d.type){e="gradient";var m=c.transform,n=[d.x*k,d.y*l],o=[d.x2*k,d.y2*l];m&&(W(n,n,m),W(o,o,m));var p=o[0]-n[0],q=o[1]-n[1];(f=180*Math.atan2(p,q)/Math.PI)<0&&(f+=360),f<1e-6&&(f=0)}else{e="gradientradial";var n=[d.x*k,d.y*l],m=c.transform,r=c.scale,s=k,t=l;g=[(n[0]-j.x)/s,(n[1]-j.y)/t],m&&W(n,n,m),s/=r[0]*cx,t/=r[1]*cx;var u=bx(s,t);h=0/u,i=2*d.r/u-h}var v=d.colorStops.slice();v.sort(function(a,b){return a.offset-b.offset});for(var w=v.length,x=[],y=[],z=0;z<w;z++){var A=v[z],B=mx(A.color);y.push(A.offset*i+h+" "+B[0]),0!==z&&z!==w-1||x.push(B)}if(w>=2){var C=x[0][0],D=x[1][0],E=x[0][1]*b.opacity,F=x[1][1]*b.opacity;a.type=e,a.method="none",a.focus="100%",a.angle=f,a.color=C,a.color2=D,a.colors=y.join(","),a.opacity=F,a.opacity2=E}"radial"===e&&(a.focusposition=g.join(","))}else lx(a,d,b.opacity)},ox=function(a,b){null!=b.lineDash&&(a.dashstyle=b.lineDash.join(" ")),null==b.stroke||b.stroke instanceof Yq||lx(a,b.stroke,b.opacity)},px=function(a,b,c,d){var e="fill"==b,f=a.getElementsByTagName(b)[0];null!=c[b]&&"none"!==c[b]&&(e||!e&&c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof Yq&&ix(a,f),f||(f=Qm(b)),e?nx(f,c,d):ox(f,c),hx(a,f)):(a[e?"filled":"stroked"]="false",ix(a,f))},qx=[[],[],[]],rx=function(a,b){var c,d,e,f,g,h,i=Xw.M,j=Xw.C,k=Xw.L,l=Xw.A,m=Xw.Q,n=[],o=a.data,p=a.len();for(f=0;f<p;){switch(e=o[f++],d="",c=0,e){case i:d=" m ",c=1,g=o[f++],h=o[f++],qx[0][0]=g,qx[0][1]=h;break;case k:d=" l ",c=1,g=o[f++],h=o[f++],qx[0][0]=g,qx[0][1]=h;break;case m:case j:d=" c ",c=3;var q,r,s=o[f++],t=o[f++],u=o[f++],v=o[f++];e===m?(q=u,r=v,u=(u+2*s)/3,v=(v+2*t)/3,s=(g+2*s)/3,t=(h+2*t)/3):(q=o[f++],r=o[f++]),qx[0][0]=s,qx[0][1]=t,qx[1][0]=u,qx[1][1]=v,qx[2][0]=q,qx[2][1]=r,g=q,h=r;break;case l:var w=0,x=0,y=1,z=1,A=0;b&&(w=b[4],x=b[5],y=Zw(b[0]*b[0]+b[1]*b[1]),z=Zw(b[2]*b[2]+b[3]*b[3]),A=Math.atan2(-b[1]/z,b[0]/y));var B=o[f++],C=o[f++],D=o[f++],E=o[f++],F=o[f++]+A,G=o[f++]+F+A;f++;var H=o[f++],I=B+_w(F)*D,J=C+ax(F)*E,s=B+_w(G)*D,t=C+ax(G)*E,K=H?" wa ":" at ";Math.abs(I-s)<1e-4&&(Math.abs(G-F)>.01?H&&(I+=.0125):Math.abs(J-C)<1e-4?H&&I<B||!H&&I>B?t-=.0125:t+=.0125:H&&J<C||!H&&J>C?s+=.0125:s-=.0125),n.push(K,Yw(((B-D)*y+w)*cx-dx),",",Yw(((C-E)*z+x)*cx-dx),",",Yw(((B+D)*y+w)*cx-dx),",",Yw(((C+E)*z+x)*cx-dx),",",Yw((I*y+w)*cx-dx),",",Yw((J*z+x)*cx-dx),",",Yw((s*y+w)*cx-dx),",",Yw((t*z+x)*cx-dx)),g=s,h=t;break;case Xw.R:var L=qx[0],M=qx[1];L[0]=o[f++],L[1]=o[f++],M[0]=L[0]+o[f++],M[1]=L[1]+o[f++],b&&(W(L,L,b),W(M,M,b)),L[0]=Yw(L[0]*cx-dx),M[0]=Yw(M[0]*cx-dx),L[1]=Yw(L[1]*cx-dx),M[1]=Yw(M[1]*cx-dx),n.push(" m ",L[0],",",L[1]," l ",M[0],",",L[1]," l ",M[0],",",M[1]," l ",L[0],",",M[1]);break;case Xw.Z:n.push(" x ")}if(c>0){n.push(d);for(var N=0;N<c;N++){var O=qx[N];b&&W(O,O,b),n.push(Yw(O[0]*cx-dx),",",Yw(O[1]*cx-dx),N<c-1?",":"")}}}return n.join("")};Ce.prototype.brushVML=function(a){var b=this.style,c=this._vmlEl;c||(c=Qm("shape"),ex(c),this._vmlEl=c),px(c,"fill",b,this),px(c,"stroke",b,this);var d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0];if(f){var g=b.lineWidth;if(e&&!b.strokeNoScale){var h=d[0]*d[3]-d[1]*d[2];g*=Zw($w(h))}f.weight=g+"px"}var i=this.path||(this.path=new kq);this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape),i.toStatic(),this.__dirtyPath=!1),c.path=rx(i,this.transform),c.style.zIndex=jx(this.zlevel,this.z,this.z2),hx(a,c),null!=b.text?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)},Ce.prototype.onRemove=function(a){ix(a,this._vmlEl),this.removeRectText(a)},Ce.prototype.onAdd=function(a){hx(a,this._vmlEl),this.appendRectText(a)};var sx=function(a){return"object"==typeof a&&a.tagName&&"IMG"===a.tagName.toUpperCase()};Tc.prototype.brushVML=function(a){var b,c,d=this.style,e=d.image;if(sx(e)){var f=e.src;if(f===this._imageSrc)b=this._imageWidth,c=this._imageHeight;else{var g=e.runtimeStyle,h=g.width,i=g.height;g.width="auto",g.height="auto",b=e.width,c=e.height,g.width=h,g.height=i,this._imageSrc=f,this._imageWidth=b,this._imageHeight=c}e=f}else e===this._imageSrc&&(b=this._imageWidth,c=this._imageHeight);if(e){var j=d.x||0,k=d.y||0,l=d.width,m=d.height,n=d.sWidth,o=d.sHeight,p=d.sx||0,q=d.sy||0,r=n&&o,s=this._vmlEl;s||(s=Ww.createElement("div"),ex(s),this._vmlEl=s);var t,u=s.style,v=!1,w=1,x=1;if(this.transform&&(t=this.transform,w=Zw(t[0]*t[0]+t[1]*t[1]),x=Zw(t[2]*t[2]+t[3]*t[3]),v=t[1]||t[2]),v){var y=[j,k],z=[j+l,k],A=[j,k+m],B=[j+l,k+m];W(y,y,t),W(z,z,t),W(A,A,t),W(B,B,t);var C=bx(y[0],z[0],A[0],B[0]),D=bx(y[1],z[1],A[1],B[1]),E=[];E.push("M11=",t[0]/w,",","M12=",t[2]/x,",","M21=",t[1]/w,",","M22=",t[3]/x,",","Dx=",Yw(j*w+t[4]),",","Dy=",Yw(k*x+t[5])),u.padding="0 "+Yw(C)+"px "+Yw(D)+"px 0",u.filter="progid:DXImageTransform.Microsoft.Matrix("+E.join("")+", SizingMethod=clip)"}else t&&(j=j*w+t[4],k=k*x+t[5]),u.filter="",u.left=Yw(j)+"px",u.top=Yw(k)+"px";var F=this._imageEl,G=this._cropEl;F||(F=Ww.createElement("div"),this._imageEl=F);var H=F.style;if(r){if(b&&c)H.width=Yw(w*b*l/n)+"px",H.height=Yw(x*c*m/o)+"px";else{var I=new Image,J=this;I.onload=function(){I.onload=null,b=I.width,c=I.height,H.width=Yw(w*b*l/n)+"px",H.height=Yw(x*c*m/o)+"px",J._imageWidth=b,J._imageHeight=c,J._imageSrc=e},I.src=e}G||((G=Ww.createElement("div")).style.overflow="hidden",this._cropEl=G);var K=G.style;K.width=Yw((l+p*l/n)*w),K.height=Yw((m+q*m/o)*x),K.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+ -p*l/n*w+",Dy="+ -q*m/o*x+")",G.parentNode||s.appendChild(G),F.parentNode!=G&&G.appendChild(F)}else H.width=Yw(w*l)+"px",H.height=Yw(x*m)+"px",s.appendChild(F),G&&G.parentNode&&(s.removeChild(G),this._cropEl=null);var L="",M=d.opacity;M<1&&(L+=".Alpha(opacity="+Yw(100*M)+") "),L+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+e+", SizingMethod=scale)",H.filter=L,s.style.zIndex=jx(this.zlevel,this.z,this.z2),hx(a,s),null!=d.text&&this.drawRectText(a,this.getBoundingRect())}},Tc.prototype.onRemove=function(a){ix(a,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(a)},Tc.prototype.onAdd=function(a){hx(a,this._vmlEl),this.appendRectText(a)};var tx,ux={},vx=0,wx=document.createElement("div"),xx=function(a){var b=ux[a];if(!b){vx>100&&(vx=0,ux={});var c,d=wx.style;try{d.font=a,c=d.fontFamily.split(",")[0]}catch(a){}b={style:d.fontStyle||"normal",variant:d.fontVariant||"normal",weight:d.fontWeight||"normal",size:0|parseFloat(d.fontSize||12),family:c||"Microsoft YaHei"},ux[a]=b,vx++}return b};!function(a,b){So[a]=b}("measureText",function(a,b){var c=Ww;tx||((tx=c.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",Ww.body.appendChild(tx));try{tx.style.font=b}catch(a){}return tx.innerHTML="",tx.appendChild(c.createTextNode(a)),{width:tx.offsetWidth}});for(var yx=new Sb,zx=[Wo,Sc,Tc,Ce,Iq],Ax=0;Ax<zx.length;Ax++){var Bx=zx[Ax].prototype;Bx.drawRectText=function(a,b,c,d){var e=this.style;this.__dirty&&Ac(e);var f=e.text;if(null!=f&&(f+=""),f){if(e.rich){var g=wc(f,e);f=[];for(var h=0;h<g.lines.length;h++){for(var i=g.lines[h].tokens,j=[],k=0;k<i.length;k++)j.push(i[k].text);f.push(j.join(""))}f=f.join("\n")}var l,m,n=e.textAlign,o=e.textVerticalAlign,p=xx(e.font),q=p.style+" "+p.variant+" "+p.weight+" "+p.size+'px "'+p.family+'"';c=c||jc(f,q,n,o);var r=this.transform;if(r&&!d&&(yx.copy(b),yx.applyTransform(r),b=yx),d)l=b.x,m=b.y;else{var s=e.textPosition,t=e.textDistance;if(s instanceof Array)l=b.x+kx(s[0],b.width),m=b.y+kx(s[1],b.height),n=n||"left";else{var u=oc(s,b,t);l=u.x,m=u.y,n=n||u.textAlign,o=o||u.textVerticalAlign}}l=mc(l,c.width,n),m=nc(m,c.height,o),m+=c.height/2;var v,w,x,y=Qm,z=this._textVmlEl;z?w=(v=(x=z.firstChild).nextSibling).nextSibling:(z=y("line"),v=y("path"),w=y("textpath"),x=y("skew"),w.style["v-text-align"]="left",ex(z),v.textpathok=!0,w.on=!0,z.from="0 0",z.to="1000 0.05",hx(z,x),hx(z,v),hx(z,w),this._textVmlEl=z);var A=[l,m],B=z.style;r&&d?(W(A,A,r),x.on=!0,x.matrix=r[0].toFixed(3)+","+r[2].toFixed(3)+","+r[1].toFixed(3)+","+r[3].toFixed(3)+",0,0",x.offset=(Yw(A[0])||0)+","+(Yw(A[1])||0),x.origin="0 0",B.left="0px",B.top="0px"):(x.on=!1,B.left=Yw(l)+"px",B.top=Yw(m)+"px"),w.string=fx(f);try{w.style.font=q}catch(a){}px(z,"fill",{fill:e.textFill,opacity:e.opacity},this),px(z,"stroke",{stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash},this),z.style.zIndex=jx(this.zlevel,this.z,this.z2),hx(a,z)}},Bx.removeRectText=function(a){ix(a,this._textVmlEl),this._textVmlEl=null},Bx.appendRectText=function(a){hx(a,this._textVmlEl)}}Iq.prototype.brushVML=function(a){var b=this.style;null!=b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)},Iq.prototype.onRemove=function(a){this.removeRectText(a)},Iq.prototype.onAdd=function(a){this.appendRectText(a)}}Tm.prototype={constructor:Tm,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var b=this._vmlRoot,c=0;c<a.length;c++){var d=a[c];d.invisible||d.ignore?(d.__alreadyNotVisible||d.onRemove(b),d.__alreadyNotVisible=!0):(d.__alreadyNotVisible&&d.onAdd(b),d.__alreadyNotVisible=!1,d.__dirty&&(d.beforeBrush&&d.beforeBrush(),(d.brushVML||d.brush).call(d,b),d.afterBrush&&d.afterBrush())),d.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(a,b){var a=null==a?this._getWidth():a,b=null==b?this._getHeight():b;if(this._width!=a||this._height!=b){this._width=a,this._height=b;var c=this._vmlViewport.style;c.width=a+"px",c.height=b+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var a=this.root,b=a.currentStyle;return(a.clientWidth||Sm(b.width))-Sm(b.paddingLeft)-Sm(b.paddingRight)|0},_getHeight:function(){var a=this.root,b=a.currentStyle;return(a.clientHeight||Sm(b.height))-Sm(b.paddingTop)-Sm(b.paddingBottom)|0}},m(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(a){Tm.prototype[a]=Um(a)}),qd("vml",Tm);var Cx="http://www.w3.org/2000/svg",Dx=kq.CMD,Ex=Array.prototype.join,Fx="none",Gx=Math.round,Hx=Math.sin,Ix=Math.cos,Jx=Math.PI,Kx=2*Math.PI,Lx=180/Jx,Mx=1e-4,Nx={};Nx.brush=function(a){var b=a.style,c=a.__svgEl;c||(c=Vm("path"),a.__svgEl=c),a.path||a.createPathProxy();var d=a.path;if(a.__dirtyPath){d.beginPath(),a.buildPath(d,a.shape),a.__dirtyPath=!1;var e=cn(d);e.indexOf("NaN")<0&&_m(c,"d",e)}bn(c,b),$m(c,a.transform),null!=b.text&&Rx(a,a.getBoundingRect())};var Ox={};Ox.brush=function(a){var b=a.style,c=b.image;if(c instanceof HTMLImageElement&&(c=c.src),c){var d=b.x||0,e=b.y||0,f=b.width,g=b.height,h=a.__svgEl;h||(h=Vm("image"),a.__svgEl=h),c!==a.__imageSrc&&(an(h,"href",c),a.__imageSrc=c),_m(h,"width",f),_m(h,"height",g),_m(h,"x",d),_m(h,"y",e),$m(h,a.transform),null!=b.text&&Rx(a,a.getBoundingRect())}};var Px={},Qx=new Sb,Rx=function(a,b,c){var d=a.style;a.__dirty&&Ac(d);var e=d.text;if(null!=e){e+="";var f=a.__textSvgEl;if(f||(f=Vm("text"),a.__textSvgEl=f),bn(f,d,!0),a instanceof Iq||a.style.transformText)$m(f,a.transform);else if(a.transform)Qx.copy(b),Qx.applyTransform(a.transform),b=Qx;else{var g=a.transformCoordToGlobal(b.x,b.y);b.x=g[0],b.y=g[1]}var h,i,j=d.textPosition,k=d.textDistance,l=d.textAlign||"left";"number"==typeof d.fontSize&&(d.fontSize+="px");var m=d.font||[d.fontStyle||"",d.fontWeight||"",d.fontSize||"",d.fontFamily||""].join(" ")||Ro,n=dn(d.textVerticalAlign),o=(c=jc(e,m,l,n)).lineHeight;if(j instanceof Array)h=b.x+j[0],i=b.y+j[1];else{var p=oc(j,b,k);h=p.x,i=p.y,n=dn(p.textVerticalAlign),l=p.textAlign}_m(f,"alignment-baseline",n),m&&(f.style.font=m);var q=d.textPadding;_m(f,"x",h),_m(f,"y",i);var r=e.split("\n"),s=r.length,t=l;"left"===t?(t="start",q&&(h+=q[3])):"right"===t?(t="end",q&&(h-=q[1])):"center"===t&&(t="middle",q&&(h+=(q[3]-q[1])/2));var u=0;if("baseline"===n?(u=-c.height+o,q&&(u-=q[2])):"middle"===n?(u=(-c.height+o)/2,q&&(i+=(q[0]-q[2])/2)):q&&(u+=q[0]),a.__text!==e||a.__textFont!==m){var v=a.__tspanList||[];a.__tspanList=v;for(x=0;x<s;x++)(y=v[x])?y.innerHTML="":(y=v[x]=Vm("tspan"),f.appendChild(y),_m(y,"alignment-baseline",n),_m(y,"text-anchor",t)),_m(y,"x",h),_m(y,"y",i+x*o+u),y.appendChild(document.createTextNode(r[x]));for(;x<v.length;x++)f.removeChild(v[x]);v.length=s,a.__text=e,a.__textFont=m}else if(a.__tspanList.length)for(var w=a.__tspanList.length,x=0;x<w;++x){var y=a.__tspanList[x];y&&(_m(y,"x",h),_m(y,"y",i+x*o+u))}}};Px.drawRectText=Rx,Px.brush=function(a){var b=a.style;null!=b.text&&(b.textPosition=[0,0],Rx(a,{x:b.x||0,y:b.y||0,width:0,height:0},a.getBoundingRect()))},en.prototype={diff:function(a,b,c){c||(c=function(a,b){return a===b}),this.equals=c;var d=this;a=a.slice();var e=(b=b.slice()).length,f=a.length,g=1,h=e+f,i=[{newPos:-1,components:[]}],j=this.extractCommon(i[0],b,a,0);if(i[0].newPos+1>=e&&j+1>=f){for(var k=[],l=0;l<b.length;l++)k.push(l);return[{indices:k,count:b.length}]}for(;g<=h;){var m=function(){for(var c=-1*g;c<=g;c+=2){var h,j=i[c-1],k=i[c+1],l=(k?k.newPos:0)-c;j&&(i[c-1]=void 0);var m=j&&j.newPos+1<e,n=k&&0<=l&&l<f;if(m||n){if(!m||n&&j.newPos<k.newPos?(h=gn(k),d.pushComponent(h.components,void 0,!0)):((h=j).newPos++,d.pushComponent(h.components,!0,void 0)),l=d.extractCommon(h,b,a,c),h.newPos+1>=e&&l+1>=f)return fn(0,h.components);i[c]=h}else i[c]=void 0}g++}();if(m)return m}},pushComponent:function(a,b,c){var d=a[a.length-1];d&&d.added===b&&d.removed===c?a[a.length-1]={count:d.count+1,added:b,removed:c}:a.push({count:1,added:b,removed:c})},extractCommon:function(a,b,c,d){for(var e=b.length,f=c.length,g=a.newPos,h=g-d,i=0;g+1<e&&h+1<f&&this.equals(b[g+1],c[h+1]);)g++,h++,i++;return i&&a.components.push({count:i}),a.newPos=g,h},tokenize:function(a){return a.slice()},join:function(a){return a.slice()}};var Sx=new en,Tx=function(a,b,c){return Sx.diff(a,b,c)};hn.prototype.createElement=Vm,hn.prototype.getDefs=function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?((c=b.insertBefore(this.createElement("defs"),b.firstChild)).contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;d>=0;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]},hn.prototype.update=function(a,b){if(a){var c=this.getDefs(!1);if(a._dom&&c.contains(a._dom))"function"==typeof b&&b();else{var d=this.add(a);d&&(a._dom=d)}}},hn.prototype.addDom=function(a){this.getDefs(!0).appendChild(a)},hn.prototype.removeDom=function(a){this.getDefs(!1).removeChild(a._dom)},hn.prototype.getDoms=function(){var a=this.getDefs(!1);if(!a)return[];var b=[];return m(this._tagNames,function(c){var d=a.getElementsByTagName(c);b=b.concat([].slice.call(d))}),b},hn.prototype.markAllUnused=function(){var a=this;m(this.getDoms(),function(b){b[a._markLabel]="0"})},hn.prototype.markUsed=function(a){a&&(a[this._markLabel]="1")},hn.prototype.removeUnused=function(){var a=this.getDefs(!1);if(a){var b=this;m(this.getDoms(),function(c){"1"!==c[b._markLabel]&&a.removeChild(c)})}},hn.prototype.getSvgProxy=function(a){return a instanceof Ce?Nx:a instanceof Tc?Ox:a instanceof Iq?Px:Nx},hn.prototype.getTextSvgElement=function(a){return a.__textSvgEl},hn.prototype.getSvgElement=function(a){return a.__svgEl},j(jn,hn),jn.prototype.addWithoutUpdate=function(a,b){if(b&&b.style){var c=this;m(["fill","stroke"],function(d){if(b.style[d]&&("linear"===b.style[d].type||"radial"===b.style[d].type)){var e,f=b.style[d],g=c.getDefs(!0);f._dom?(e=f._dom,g.contains(f._dom)||c.addDom(e)):e=c.add(f),c.markUsed(b);var h=e.getAttribute("id");a.setAttribute(d,"url(#"+h+")")}})}},jn.prototype.add=function(a){var b;if("linear"===a.type)b=this.createElement("linearGradient");else{if("radial"!==a.type)return uo("Illegal gradient type."),null;b=this.createElement("radialGradient")}return a.id=a.id||this.nextId++,b.setAttribute("id","zr-gradient-"+a.id),this.updateDom(a,b),this.addDom(b),b},jn.prototype.update=function(a){var b=this;hn.prototype.update.call(this,a,function(){var c=a.type,d=a._dom.tagName;"linear"===c&&"linearGradient"===d||"radial"===c&&"radialGradient"===d?b.updateDom(a,a._dom):(b.removeDom(a),b.add(a))})},jn.prototype.updateDom=function(a,b){if("linear"===a.type)b.setAttribute("x1",a.x),b.setAttribute("y1",a.y),b.setAttribute("x2",a.x2),b.setAttribute("y2",a.y2);else{if("radial"!==a.type)return void uo("Illegal gradient type.");b.setAttribute("cx",a.x),b.setAttribute("cy",a.y),b.setAttribute("r",a.r)}a.global?b.setAttribute("gradientUnits","userSpaceOnUse"):b.setAttribute("gradientUnits","objectBoundingBox"),b.innerHTML="";for(var c=a.colorStops,d=0,e=c.length;d<e;++d){var f=this.createElement("stop");f.setAttribute("offset",100*c[d].offset+"%"),f.setAttribute("stop-color",c[d].color),b.appendChild(f)}a._dom=b},jn.prototype.markUsed=function(a){if(a.style){var b=a.style.fill;b&&b._dom&&hn.prototype.markUsed.call(this,b._dom),(b=a.style.stroke)&&b._dom&&hn.prototype.markUsed.call(this,b._dom)}},j(kn,hn),kn.prototype.update=function(a){var b=this.getSvgElement(a);b&&this.updateDom(b,a.__clipPaths,!1);var c=this.getTextSvgElement(a);c&&this.updateDom(c,a.__clipPaths,!0),this.markUsed(a)},kn.prototype.updateDom=function(a,b,c){if(b&&b.length>0){var d,e,f=this.getDefs(!0),g=b[0],h=c?"_textDom":"_dom";g[h]?(e=g[h].getAttribute("id"),d=g[h],f.contains(d)||f.appendChild(d)):(e="zr-clip-"+this.nextId,++this.nextId,(d=this.createElement("clipPath")).setAttribute("id",e),f.appendChild(d),g[h]=d);var i=this.getSvgProxy(g);if(g.transform&&g.parent.invTransform&&!c){var j=Array.prototype.slice.call(g.transform);fb(g.transform,g.parent.invTransform,g.transform),i.brush(g),g.transform=j}else i.brush(g);var k=this.getSvgElement(g);d.appendChild(k.cloneNode()),a.setAttribute("clip-path","url(#"+e+")"),b.length>1&&this.updateDom(d,b.slice(1),c)}else a&&a.setAttribute("clip-path","none")},kn.prototype.markUsed=function(a){var b=this;a.__clipPaths&&a.__clipPaths.length>0&&m(a.__clipPaths,function(a){a._dom&&hn.prototype.markUsed.call(b,a._dom),a._textDom&&hn.prototype.markUsed.call(b,a._textDom)})};var Ux=function(a,b){this.root=a,this.storage=b;var c=Vm("svg");c.setAttribute("xmlns","http://www.w3.org/2000/svg"),c.setAttribute("version","1.1"),c.setAttribute("baseProfile","full"),c.style["user-select"]="none",this.gradientManager=new jn(c),this.clipPathManager=new kn(c);var d=document.createElement("div");d.style.cssText="overflow: hidden;",this._svgRoot=c,this._viewport=d,a.appendChild(d),d.appendChild(c),this.resize(),this._visibleList=[]};Ux.prototype={constructor:Ux,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0);this._paintList(a)},_paintList:function(a){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused();var b,c=this._svgRoot,d=this._visibleList,e=a.length,f=[];for(b=0;b<e;b++){var g=mn(n=a[b]);n.invisible||(n.__dirty&&(g&&g.brush(n),this.clipPathManager.update(n),n.style&&(this.gradientManager.update(n.style.fill),this.gradientManager.update(n.style.stroke)),n.__dirty=!1),f.push(n))}var h,i=Tx(d,f);for(b=0;b<i.length;b++)if((l=i[b]).removed)for(m=0;m<l.count;m++){var j=sn(n=d[l.indices[m]]),k=rn(n);qn(c,j),qn(c,k)}for(b=0;b<i.length;b++){var l=i[b];if(l.added)for(m=0;m<l.count;m++){var j=sn(n=f[l.indices[m]]),k=rn(n);h?on(c,j,h):pn(c,j),j?on(c,k,j):h?on(c,k,h):pn(c,k),on(c,k,j),h=k||j||h,this.gradientManager.addWithoutUpdate(j,n),this.clipPathManager.markUsed(n)}else if(!l.removed)for(var m=0;m<l.count;m++){var n=f[l.indices[m]];h=j=rn(n)||sn(n)||h,this.gradientManager.markUsed(n),this.gradientManager.addWithoutUpdate(j,n),this.clipPathManager.markUsed(n)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this._visibleList=f},_getDefs:function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?((c=b.insertBefore(Vm("defs"),b.firstChild)).contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;d>=0;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]},resize:function(){var a=this._getWidth(),b=this._getHeight();if(this._width!==a&&this._height!==b){this._width=a,this._height=b;var c=this._viewport.style;c.width=a+"px",c.height=b+"px";var d=this._svgRoot;d.setAttribute("width",a),d.setAttribute("height",b)}},getWidth:function(){return this._getWidth()},getHeight:function(){return this._getHeight()},_getWidth:function(){var a=this.root,b=document.defaultView.getComputedStyle(a);return(a.clientWidth||ln(b.width))-ln(b.paddingLeft)-ln(b.paddingRight)|0},_getHeight:function(){var a=this.root,b=document.defaultView.getComputedStyle(a);return(a.clientHeight||ln(b.height))-ln(b.paddingTop)-ln(b.paddingBottom)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){this.refresh();var a=this._svgRoot.outerHTML;return"data:img/svg+xml;utf-8,"+unescape(a)}},m(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(a){Ux.prototype[a]=tn(a)}),qd("svg",Ux),a.version="3.8.4",a.dependencies=fs,a.PRIORITY=js,a.init=function(a,b,c){var d=Rg(a);if(d)return d;var e=new yg(a,b,c);return e.id="ec_"+As++,ys[e.id]=e,a.setAttribute?a.setAttribute(Cs,e.id):a[Cs]=e.id,Pg(e),e},a.connect=function(a){if(s(a)){var b=a;a=null,m(b,function(b){null!=b.group&&(a=b.group)}),a=a||"g_"+Bs++,m(b,function(b){b.group=a})}return zs[a]=!0,a},a.disConnect=Qg,a.disconnect=Es,a.dispose=function(a){"string"==typeof a?a=ys[a]:a instanceof yg||(a=Rg(a)),a instanceof yg&&!a.isDisposed()&&a.dispose()},a.getInstanceByDom=Rg,a.getInstanceById=function(a){return ys[a]},a.registerTheme=function(a,b){ws[a]=b},a.registerPreprocessor=Sg,a.registerProcessor=Tg,a.registerPostUpdate=function(a){us.push(a)},a.registerAction=Ug,a.registerCoordinateSystem=function(a,b){ag.register(a,b)},a.getCoordinateSystemDimensions=function(a){var b=ag.get(a);if(b)return b.getDimensionsInfo?b.getDimensionsInfo():b.dimensions.slice()},a.registerLayout=Vg,a.registerVisual=Wg,a.registerLoading=Xg,a.extendComponentModel=Yg,a.extendComponentView=Zg,a.extendSeriesModel=$g,a.extendChartView=_g,a.setCanvasCreator=function(a){b("createCanvas",a)},a.registerMap=function(a,b,c){b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson),"string"==typeof b&&(b="undefined"!=typeof JSON&&JSON.parse?JSON.parse(b):(new Function("return ("+b+");"))()),Ds[a]={geoJson:b,specialAreas:c}},a.getMap=function(a){return Ds[a]},a.dataTool=Fs,a.zrender=op,a.graphic=dr,a.number=rp,a.format=yp,a.throttle=tg,a.helper=tt,a.matrix=Yn,a.vector=Rn,a.color=oo,a.util=yt,a.List=Ks,a.Model=xf,a.Axis=wt,a.env=xn,a.parseGeoJson=function(a){return Jh(a),n(p(a.features,function(a){return a.geometry&&a.properties&&a.geometry.coordinates.length>0}),function(a){var b=a.properties,c=a.geometry,d=c.coordinates,e=[];"Polygon"===c.type&&e.push({type:"polygon",exterior:d[0],interiors:d.slice(1)}),"MultiPolygon"===c.type&&m(d,function(a){a[0]&&e.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})});var f=new Ih(b.name,e,b.cp);return f.properties=b,f})}})